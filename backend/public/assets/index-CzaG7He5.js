var Fh=e=>{throw TypeError(e)};var ic=(e,t,r)=>t.has(e)||Fh("Cannot "+r);var T=(e,t,r)=>(ic(e,t,"read from private field"),r?r.call(e):t.get(e)),le=(e,t,r)=>t.has(e)?Fh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),re=(e,t,r,n)=>(ic(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),he=(e,t,r)=>(ic(e,t,"access private method"),r);var to=(e,t,r,n)=>({set _(a){re(e,t,a,r)},get _(){return T(e,t,n)}});function l1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function c1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ux={exports:{}},El={},mx={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),d1=Symbol.for("react.portal"),u1=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),h1=Symbol.for("react.profiler"),p1=Symbol.for("react.provider"),f1=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),g1=Symbol.for("react.suspense"),y1=Symbol.for("react.memo"),v1=Symbol.for("react.lazy"),Ph=Symbol.iterator;function b1(e){return e===null||typeof e!="object"?null:(e=Ph&&e[Ph]||e["@@iterator"],typeof e=="function"?e:null)}var hx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},px=Object.assign,fx={};function ha(e,t,r){this.props=e,this.context=t,this.refs=fx,this.updater=r||hx}ha.prototype.isReactComponent={};ha.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xx(){}xx.prototype=ha.prototype;function Ru(e,t,r){this.props=e,this.context=t,this.refs=fx,this.updater=r||hx}var Du=Ru.prototype=new xx;Du.constructor=Ru;px(Du,ha.prototype);Du.isPureReactComponent=!0;var Ah=Array.isArray,gx=Object.prototype.hasOwnProperty,Ou={current:null},yx={key:!0,ref:!0,__self:!0,__source:!0};function vx(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)gx.call(t,n)&&!yx.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:zi,type:e,key:i,ref:o,props:a,_owner:Ou.current}}function j1(e,t){return{$$typeof:zi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===zi}function w1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Eh=/\/+/g;function oc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w1(""+e.key):t.toString(36)}function Fo(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zi:case d1:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+oc(o,0):n,Ah(a)?(r="",e!=null&&(r=e.replace(Eh,"$&/")+"/"),Fo(a,t,r,"",function(d){return d})):a!=null&&(zu(a)&&(a=j1(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Eh,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Ah(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+oc(i,l);o+=Fo(i,t,r,c,a)}else if(c=b1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+oc(i,l++),o+=Fo(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function so(e,t,r){if(e==null)return e;var n=[],a=0;return Fo(e,n,"","",function(i){return t.call(r,i,a++)}),n}function N1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},Po={transition:null},_1={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Po,ReactCurrentOwner:Ou};function bx(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:so,forEach:function(e,t,r){so(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=ha;pe.Fragment=u1;pe.Profiler=h1;pe.PureComponent=Ru;pe.StrictMode=m1;pe.Suspense=g1;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_1;pe.act=bx;pe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=px({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ou.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gx.call(t,c)&&!yx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:zi,type:e.type,key:a,ref:i,props:n,_owner:o}};pe.createContext=function(e){return e={$$typeof:f1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p1,_context:e},e.Consumer=e};pe.createElement=vx;pe.createFactory=function(e){var t=vx.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:x1,render:e}};pe.isValidElement=zu;pe.lazy=function(e){return{$$typeof:v1,_payload:{_status:-1,_result:e},_init:N1}};pe.memo=function(e,t){return{$$typeof:y1,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Po.transition;Po.transition={};try{e()}finally{Po.transition=t}};pe.unstable_act=bx;pe.useCallback=function(e,t){return bt.current.useCallback(e,t)};pe.useContext=function(e){return bt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return bt.current.useEffect(e,t)};pe.useId=function(){return bt.current.useId()};pe.useImperativeHandle=function(e,t,r){return bt.current.useImperativeHandle(e,t,r)};pe.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return bt.current.useMemo(e,t)};pe.useReducer=function(e,t,r){return bt.current.useReducer(e,t,r)};pe.useRef=function(e){return bt.current.useRef(e)};pe.useState=function(e){return bt.current.useState(e)};pe.useSyncExternalStore=function(e,t,r){return bt.current.useSyncExternalStore(e,t,r)};pe.useTransition=function(){return bt.current.useTransition()};pe.version="18.3.1";mx.exports=pe;var j=mx.exports;const ut=c1(j),k1=l1({__proto__:null,default:ut},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1=j,C1=Symbol.for("react.element"),F1=Symbol.for("react.fragment"),P1=Object.prototype.hasOwnProperty,A1=S1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E1={key:!0,ref:!0,__self:!0,__source:!0};function jx(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)P1.call(t,n)&&!E1.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:C1,type:e,key:i,ref:o,props:a,_owner:A1.current}}El.Fragment=F1;El.jsx=jx;El.jsxs=jx;ux.exports=El;var s=ux.exports,wx={exports:{}},Ot={},Nx={exports:{}},_x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,k){var B=I.length;I.push(k);e:for(;0<B;){var z=B-1>>>1,L=I[z];if(0<a(L,k))I[z]=k,I[B]=L,B=z;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var k=I[0],B=I.pop();if(B!==k){I[0]=B;e:for(var z=0,L=I.length,J=L>>>1;z<J;){var A=2*(z+1)-1,H=I[A],ae=A+1,ye=I[ae];if(0>a(H,B))ae<L&&0>a(ye,H)?(I[z]=ye,I[ae]=B,z=ae):(I[z]=H,I[A]=B,z=A);else if(ae<L&&0>a(ye,B))I[z]=ye,I[ae]=B,z=ae;else break e}}return k}function a(I,k){var B=I.sortIndex-k.sortIndex;return B!==0?B:I.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,v=!1,g=!1,b=!1,f=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var k=r(d);k!==null;){if(k.callback===null)n(d);else if(k.startTime<=I)n(d),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(d)}}function _(I){if(b=!1,x(I),!g)if(r(c)!==null)g=!0,N(w);else{var k=r(d);k!==null&&F(_,k.startTime-I)}}function w(I,k){g=!1,b&&(b=!1,p(C),C=-1),v=!0;var B=h;try{for(x(k),m=r(c);m!==null&&(!(m.expirationTime>k)||I&&!Y());){var z=m.callback;if(typeof z=="function"){m.callback=null,h=m.priorityLevel;var L=z(m.expirationTime<=k);k=e.unstable_now(),typeof L=="function"?m.callback=L:m===r(c)&&n(c),x(k)}else n(c);m=r(c)}if(m!==null)var J=!0;else{var A=r(d);A!==null&&F(_,A.startTime-k),J=!1}return J}finally{m=null,h=B,v=!1}}var S=!1,P=null,C=-1,R=5,$=-1;function Y(){return!(e.unstable_now()-$<R)}function O(){if(P!==null){var I=e.unstable_now();$=I;var k=!0;try{k=P(!0,I)}finally{k?D():(S=!1,P=null)}}else S=!1}var D;if(typeof y=="function")D=function(){y(O)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,G=Z.port2;Z.port1.onmessage=O,D=function(){G.postMessage(null)}}else D=function(){f(O,0)};function N(I){P=I,S||(S=!0,D())}function F(I,k){C=f(function(){I(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,N(w))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var B=h;h=k;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return k()}finally{h=B}},e.unstable_scheduleCallback=function(I,k,B){var z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?z+B:z):B=z,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=B+L,I={id:u++,callback:k,priorityLevel:I,startTime:B,expirationTime:L,sortIndex:-1},B>z?(I.sortIndex=B,t(d,I),r(c)===null&&I===r(d)&&(b?(p(C),C=-1):b=!0,F(_,B-z))):(I.sortIndex=L,t(c,I),g||v||(g=!0,N(w))),I},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(I){var k=h;return function(){var B=h;h=k;try{return I.apply(this,arguments)}finally{h=B}}}})(_x);Nx.exports=_x;var T1=Nx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=j,Rt=T1;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kx=new Set,ci={};function hn(e,t){sa(e,t),sa(e+"Capture",t)}function sa(e,t){for(ci[e]=t,e=0;e<t.length;e++)kx.add(t[e])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ed=Object.prototype.hasOwnProperty,M1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Th={},Lh={};function R1(e){return ed.call(Lh,e)?!0:ed.call(Th,e)?!1:M1.test(e)?Lh[e]=!0:(Th[e]=!0,!1)}function D1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O1(e,t,r,n){if(t===null||typeof t>"u"||D1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bu=/[\-:]([a-z])/g;function Iu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bu,Iu);at[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bu,Iu);at[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bu,Iu);at[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,r,n){var a=at.hasOwnProperty(t)?at[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O1(t,r,a,n)&&(r=null),n||a===null?R1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Is=L1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=Symbol.for("react.element"),bn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),td=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),Cx=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),sd=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),Uu=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),Fx=Symbol.for("react.offscreen"),Mh=Symbol.iterator;function Ca(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,lc;function Ia(e){if(lc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lc=t&&t[1]||""}return`
`+lc+e}var cc=!1;function dc(e,t){if(!e||cc)return"";cc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{cc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ia(e):""}function z1(e){switch(e.tag){case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return e=dc(e.type,!1),e;case 11:return e=dc(e.type.render,!1),e;case 1:return e=dc(e.type,!0),e;default:return""}}function nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case bn:return"Portal";case td:return"Profiler";case Vu:return"StrictMode";case sd:return"Suspense";case rd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cx:return(e.displayName||"Context")+".Consumer";case Sx:return(e._context.displayName||"Context")+".Provider";case qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uu:return t=e.displayName||null,t!==null?t:nd(e.type)||"Memo";case Ys:t=e._payload,e=e._init;try{return nd(e(t))}catch{}}return null}function B1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(t);case 8:return t===Vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Px(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I1(e){var t=Px(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function no(e){e._valueTracker||(e._valueTracker=I1(e))}function Ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Px(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ad(e,t){var r=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Rh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ex(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function id(e,t){Ex(e,t);var r=Nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?od(e,t.type,r):t.hasOwnProperty("defaultValue")&&od(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function od(e,t,r){(t!=="number"||Go(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $a=Array.isArray;function On(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ld(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if($a(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nr(r)}}function Tx(e,t){var r=Nr(t.value),n=Nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,Mx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function di(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$1=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(e){$1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ka[t]=Ka[e]})});function Rx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ka.hasOwnProperty(e)&&Ka[e]?(""+t).trim():t+"px"}function Dx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Rx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var V1=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dd(e,t){if(t){if(V1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function ud(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=null;function Wu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hd=null,zn=null,Bn=null;function Bh(e){if(e=$i(e)){if(typeof hd!="function")throw Error(se(280));var t=e.stateNode;t&&(t=Dl(t),hd(e.stateNode,e.type,t))}}function Ox(e){zn?Bn?Bn.push(e):Bn=[e]:zn=e}function zx(){if(zn){var e=zn,t=Bn;if(Bn=zn=null,Bh(e),t)for(e=0;e<t.length;e++)Bh(t[e])}}function Bx(e,t){return e(t)}function Ix(){}var uc=!1;function $x(e,t,r){if(uc)return e(t,r);uc=!0;try{return Bx(e,t,r)}finally{uc=!1,(zn!==null||Bn!==null)&&(Ix(),zx())}}function ui(e,t){var r=e.stateNode;if(r===null)return null;var n=Dl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var pd=!1;if(Ds)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){pd=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{pd=!1}function q1(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ga=!1,Yo=null,Jo=!1,fd=null,U1={onError:function(e){Ga=!0,Yo=e}};function W1(e,t,r,n,a,i,o,l,c){Ga=!1,Yo=null,q1.apply(U1,arguments)}function H1(e,t,r,n,a,i,o,l,c){if(W1.apply(this,arguments),Ga){if(Ga){var d=Yo;Ga=!1,Yo=null}else throw Error(se(198));Jo||(Jo=!0,fd=d)}}function pn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ih(e){if(pn(e)!==e)throw Error(se(188))}function Q1(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(se(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ih(a),e;if(i===n)return Ih(a),t;i=i.sibling}throw Error(se(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?e:t}function qx(e){return e=Q1(e),e!==null?Ux(e):null}function Ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ux(e);if(t!==null)return t;e=e.sibling}return null}var Wx=Rt.unstable_scheduleCallback,$h=Rt.unstable_cancelCallback,K1=Rt.unstable_shouldYield,G1=Rt.unstable_requestPaint,qe=Rt.unstable_now,Y1=Rt.unstable_getCurrentPriorityLevel,Hu=Rt.unstable_ImmediatePriority,Hx=Rt.unstable_UserBlockingPriority,Xo=Rt.unstable_NormalPriority,J1=Rt.unstable_LowPriority,Qx=Rt.unstable_IdlePriority,Tl=null,fs=null;function X1(e){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Tl,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:tj,Z1=Math.log,ej=Math.LN2;function tj(e){return e>>>=0,e===0?32:31-(Z1(e)/ej|0)|0}var io=64,oo=4194304;function Va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Va(l):(i&=o,i!==0&&(n=Va(i)))}else o=r&~a,o!==0?n=Va(o):i!==0&&(n=Va(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ss(t),a=1<<r,n|=e[r],t&=~a;return n}function sj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ss(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=sj(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kx(){var e=io;return io<<=1,!(io&4194240)&&(io=64),e}function mc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=r}function nj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ss(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Qu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ss(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var we=0;function Gx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yx,Ku,Jx,Xx,Zx,gd=!1,lo=[],hr=null,pr=null,fr=null,mi=new Map,hi=new Map,Xs=[],aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(t.pointerId)}}function Pa(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$i(t),t!==null&&Ku(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ij(e,t,r,n,a){switch(t){case"focusin":return hr=Pa(hr,e,t,r,n,a),!0;case"dragenter":return pr=Pa(pr,e,t,r,n,a),!0;case"mouseover":return fr=Pa(fr,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return mi.set(i,Pa(mi.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,hi.set(i,Pa(hi.get(i)||null,e,t,r,n,a)),!0}return!1}function eg(e){var t=Dr(e.target);if(t!==null){var r=pn(t);if(r!==null){if(t=r.tag,t===13){if(t=Vx(r),t!==null){e.blockedOn=t,Zx(e.priority,function(){Jx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=yd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);md=n,r.target.dispatchEvent(n),md=null}else return t=$i(r),t!==null&&Ku(t),e.blockedOn=r,!1;t.shift()}return!0}function qh(e,t,r){Ao(e)&&r.delete(t)}function oj(){gd=!1,hr!==null&&Ao(hr)&&(hr=null),pr!==null&&Ao(pr)&&(pr=null),fr!==null&&Ao(fr)&&(fr=null),mi.forEach(qh),hi.forEach(qh)}function Aa(e,t){e.blockedOn===t&&(e.blockedOn=null,gd||(gd=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,oj)))}function pi(e){function t(a){return Aa(a,e)}if(0<lo.length){Aa(lo[0],e);for(var r=1;r<lo.length;r++){var n=lo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hr!==null&&Aa(hr,e),pr!==null&&Aa(pr,e),fr!==null&&Aa(fr,e),mi.forEach(t),hi.forEach(t),r=0;r<Xs.length;r++)n=Xs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)eg(r),r.blockedOn===null&&Xs.shift()}var In=Is.ReactCurrentBatchConfig,el=!0;function lj(e,t,r,n){var a=we,i=In.transition;In.transition=null;try{we=1,Gu(e,t,r,n)}finally{we=a,In.transition=i}}function cj(e,t,r,n){var a=we,i=In.transition;In.transition=null;try{we=4,Gu(e,t,r,n)}finally{we=a,In.transition=i}}function Gu(e,t,r,n){if(el){var a=yd(e,t,r,n);if(a===null)wc(e,t,n,tl,r),Vh(e,n);else if(ij(a,e,t,r,n))n.stopPropagation();else if(Vh(e,n),t&4&&-1<aj.indexOf(e)){for(;a!==null;){var i=$i(a);if(i!==null&&Yx(i),i=yd(e,t,r,n),i===null&&wc(e,t,n,tl,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else wc(e,t,n,null,r)}}var tl=null;function yd(e,t,r,n){if(tl=null,e=Wu(n),e=Dr(e),e!==null)if(t=pn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vx(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function tg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y1()){case Hu:return 1;case Hx:return 4;case Xo:case J1:return 16;case Qx:return 536870912;default:return 16}default:return 16}}var cr=null,Yu=null,Eo=null;function sg(){if(Eo)return Eo;var e,t=Yu,r=t.length,n,a="value"in cr?cr.value:cr.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Eo=a.slice(e,1<n?1-n:void 0)}function To(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function co(){return!0}function Uh(){return!1}function zt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?co:Uh,this.isPropagationStopped=Uh,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ju=zt(pa),Ii=Re({},pa,{view:0,detail:0}),dj=zt(Ii),hc,pc,Ea,Ll=Re({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(hc=e.screenX-Ea.screenX,pc=e.screenY-Ea.screenY):pc=hc=0,Ea=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:pc}}),Wh=zt(Ll),uj=Re({},Ll,{dataTransfer:0}),mj=zt(uj),hj=Re({},Ii,{relatedTarget:0}),fc=zt(hj),pj=Re({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),fj=zt(pj),xj=Re({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gj=zt(xj),yj=Re({},pa,{data:0}),Hh=zt(yj),vj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jj[e])?!!t[e]:!1}function Xu(){return wj}var Nj=Re({},Ii,{key:function(e){if(e.key){var t=vj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=To(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(e){return e.type==="keypress"?To(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?To(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_j=zt(Nj),kj=Re({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=zt(kj),Sj=Re({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Cj=zt(Sj),Fj=Re({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pj=zt(Fj),Aj=Re({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ej=zt(Aj),Tj=[9,13,27,32],Zu=Ds&&"CompositionEvent"in window,Ya=null;Ds&&"documentMode"in document&&(Ya=document.documentMode);var Lj=Ds&&"TextEvent"in window&&!Ya,rg=Ds&&(!Zu||Ya&&8<Ya&&11>=Ya),Kh=" ",Gh=!1;function ng(e,t){switch(e){case"keyup":return Tj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function Mj(e,t){switch(e){case"compositionend":return ag(t);case"keypress":return t.which!==32?null:(Gh=!0,Kh);case"textInput":return e=t.data,e===Kh&&Gh?null:e;default:return null}}function Rj(e,t){if(wn)return e==="compositionend"||!Zu&&ng(e,t)?(e=sg(),Eo=Yu=cr=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rg&&t.locale!=="ko"?null:t.data;default:return null}}var Dj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dj[e.type]:t==="textarea"}function ig(e,t,r,n){Ox(n),t=sl(t,"onChange"),0<t.length&&(r=new Ju("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ja=null,fi=null;function Oj(e){gg(e,0)}function Ml(e){var t=kn(e);if(Ax(t))return e}function zj(e,t){if(e==="change")return t}var og=!1;if(Ds){var xc;if(Ds){var gc="oninput"in document;if(!gc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),gc=typeof Jh.oninput=="function"}xc=gc}else xc=!1;og=xc&&(!document.documentMode||9<document.documentMode)}function Xh(){Ja&&(Ja.detachEvent("onpropertychange",lg),fi=Ja=null)}function lg(e){if(e.propertyName==="value"&&Ml(fi)){var t=[];ig(t,fi,e,Wu(e)),$x(Oj,t)}}function Bj(e,t,r){e==="focusin"?(Xh(),Ja=t,fi=r,Ja.attachEvent("onpropertychange",lg)):e==="focusout"&&Xh()}function Ij(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(fi)}function $j(e,t){if(e==="click")return Ml(t)}function Vj(e,t){if(e==="input"||e==="change")return Ml(t)}function qj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ns=typeof Object.is=="function"?Object.is:qj;function xi(e,t){if(ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ed.call(t,a)||!ns(e[a],t[a]))return!1}return!0}function Zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,t){var r=Zh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zh(r)}}function cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dg(){for(var e=window,t=Go();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Go(e.document)}return t}function em(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uj(e){var t=dg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cg(r.ownerDocument.documentElement,r)){if(n!==null&&em(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ep(r,i);var o=ep(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wj=Ds&&"documentMode"in document&&11>=document.documentMode,Nn=null,vd=null,Xa=null,bd=!1;function tp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bd||Nn==null||Nn!==Go(n)||(n=Nn,"selectionStart"in n&&em(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xa&&xi(Xa,n)||(Xa=n,n=sl(vd,"onSelect"),0<n.length&&(t=new Ju("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nn)))}function uo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _n={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},yc={},ug={};Ds&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Rl(e){if(yc[e])return yc[e];if(!_n[e])return e;var t=_n[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ug)return yc[e]=t[r];return e}var mg=Rl("animationend"),hg=Rl("animationiteration"),pg=Rl("animationstart"),fg=Rl("transitionend"),xg=new Map,sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){xg.set(e,t),hn(t,[e])}for(var vc=0;vc<sp.length;vc++){var bc=sp[vc],Hj=bc.toLowerCase(),Qj=bc[0].toUpperCase()+bc.slice(1);Sr(Hj,"on"+Qj)}Sr(mg,"onAnimationEnd");Sr(hg,"onAnimationIteration");Sr(pg,"onAnimationStart");Sr("dblclick","onDoubleClick");Sr("focusin","onFocus");Sr("focusout","onBlur");Sr(fg,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function rp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,H1(n,t,void 0,e),e.currentTarget=null}function gg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;rp(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;rp(a,l,d),i=c}}}if(Jo)throw e=fd,Jo=!1,fd=null,e}function Pe(e,t){var r=t[kd];r===void 0&&(r=t[kd]=new Set);var n=e+"__bubble";r.has(n)||(yg(t,e,2,!1),r.add(n))}function jc(e,t,r){var n=0;t&&(n|=4),yg(r,e,n,t)}var mo="_reactListening"+Math.random().toString(36).slice(2);function gi(e){if(!e[mo]){e[mo]=!0,kx.forEach(function(r){r!=="selectionchange"&&(Kj.has(r)||jc(r,!1,e),jc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mo]||(t[mo]=!0,jc("selectionchange",!1,t))}}function yg(e,t,r,n){switch(tg(t)){case 1:var a=lj;break;case 4:a=cj;break;default:a=Gu}r=a.bind(null,t,r,e),a=void 0,!pd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function wc(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Dr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$x(function(){var d=i,u=Wu(r),m=[];e:{var h=xg.get(e);if(h!==void 0){var v=Ju,g=e;switch(e){case"keypress":if(To(r)===0)break e;case"keydown":case"keyup":v=_j;break;case"focusin":g="focus",v=fc;break;case"focusout":g="blur",v=fc;break;case"beforeblur":case"afterblur":v=fc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Cj;break;case mg:case hg:case pg:v=fj;break;case fg:v=Pj;break;case"scroll":v=dj;break;case"wheel":v=Ej;break;case"copy":case"cut":case"paste":v=gj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Qh}var b=(t&4)!==0,f=!b&&e==="scroll",p=b?h!==null?h+"Capture":null:h;b=[];for(var y=d,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,p!==null&&(_=ui(y,p),_!=null&&b.push(yi(y,_,x)))),f)break;y=y.return}0<b.length&&(h=new v(h,g,null,r,u),m.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==md&&(g=r.relatedTarget||r.fromElement)&&(Dr(g)||g[Os]))break e;if((v||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=d,g=g?Dr(g):null,g!==null&&(f=pn(g),g!==f||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=d),v!==g)){if(b=Wh,_="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=Qh,_="onPointerLeave",p="onPointerEnter",y="pointer"),f=v==null?h:kn(v),x=g==null?h:kn(g),h=new b(_,y+"leave",v,r,u),h.target=f,h.relatedTarget=x,_=null,Dr(u)===d&&(b=new b(p,y+"enter",g,r,u),b.target=x,b.relatedTarget=f,_=b),f=_,v&&g)t:{for(b=v,p=g,y=0,x=b;x;x=yn(x))y++;for(x=0,_=p;_;_=yn(_))x++;for(;0<y-x;)b=yn(b),y--;for(;0<x-y;)p=yn(p),x--;for(;y--;){if(b===p||p!==null&&b===p.alternate)break t;b=yn(b),p=yn(p)}b=null}else b=null;v!==null&&np(m,h,v,b,!1),g!==null&&f!==null&&np(m,f,g,b,!0)}}e:{if(h=d?kn(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var w=zj;else if(Yh(h))if(og)w=Vj;else{w=Ij;var S=Bj}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=$j);if(w&&(w=w(e,d))){ig(m,w,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&od(h,"number",h.value)}switch(S=d?kn(d):window,e){case"focusin":(Yh(S)||S.contentEditable==="true")&&(Nn=S,vd=d,Xa=null);break;case"focusout":Xa=vd=Nn=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,tp(m,r,u);break;case"selectionchange":if(Wj)break;case"keydown":case"keyup":tp(m,r,u)}var P;if(Zu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wn?ng(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(rg&&r.locale!=="ko"&&(wn||C!=="onCompositionStart"?C==="onCompositionEnd"&&wn&&(P=sg()):(cr=u,Yu="value"in cr?cr.value:cr.textContent,wn=!0)),S=sl(d,C),0<S.length&&(C=new Hh(C,e,null,r,u),m.push({event:C,listeners:S}),P?C.data=P:(P=ag(r),P!==null&&(C.data=P)))),(P=Lj?Mj(e,r):Rj(e,r))&&(d=sl(d,"onBeforeInput"),0<d.length&&(u=new Hh("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=P))}gg(m,t)})}function yi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ui(e,r),i!=null&&n.unshift(yi(e,i,a)),i=ui(e,t),i!=null&&n.push(yi(e,i,a))),e=e.return}return n}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function np(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=ui(r,i),c!=null&&o.unshift(yi(r,c,l))):a||(c=ui(r,i),c!=null&&o.push(yi(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Gj=/\r\n?/g,Yj=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(Gj,`
`).replace(Yj,"")}function ho(e,t,r){if(t=ap(t),ap(e)!==t&&r)throw Error(se(425))}function rl(){}var jd=null,wd=null;function Nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,Jj=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,Xj=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(e){return ip.resolve(null).then(e).catch(Zj)}:_d;function Zj(e){setTimeout(function(){throw e})}function Nc(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),pi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);pi(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function op(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),hs="__reactFiber$"+fa,vi="__reactProps$"+fa,Os="__reactContainer$"+fa,kd="__reactEvents$"+fa,e2="__reactListeners$"+fa,t2="__reactHandles$"+fa;function Dr(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Os]||r[hs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=op(e);e!==null;){if(r=e[hs])return r;e=op(e)}return t}e=r,r=e.parentNode}return null}function $i(e){return e=e[hs]||e[Os],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function Dl(e){return e[vi]||null}var Sd=[],Sn=-1;function Cr(e){return{current:e}}function Ae(e){0>Sn||(e.current=Sd[Sn],Sd[Sn]=null,Sn--)}function Se(e,t){Sn++,Sd[Sn]=e.current,e.current=t}var _r={},mt=Cr(_r),Ct=Cr(!1),sn=_r;function ra(e,t){var r=e.type.contextTypes;if(!r)return _r;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ft(e){return e=e.childContextTypes,e!=null}function nl(){Ae(Ct),Ae(mt)}function lp(e,t,r){if(mt.current!==_r)throw Error(se(168));Se(mt,t),Se(Ct,r)}function vg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(se(108,B1(e)||"Unknown",a));return Re({},r,n)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_r,sn=mt.current,Se(mt,e),Se(Ct,Ct.current),!0}function cp(e,t,r){var n=e.stateNode;if(!n)throw Error(se(169));r?(e=vg(e,t,sn),n.__reactInternalMemoizedMergedChildContext=e,Ae(Ct),Ae(mt),Se(mt,e)):Ae(Ct),Se(Ct,r)}var ks=null,Ol=!1,_c=!1;function bg(e){ks===null?ks=[e]:ks.push(e)}function s2(e){Ol=!0,bg(e)}function Fr(){if(!_c&&ks!==null){_c=!0;var e=0,t=we;try{var r=ks;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ks=null,Ol=!1}catch(a){throw ks!==null&&(ks=ks.slice(e+1)),Wx(Hu,Fr),a}finally{we=t,_c=!1}}return null}var Cn=[],Fn=0,il=null,ol=0,qt=[],Ut=0,rn=null,As=1,Es="";function Tr(e,t){Cn[Fn++]=ol,Cn[Fn++]=il,il=e,ol=t}function jg(e,t,r){qt[Ut++]=As,qt[Ut++]=Es,qt[Ut++]=rn,rn=e;var n=As;e=Es;var a=32-ss(n)-1;n&=~(1<<a),r+=1;var i=32-ss(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,As=1<<32-ss(t)+a|r<<a|n,Es=i+e}else As=1<<i|r<<a|n,Es=e}function tm(e){e.return!==null&&(Tr(e,1),jg(e,1,0))}function sm(e){for(;e===il;)il=Cn[--Fn],Cn[Fn]=null,ol=Cn[--Fn],Cn[Fn]=null;for(;e===rn;)rn=qt[--Ut],qt[Ut]=null,Es=qt[--Ut],qt[Ut]=null,As=qt[--Ut],qt[Ut]=null}var Mt=null,Lt=null,Ee=!1,ts=null;function wg(e,t){var r=Wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rn!==null?{id:As,overflow:Es}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mt=e,Lt=null,!0):!1;default:return!1}}function Cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fd(e){if(Ee){var t=Lt;if(t){var r=t;if(!dp(e,t)){if(Cd(e))throw Error(se(418));t=xr(r.nextSibling);var n=Mt;t&&dp(e,t)?wg(n,r):(e.flags=e.flags&-4097|2,Ee=!1,Mt=e)}}else{if(Cd(e))throw Error(se(418));e.flags=e.flags&-4097|2,Ee=!1,Mt=e}}}function up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function po(e){if(e!==Mt)return!1;if(!Ee)return up(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nd(e.type,e.memoizedProps)),t&&(t=Lt)){if(Cd(e))throw Ng(),Error(se(418));for(;t;)wg(e,t),t=xr(t.nextSibling)}if(up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Lt=xr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Mt?xr(e.stateNode.nextSibling):null;return!0}function Ng(){for(var e=Lt;e;)e=xr(e.nextSibling)}function na(){Lt=Mt=null,Ee=!1}function rm(e){ts===null?ts=[e]:ts.push(e)}var r2=Is.ReactCurrentBatchConfig;function Ta(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,e))}return e}function fo(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mp(e){var t=e._init;return t(e._payload)}function _g(e){function t(p,y){if(e){var x=p.deletions;x===null?(p.deletions=[y],p.flags|=16):x.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function a(p,y){return p=br(p,y),p.index=0,p.sibling=null,p}function i(p,y,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<y?(p.flags|=2,y):x):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,x,_){return y===null||y.tag!==6?(y=Ec(x,p.mode,_),y.return=p,y):(y=a(y,x),y.return=p,y)}function c(p,y,x,_){var w=x.type;return w===jn?u(p,y,x.props.children,_,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ys&&mp(w)===y.type)?(_=a(y,x.props),_.ref=Ta(p,y,x),_.return=p,_):(_=Bo(x.type,x.key,x.props,null,p.mode,_),_.ref=Ta(p,y,x),_.return=p,_)}function d(p,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Tc(x,p.mode,_),y.return=p,y):(y=a(y,x.children||[]),y.return=p,y)}function u(p,y,x,_,w){return y===null||y.tag!==7?(y=Zr(x,p.mode,_,w),y.return=p,y):(y=a(y,x),y.return=p,y)}function m(p,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ec(""+y,p.mode,x),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ro:return x=Bo(y.type,y.key,y.props,null,p.mode,x),x.ref=Ta(p,null,y),x.return=p,x;case bn:return y=Tc(y,p.mode,x),y.return=p,y;case Ys:var _=y._init;return m(p,_(y._payload),x)}if($a(y)||Ca(y))return y=Zr(y,p.mode,x,null),y.return=p,y;fo(p,y)}return null}function h(p,y,x,_){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:l(p,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ro:return x.key===w?c(p,y,x,_):null;case bn:return x.key===w?d(p,y,x,_):null;case Ys:return w=x._init,h(p,y,w(x._payload),_)}if($a(x)||Ca(x))return w!==null?null:u(p,y,x,_,null);fo(p,x)}return null}function v(p,y,x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(x)||null,l(y,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ro:return p=p.get(_.key===null?x:_.key)||null,c(y,p,_,w);case bn:return p=p.get(_.key===null?x:_.key)||null,d(y,p,_,w);case Ys:var S=_._init;return v(p,y,x,S(_._payload),w)}if($a(_)||Ca(_))return p=p.get(x)||null,u(y,p,_,w,null);fo(y,_)}return null}function g(p,y,x,_){for(var w=null,S=null,P=y,C=y=0,R=null;P!==null&&C<x.length;C++){P.index>C?(R=P,P=null):R=P.sibling;var $=h(p,P,x[C],_);if($===null){P===null&&(P=R);break}e&&P&&$.alternate===null&&t(p,P),y=i($,y,C),S===null?w=$:S.sibling=$,S=$,P=R}if(C===x.length)return r(p,P),Ee&&Tr(p,C),w;if(P===null){for(;C<x.length;C++)P=m(p,x[C],_),P!==null&&(y=i(P,y,C),S===null?w=P:S.sibling=P,S=P);return Ee&&Tr(p,C),w}for(P=n(p,P);C<x.length;C++)R=v(P,p,C,x[C],_),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?C:R.key),y=i(R,y,C),S===null?w=R:S.sibling=R,S=R);return e&&P.forEach(function(Y){return t(p,Y)}),Ee&&Tr(p,C),w}function b(p,y,x,_){var w=Ca(x);if(typeof w!="function")throw Error(se(150));if(x=w.call(x),x==null)throw Error(se(151));for(var S=w=null,P=y,C=y=0,R=null,$=x.next();P!==null&&!$.done;C++,$=x.next()){P.index>C?(R=P,P=null):R=P.sibling;var Y=h(p,P,$.value,_);if(Y===null){P===null&&(P=R);break}e&&P&&Y.alternate===null&&t(p,P),y=i(Y,y,C),S===null?w=Y:S.sibling=Y,S=Y,P=R}if($.done)return r(p,P),Ee&&Tr(p,C),w;if(P===null){for(;!$.done;C++,$=x.next())$=m(p,$.value,_),$!==null&&(y=i($,y,C),S===null?w=$:S.sibling=$,S=$);return Ee&&Tr(p,C),w}for(P=n(p,P);!$.done;C++,$=x.next())$=v(P,p,C,$.value,_),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?C:$.key),y=i($,y,C),S===null?w=$:S.sibling=$,S=$);return e&&P.forEach(function(O){return t(p,O)}),Ee&&Tr(p,C),w}function f(p,y,x,_){if(typeof x=="object"&&x!==null&&x.type===jn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ro:e:{for(var w=x.key,S=y;S!==null;){if(S.key===w){if(w=x.type,w===jn){if(S.tag===7){r(p,S.sibling),y=a(S,x.props.children),y.return=p,p=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ys&&mp(w)===S.type){r(p,S.sibling),y=a(S,x.props),y.ref=Ta(p,S,x),y.return=p,p=y;break e}r(p,S);break}else t(p,S);S=S.sibling}x.type===jn?(y=Zr(x.props.children,p.mode,_,x.key),y.return=p,p=y):(_=Bo(x.type,x.key,x.props,null,p.mode,_),_.ref=Ta(p,y,x),_.return=p,p=_)}return o(p);case bn:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(p,y.sibling),y=a(y,x.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=Tc(x,p.mode,_),y.return=p,p=y}return o(p);case Ys:return S=x._init,f(p,y,S(x._payload),_)}if($a(x))return g(p,y,x,_);if(Ca(x))return b(p,y,x,_);fo(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(p,y.sibling),y=a(y,x),y.return=p,p=y):(r(p,y),y=Ec(x,p.mode,_),y.return=p,p=y),o(p)):r(p,y)}return f}var aa=_g(!0),kg=_g(!1),ll=Cr(null),cl=null,Pn=null,nm=null;function am(){nm=Pn=cl=null}function im(e){var t=ll.current;Ae(ll),e._currentValue=t}function Pd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $n(e,t){cl=e,nm=Pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(nm!==e)if(e={context:e,memoizedValue:t,next:null},Pn===null){if(cl===null)throw Error(se(308));Pn=e,cl.dependencies={lanes:0,firstContext:e}}else Pn=Pn.next=e;return t}var Or=null;function om(e){Or===null?Or=[e]:Or.push(e)}function Sg(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,om(t)):(r.next=a.next,a.next=r),t.interleaved=r,zs(e,n)}function zs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Js=!1;function lm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,zs(e,r)}return a=n.interleaved,a===null?(t.next=t,om(n)):(t.next=a.next,a.next=t),n.interleaved=t,zs(e,r)}function Lo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qu(e,r)}}function hp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dl(e,t,r,n){var a=e.updateQueue;Js=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,v=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,b=l;switch(h=t,v=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){m=g.call(v,m,h);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(v,m,h):g,h==null)break e;m=Re({},m,h);break e;case 2:Js=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=v,c=m):u=u.next=v,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);an|=o,e.lanes=o,e.memoizedState=m}}function pp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(se(191,a));a.call(n)}}}var Vi={},xs=Cr(Vi),bi=Cr(Vi),ji=Cr(Vi);function zr(e){if(e===Vi)throw Error(se(174));return e}function cm(e,t){switch(Se(ji,t),Se(bi,e),Se(xs,Vi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cd(t,e)}Ae(xs),Se(xs,t)}function ia(){Ae(xs),Ae(bi),Ae(ji)}function Fg(e){zr(ji.current);var t=zr(xs.current),r=cd(t,e.type);t!==r&&(Se(bi,e),Se(xs,r))}function dm(e){bi.current===e&&(Ae(xs),Ae(bi))}var Te=Cr(0);function ul(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kc=[];function um(){for(var e=0;e<kc.length;e++)kc[e]._workInProgressVersionPrimary=null;kc.length=0}var Mo=Is.ReactCurrentDispatcher,Sc=Is.ReactCurrentBatchConfig,nn=0,Me=null,Ge=null,Ze=null,ml=!1,Za=!1,wi=0,n2=0;function it(){throw Error(se(321))}function mm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ns(e[r],t[r]))return!1;return!0}function hm(e,t,r,n,a,i){if(nn=i,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?l2:c2,e=r(n,a),Za){i=0;do{if(Za=!1,wi=0,25<=i)throw Error(se(301));i+=1,Ze=Ge=null,t.updateQueue=null,Mo.current=d2,e=r(n,a)}while(Za)}if(Mo.current=hl,t=Ge!==null&&Ge.next!==null,nn=0,Ze=Ge=Me=null,ml=!1,t)throw Error(se(300));return e}function pm(){var e=wi!==0;return wi=0,e}function cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Me.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Kt(){if(Ge===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=Ze===null?Me.memoizedState:Ze.next;if(t!==null)Ze=t,Ge=e;else{if(e===null)throw Error(se(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ze===null?Me.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ni(e,t){return typeof t=="function"?t(e):t}function Cc(e){var t=Kt(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=Ge,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((nn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,Me.lanes|=u,an|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,ns(n,t.memoizedState)||(St=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Me.lanes|=i,an|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fc(e){var t=Kt(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ns(i,t.memoizedState)||(St=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Pg(){}function Ag(e,t){var r=Me,n=Kt(),a=t(),i=!ns(n.memoizedState,a);if(i&&(n.memoizedState=a,St=!0),n=n.queue,fm(Lg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,_i(9,Tg.bind(null,r,n,a,t),void 0,null),tt===null)throw Error(se(349));nn&30||Eg(r,t,a)}return a}function Eg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tg(e,t,r,n){t.value=r,t.getSnapshot=n,Mg(t)&&Rg(e)}function Lg(e,t,r){return r(function(){Mg(t)&&Rg(e)})}function Mg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ns(e,r)}catch{return!0}}function Rg(e){var t=zs(e,1);t!==null&&rs(t,e,1,-1)}function fp(e){var t=cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},t.queue=e,e=e.dispatch=o2.bind(null,Me,e),[t.memoizedState,e]}function _i(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dg(){return Kt().memoizedState}function Ro(e,t,r,n){var a=cs();Me.flags|=e,a.memoizedState=_i(1|t,r,void 0,n===void 0?null:n)}function zl(e,t,r,n){var a=Kt();n=n===void 0?null:n;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,n!==null&&mm(n,o.deps)){a.memoizedState=_i(t,r,i,n);return}}Me.flags|=e,a.memoizedState=_i(1|t,r,i,n)}function xp(e,t){return Ro(8390656,8,e,t)}function fm(e,t){return zl(2048,8,e,t)}function Og(e,t){return zl(4,2,e,t)}function zg(e,t){return zl(4,4,e,t)}function Bg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ig(e,t,r){return r=r!=null?r.concat([e]):null,zl(4,4,Bg.bind(null,t,e),r)}function xm(){}function $g(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vg(e,t){var r=Kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qg(e,t,r){return nn&21?(ns(r,t)||(r=Kx(),Me.lanes|=r,an|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=r)}function a2(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=Sc.transition;Sc.transition={};try{e(!1),t()}finally{we=r,Sc.transition=n}}function Ug(){return Kt().memoizedState}function i2(e,t,r){var n=vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wg(e))Hg(t,r);else if(r=Sg(e,t,r,n),r!==null){var a=yt();rs(r,e,n,a),Qg(r,t,n)}}function o2(e,t,r){var n=vr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wg(e))Hg(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ns(l,o)){var c=t.interleaved;c===null?(a.next=a,om(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Sg(e,t,a,n),r!==null&&(a=yt(),rs(r,e,n,a),Qg(r,t,n))}}function Wg(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Hg(e,t){Za=ml=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qu(e,r)}}var hl={readContext:Qt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},l2={readContext:Qt,useCallback:function(e,t){return cs().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:xp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ro(4194308,4,Bg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var r=cs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=i2.bind(null,Me,e),[n.memoizedState,e]},useRef:function(e){var t=cs();return e={current:e},t.memoizedState=e},useState:fp,useDebugValue:xm,useDeferredValue:function(e){return cs().memoizedState=e},useTransition:function(){var e=fp(!1),t=e[0];return e=a2.bind(null,e[1]),cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Me,a=cs();if(Ee){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),tt===null)throw Error(se(349));nn&30||Eg(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,xp(Lg.bind(null,n,i,e),[e]),n.flags|=2048,_i(9,Tg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=cs(),t=tt.identifierPrefix;if(Ee){var r=Es,n=As;r=(n&~(1<<32-ss(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=n2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c2={readContext:Qt,useCallback:$g,useContext:Qt,useEffect:fm,useImperativeHandle:Ig,useInsertionEffect:Og,useLayoutEffect:zg,useMemo:Vg,useReducer:Cc,useRef:Dg,useState:function(){return Cc(Ni)},useDebugValue:xm,useDeferredValue:function(e){var t=Kt();return qg(t,Ge.memoizedState,e)},useTransition:function(){var e=Cc(Ni)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Pg,useSyncExternalStore:Ag,useId:Ug,unstable_isNewReconciler:!1},d2={readContext:Qt,useCallback:$g,useContext:Qt,useEffect:fm,useImperativeHandle:Ig,useInsertionEffect:Og,useLayoutEffect:zg,useMemo:Vg,useReducer:Fc,useRef:Dg,useState:function(){return Fc(Ni)},useDebugValue:xm,useDeferredValue:function(e){var t=Kt();return Ge===null?t.memoizedState=e:qg(t,Ge.memoizedState,e)},useTransition:function(){var e=Fc(Ni)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Pg,useSyncExternalStore:Ag,useId:Ug,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ad(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bl={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=yt(),a=vr(e),i=Ts(n,a);i.payload=t,r!=null&&(i.callback=r),t=gr(e,i,a),t!==null&&(rs(t,e,a,n),Lo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=yt(),a=vr(e),i=Ts(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gr(e,i,a),t!==null&&(rs(t,e,a,n),Lo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=yt(),n=vr(e),a=Ts(r,n);a.tag=2,t!=null&&(a.callback=t),t=gr(e,a,n),t!==null&&(rs(t,e,n,r),Lo(t,e,n))}};function gp(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xi(r,n)||!xi(a,i):!0}function Kg(e,t,r){var n=!1,a=_r,i=t.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(a=Ft(t)?sn:mt.current,n=t.contextTypes,i=(n=n!=null)?ra(e,a):_r),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function yp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function Ed(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},lm(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Qt(i):(i=Ft(t)?sn:mt.current,a.context=ra(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ad(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Bl.enqueueReplaceState(a,a.state,null),dl(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function oa(e,t){try{var r="",n=t;do r+=z1(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Pc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Td(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var u2=typeof WeakMap=="function"?WeakMap:Map;function Gg(e,t,r){r=Ts(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fl||(fl=!0,Vd=n),Td(e,t)},r}function Yg(e,t,r){r=Ts(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Td(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Td(e,t),typeof n!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function vp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new u2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=k2.bind(null,e,t,r),t.then(e,e))}function bp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jp(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ts(-1,1),t.tag=2,gr(r,t,1))),r.lanes|=1),e)}var m2=Is.ReactCurrentOwner,St=!1;function xt(e,t,r,n){t.child=e===null?kg(t,null,r,n):aa(t,e.child,r,n)}function wp(e,t,r,n,a){r=r.render;var i=t.ref;return $n(t,a),n=hm(e,t,r,n,i,a),r=pm(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bs(e,t,a)):(Ee&&r&&tm(t),t.flags|=1,xt(e,t,n,a),t.child)}function Np(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!_m(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Jg(e,t,i,n,a)):(e=Bo(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xi,r(o,n)&&e.ref===t.ref)return Bs(e,t,a)}return t.flags|=1,e=br(i,n),e.ref=t.ref,e.return=t,t.child=e}function Jg(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xi(i,n)&&e.ref===t.ref)if(St=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,Bs(e,t,a)}return Ld(e,t,r,n,a)}function Xg(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(En,Tt),Tt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(En,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Se(En,Tt),Tt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Se(En,Tt),Tt|=n;return xt(e,t,a,r),t.child}function Zg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ld(e,t,r,n,a){var i=Ft(r)?sn:mt.current;return i=ra(t,i),$n(t,a),r=hm(e,t,r,n,i,a),n=pm(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Bs(e,t,a)):(Ee&&n&&tm(t),t.flags|=1,xt(e,t,r,a),t.child)}function _p(e,t,r,n,a){if(Ft(r)){var i=!0;al(t)}else i=!1;if($n(t,a),t.stateNode===null)Do(e,t),Kg(t,r,n),Ed(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Qt(d):(d=Ft(r)?sn:mt.current,d=ra(t,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&yp(t,o,n,d),Js=!1;var h=t.memoizedState;o.state=h,dl(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ct.current||Js?(typeof u=="function"&&(Ad(t,r,u,n),c=t.memoizedState),(l=Js||gp(t,r,l,n,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Cg(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Jt(t.type,l),o.props=d,m=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qt(c):(c=Ft(r)?sn:mt.current,c=ra(t,c));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&yp(t,o,n,c),Js=!1,h=t.memoizedState,o.state=h,dl(t,n,o,a);var g=t.memoizedState;l!==m||h!==g||Ct.current||Js?(typeof v=="function"&&(Ad(t,r,v,n),g=t.memoizedState),(d=Js||gp(t,r,d,n,h,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Md(e,t,r,n,i,a)}function Md(e,t,r,n,a,i){Zg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&cp(t,r,!1),Bs(e,t,i);n=t.stateNode,m2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=aa(t,e.child,null,i),t.child=aa(t,null,l,i)):xt(e,t,l,i),t.memoizedState=n.state,a&&cp(t,r,!0),t.child}function ey(e){var t=e.stateNode;t.pendingContext?lp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lp(e,t.context,!1),cm(e,t.containerInfo)}function kp(e,t,r,n,a){return na(),rm(a),t.flags|=256,xt(e,t,r,n),t.child}var Rd={dehydrated:null,treeContext:null,retryLane:0};function Dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function ty(e,t,r){var n=t.pendingProps,a=Te.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Se(Te,a&1),e===null)return Fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vl(o,n,0,null),e=Zr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dd(r),t.memoizedState=Rd,e):gm(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return h2(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=br(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=br(l,i):(i=Zr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Dd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Rd,n}return i=e.child,e=i.sibling,n=br(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gm(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xo(e,t,r,n){return n!==null&&rm(n),aa(t,e.child,null,r),e=gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h2(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Pc(Error(se(422))),xo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Vl({mode:"visible",children:n.children},a,0,null),i=Zr(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&aa(t,e.child,null,o),t.child.memoizedState=Dd(o),t.memoizedState=Rd,i);if(!(t.mode&1))return xo(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(se(419)),n=Pc(i,n,void 0),xo(e,t,o,n)}if(l=(o&e.childLanes)!==0,St||l){if(n=tt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zs(e,a),rs(n,e,a,-1))}return Nm(),n=Pc(Error(se(421))),xo(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=S2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Lt=xr(a.nextSibling),Mt=t,Ee=!0,ts=null,e!==null&&(qt[Ut++]=As,qt[Ut++]=Es,qt[Ut++]=rn,As=e.id,Es=e.overflow,rn=t),t=gm(t,n.children),t.flags|=4096,t)}function Sp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Pd(e.return,t,r)}function Ac(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function sy(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(xt(e,t,n.children,r),n=Te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sp(e,r,t);else if(e.tag===19)Sp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Se(Te,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ul(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ac(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ul(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ac(t,!0,r,null,i);break;case"together":Ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Do(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function p2(e,t,r){switch(t.tag){case 3:ey(t),na();break;case 5:Fg(t);break;case 1:Ft(t.type)&&al(t);break;case 4:cm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Se(ll,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):r&t.child.childLanes?ty(e,t,r):(Se(Te,Te.current&1),e=Bs(e,t,r),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sy(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Se(Te,Te.current),n)break;return null;case 22:case 23:return t.lanes=0,Xg(e,t,r)}return Bs(e,t,r)}var ry,Od,ny,ay;ry=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Od=function(){};ny=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,zr(xs.current);var i=null;switch(r){case"input":a=ad(e,a),n=ad(e,n),i=[];break;case"select":a=Re({},a,{value:void 0}),n=Re({},n,{value:void 0}),i=[];break;case"textarea":a=ld(e,a),n=ld(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rl)}dd(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ci.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ci.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Pe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ay=function(e,t,r,n){r!==n&&(t.flags|=4)};function La(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function f2(e,t,r){var n=t.pendingProps;switch(sm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Ft(t.type)&&nl(),ot(t),null;case 3:return n=t.stateNode,ia(),Ae(Ct),Ae(mt),um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(po(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ts!==null&&(Wd(ts),ts=null))),Od(e,t),ot(t),null;case 5:dm(t);var a=zr(ji.current);if(r=t.type,e!==null&&t.stateNode!=null)ny(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(se(166));return ot(t),null}if(e=zr(xs.current),po(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hs]=t,n[vi]=i,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<qa.length;a++)Pe(qa[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Rh(n,i),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",n);break;case"textarea":Oh(n,i),Pe("invalid",n)}dd(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ho(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ho(n.textContent,l,e),a=["children",""+l]):ci.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pe("scroll",n)}switch(r){case"input":no(n),Dh(n,i,!0);break;case"textarea":no(n),zh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=rl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hs]=t,e[vi]=n,ry(e,t,!1,!1),t.stateNode=e;e:{switch(o=ud(r,n),r){case"dialog":Pe("cancel",e),Pe("close",e),a=n;break;case"iframe":case"object":case"embed":Pe("load",e),a=n;break;case"video":case"audio":for(a=0;a<qa.length;a++)Pe(qa[a],e);a=n;break;case"source":Pe("error",e),a=n;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),a=n;break;case"details":Pe("toggle",e),a=n;break;case"input":Rh(e,n),a=ad(e,n),Pe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Re({},n,{value:void 0}),Pe("invalid",e);break;case"textarea":Oh(e,n),a=ld(e,n),Pe("invalid",e);break;default:a=n}dd(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Dx(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Mx(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&di(e,c):typeof c=="number"&&di(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ci.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pe("scroll",e):c!=null&&$u(e,i,c,o))}switch(r){case"input":no(e),Dh(e,n,!1);break;case"textarea":no(e),zh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?On(e,!!n.multiple,i,!1):n.defaultValue!=null&&On(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=rl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)ay(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(se(166));if(r=zr(ji.current),zr(xs.current),po(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(i=n.nodeValue!==r)&&(e=Mt,e!==null))switch(e.tag){case 3:ho(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ho(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=t,t.stateNode=n}return ot(t),null;case 13:if(Ae(Te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Lt!==null&&t.mode&1&&!(t.flags&128))Ng(),na(),t.flags|=98560,i=!1;else if(i=po(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[hs]=t}else na(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),i=!1}else ts!==null&&(Wd(ts),ts=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Je===0&&(Je=3):Nm())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return ia(),Od(e,t),e===null&&gi(t.stateNode.containerInfo),ot(t),null;case 10:return im(t.type._context),ot(t),null;case 17:return Ft(t.type)&&nl(),ot(t),null;case 19:if(Ae(Te),i=t.memoizedState,i===null)return ot(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)La(i,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ul(e),o!==null){for(t.flags|=128,La(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&qe()>la&&(t.flags|=128,n=!0,La(i,!1),t.lanes=4194304)}else{if(!n)if(e=ul(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),La(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return ot(t),null}else 2*qe()-i.renderingStartTime>la&&r!==1073741824&&(t.flags|=128,n=!0,La(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,r=Te.current,Se(Te,n?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return wm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Tt&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function x2(e,t){switch(sm(t),t.tag){case 1:return Ft(t.type)&&nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(),Ae(Ct),Ae(mt),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dm(t),null;case 13:if(Ae(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Te),null;case 4:return ia(),null;case 10:return im(t.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var go=!1,ct=!1,g2=typeof WeakSet=="function"?WeakSet:Set,ie=null;function An(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(e,t,n)}else r.current=null}function zd(e,t,r){try{r()}catch(n){Be(e,t,n)}}var Cp=!1;function y2(e,t){if(jd=el,e=dg(),em(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var v;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wd={focusedElem:e,selectionRange:r},el=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,f=g.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?b:Jt(t.type,b),f);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(_){Be(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return g=Cp,Cp=!1,g}function ei(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&zd(t,r,i)}a=a.next}while(a!==n)}}function Il(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Bd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function iy(e){var t=e.alternate;t!==null&&(e.alternate=null,iy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hs],delete t[vi],delete t[kd],delete t[e2],delete t[t2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oy(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Id(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rl));else if(n!==4&&(e=e.child,e!==null))for(Id(e,t,r),e=e.sibling;e!==null;)Id(e,t,r),e=e.sibling}function $d(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($d(e,t,r),e=e.sibling;e!==null;)$d(e,t,r),e=e.sibling}var st=null,es=!1;function Us(e,t,r){for(r=r.child;r!==null;)ly(e,t,r),r=r.sibling}function ly(e,t,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Tl,r)}catch{}switch(r.tag){case 5:ct||An(r,t);case 6:var n=st,a=es;st=null,Us(e,t,r),st=n,es=a,st!==null&&(es?(e=st,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):st.removeChild(r.stateNode));break;case 18:st!==null&&(es?(e=st,r=r.stateNode,e.nodeType===8?Nc(e.parentNode,r):e.nodeType===1&&Nc(e,r),pi(e)):Nc(st,r.stateNode));break;case 4:n=st,a=es,st=r.stateNode.containerInfo,es=!0,Us(e,t,r),st=n,es=a;break;case 0:case 11:case 14:case 15:if(!ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zd(r,t,o),a=a.next}while(a!==n)}Us(e,t,r);break;case 1:if(!ct&&(An(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Be(r,t,l)}Us(e,t,r);break;case 21:Us(e,t,r);break;case 22:r.mode&1?(ct=(n=ct)||r.memoizedState!==null,Us(e,t,r),ct=n):Us(e,t,r);break;default:Us(e,t,r)}}function Pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new g2),t.forEach(function(n){var a=C2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Gt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:st=l.stateNode,es=!1;break e;case 3:st=l.stateNode.containerInfo,es=!0;break e;case 4:st=l.stateNode.containerInfo,es=!0;break e}l=l.return}if(st===null)throw Error(se(160));ly(i,o,a),st=null,es=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Be(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cy(t,e),t=t.sibling}function cy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),os(e),n&4){try{ei(3,e,e.return),Il(3,e)}catch(b){Be(e,e.return,b)}try{ei(5,e,e.return)}catch(b){Be(e,e.return,b)}}break;case 1:Gt(t,e),os(e),n&512&&r!==null&&An(r,r.return);break;case 5:if(Gt(t,e),os(e),n&512&&r!==null&&An(r,r.return),e.flags&32){var a=e.stateNode;try{di(a,"")}catch(b){Be(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ex(a,i),ud(l,o);var d=ud(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?Dx(a,m):u==="dangerouslySetInnerHTML"?Mx(a,m):u==="children"?di(a,m):$u(a,u,m,d)}switch(l){case"input":id(a,i);break;case"textarea":Tx(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?On(a,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?On(a,!!i.multiple,i.defaultValue,!0):On(a,!!i.multiple,i.multiple?[]:"",!1))}a[vi]=i}catch(b){Be(e,e.return,b)}}break;case 6:if(Gt(t,e),os(e),n&4){if(e.stateNode===null)throw Error(se(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Be(e,e.return,b)}}break;case 3:if(Gt(t,e),os(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(b){Be(e,e.return,b)}break;case 4:Gt(t,e),os(e);break;case 13:Gt(t,e),os(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(bm=qe())),n&4&&Pp(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ct=(d=ct)||u,Gt(t,e),ct=d):Gt(t,e),os(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ie=e,u=e.child;u!==null;){for(m=ie=u;ie!==null;){switch(h=ie,v=h.child,h.tag){case 0:case 11:case 14:case 15:ei(4,h,h.return);break;case 1:An(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){Be(n,r,b)}}break;case 5:An(h,h.return);break;case 22:if(h.memoizedState!==null){Ep(m);continue}}v!==null?(v.return=h,ie=v):Ep(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Rx("display",o))}catch(b){Be(e,e.return,b)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){Be(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Gt(t,e),os(e),n&4&&Pp(e);break;case 21:break;default:Gt(t,e),os(e)}}function os(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(oy(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(di(a,""),n.flags&=-33);var i=Fp(e);$d(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Fp(e);Id(e,l,o);break;default:throw Error(se(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v2(e,t,r){ie=e,dy(e)}function dy(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var a=ie,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||go;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ct;l=go;var d=ct;if(go=o,(ct=c)&&!d)for(ie=a;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?Tp(a):c!==null?(c.return=o,ie=c):Tp(a);for(;i!==null;)ie=i,dy(i),i=i.sibling;ie=a,go=l,ct=d}Ap(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ie=i):Ap(e)}}function Ap(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||Il(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ct)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&pp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pp(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&pi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}ct||t.flags&512&&Bd(t)}catch(h){Be(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ep(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Tp(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Il(4,t)}catch(c){Be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Be(t,a,c)}}var i=t.return;try{Bd(t)}catch(c){Be(t,i,c)}break;case 5:var o=t.return;try{Bd(t)}catch(c){Be(t,o,c)}}}catch(c){Be(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var b2=Math.ceil,pl=Is.ReactCurrentDispatcher,ym=Is.ReactCurrentOwner,Ht=Is.ReactCurrentBatchConfig,xe=0,tt=null,He=null,nt=0,Tt=0,En=Cr(0),Je=0,ki=null,an=0,$l=0,vm=0,ti=null,kt=null,bm=0,la=1/0,_s=null,fl=!1,Vd=null,yr=null,yo=!1,dr=null,xl=0,si=0,qd=null,Oo=-1,zo=0;function yt(){return xe&6?qe():Oo!==-1?Oo:Oo=qe()}function vr(e){return e.mode&1?xe&2&&nt!==0?nt&-nt:r2.transition!==null?(zo===0&&(zo=Kx()),zo):(e=we,e!==0||(e=window.event,e=e===void 0?16:tg(e.type)),e):1}function rs(e,t,r,n){if(50<si)throw si=0,qd=null,Error(se(185));Bi(e,r,n),(!(xe&2)||e!==tt)&&(e===tt&&(!(xe&2)&&($l|=r),Je===4&&Zs(e,nt)),Pt(e,n),r===1&&xe===0&&!(t.mode&1)&&(la=qe()+500,Ol&&Fr()))}function Pt(e,t){var r=e.callbackNode;rj(e,t);var n=Zo(e,e===tt?nt:0);if(n===0)r!==null&&$h(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$h(r),t===1)e.tag===0?s2(Lp.bind(null,e)):bg(Lp.bind(null,e)),Xj(function(){!(xe&6)&&Fr()}),r=null;else{switch(Gx(n)){case 1:r=Hu;break;case 4:r=Hx;break;case 16:r=Xo;break;case 536870912:r=Qx;break;default:r=Xo}r=yy(r,uy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function uy(e,t){if(Oo=-1,zo=0,xe&6)throw Error(se(327));var r=e.callbackNode;if(Vn()&&e.callbackNode!==r)return null;var n=Zo(e,e===tt?nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gl(e,n);else{t=n;var a=xe;xe|=2;var i=hy();(tt!==e||nt!==t)&&(_s=null,la=qe()+500,Xr(e,t));do try{N2();break}catch(l){my(e,l)}while(!0);am(),pl.current=i,xe=a,He!==null?t=0:(tt=null,nt=0,t=Je)}if(t!==0){if(t===2&&(a=xd(e),a!==0&&(n=a,t=Ud(e,a))),t===1)throw r=ki,Xr(e,0),Zs(e,n),Pt(e,qe()),r;if(t===6)Zs(e,n);else{if(a=e.current.alternate,!(n&30)&&!j2(a)&&(t=gl(e,n),t===2&&(i=xd(e),i!==0&&(n=i,t=Ud(e,i))),t===1))throw r=ki,Xr(e,0),Zs(e,n),Pt(e,qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(se(345));case 2:Lr(e,kt,_s);break;case 3:if(Zs(e,n),(n&130023424)===n&&(t=bm+500-qe(),10<t)){if(Zo(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){yt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_d(Lr.bind(null,e,kt,_s),t);break}Lr(e,kt,_s);break;case 4:if(Zs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ss(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b2(n/1960))-n,10<n){e.timeoutHandle=_d(Lr.bind(null,e,kt,_s),n);break}Lr(e,kt,_s);break;case 5:Lr(e,kt,_s);break;default:throw Error(se(329))}}}return Pt(e,qe()),e.callbackNode===r?uy.bind(null,e):null}function Ud(e,t){var r=ti;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=gl(e,t),e!==2&&(t=kt,kt=r,t!==null&&Wd(t)),e}function Wd(e){kt===null?kt=e:kt.push.apply(kt,e)}function j2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ns(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zs(e,t){for(t&=~vm,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ss(t),n=1<<r;e[r]=-1,t&=~n}}function Lp(e){if(xe&6)throw Error(se(327));Vn();var t=Zo(e,0);if(!(t&1))return Pt(e,qe()),null;var r=gl(e,t);if(e.tag!==0&&r===2){var n=xd(e);n!==0&&(t=n,r=Ud(e,n))}if(r===1)throw r=ki,Xr(e,0),Zs(e,t),Pt(e,qe()),r;if(r===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lr(e,kt,_s),Pt(e,qe()),null}function jm(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(la=qe()+500,Ol&&Fr())}}function on(e){dr!==null&&dr.tag===0&&!(xe&6)&&Vn();var t=xe;xe|=1;var r=Ht.transition,n=we;try{if(Ht.transition=null,we=1,e)return e()}finally{we=n,Ht.transition=r,xe=t,!(xe&6)&&Fr()}}function wm(){Tt=En.current,Ae(En)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jj(r)),He!==null)for(r=He.return;r!==null;){var n=r;switch(sm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nl();break;case 3:ia(),Ae(Ct),Ae(mt),um();break;case 5:dm(n);break;case 4:ia();break;case 13:Ae(Te);break;case 19:Ae(Te);break;case 10:im(n.type._context);break;case 22:case 23:wm()}r=r.return}if(tt=e,He=e=br(e.current,null),nt=Tt=t,Je=0,ki=null,vm=$l=an=0,kt=ti=null,Or!==null){for(t=0;t<Or.length;t++)if(r=Or[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Or=null}return e}function my(e,t){do{var r=He;try{if(am(),Mo.current=hl,ml){for(var n=Me.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ml=!1}if(nn=0,Ze=Ge=Me=null,Za=!1,wi=0,ym.current=null,r===null||r.return===null){Je=1,ki=t,He=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=nt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=bp(o);if(v!==null){v.flags&=-257,jp(v,o,l,i,t),v.mode&1&&vp(i,d,t),t=v,c=d;var g=t.updateQueue;if(g===null){var b=new Set;b.add(c),t.updateQueue=b}else g.add(c);break e}else{if(!(t&1)){vp(i,d,t),Nm();break e}c=Error(se(426))}}else if(Ee&&l.mode&1){var f=bp(o);if(f!==null){!(f.flags&65536)&&(f.flags|=256),jp(f,o,l,i,t),rm(oa(c,l));break e}}i=c=oa(c,l),Je!==4&&(Je=2),ti===null?ti=[i]:ti.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Gg(i,c,t);hp(i,p);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(yr===null||!yr.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Yg(i,l,t);hp(i,_);break e}}i=i.return}while(i!==null)}fy(r)}catch(w){t=w,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function hy(){var e=pl.current;return pl.current=hl,e===null?hl:e}function Nm(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(an&268435455)&&!($l&268435455)||Zs(tt,nt)}function gl(e,t){var r=xe;xe|=2;var n=hy();(tt!==e||nt!==t)&&(_s=null,Xr(e,t));do try{w2();break}catch(a){my(e,a)}while(!0);if(am(),xe=r,pl.current=n,He!==null)throw Error(se(261));return tt=null,nt=0,Je}function w2(){for(;He!==null;)py(He)}function N2(){for(;He!==null&&!K1();)py(He)}function py(e){var t=gy(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?fy(e):He=t,ym.current=null}function fy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=x2(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,He=null;return}}else if(r=f2(r,t,Tt),r!==null){He=r;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Je===0&&(Je=5)}function Lr(e,t,r){var n=we,a=Ht.transition;try{Ht.transition=null,we=1,_2(e,t,r,n)}finally{Ht.transition=a,we=n}return null}function _2(e,t,r,n){do Vn();while(dr!==null);if(xe&6)throw Error(se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(nj(e,i),e===tt&&(He=tt=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yo||(yo=!0,yy(Xo,function(){return Vn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var o=we;we=1;var l=xe;xe|=4,ym.current=null,y2(e,r),cy(r,e),Uj(wd),el=!!jd,wd=jd=null,e.current=r,v2(r),G1(),xe=l,we=o,Ht.transition=i}else e.current=r;if(yo&&(yo=!1,dr=e,xl=a),i=e.pendingLanes,i===0&&(yr=null),X1(r.stateNode),Pt(e,qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(fl)throw fl=!1,e=Vd,Vd=null,e;return xl&1&&e.tag!==0&&Vn(),i=e.pendingLanes,i&1?e===qd?si++:(si=0,qd=e):si=0,Fr(),null}function Vn(){if(dr!==null){var e=Gx(xl),t=Ht.transition,r=we;try{if(Ht.transition=null,we=16>e?16:e,dr===null)var n=!1;else{if(e=dr,dr=null,xl=0,xe&6)throw Error(se(331));var a=xe;for(xe|=4,ie=e.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ie=d;ie!==null;){var u=ie;switch(u.tag){case 0:case 11:case 15:ei(8,u,i)}var m=u.child;if(m!==null)m.return=u,ie=m;else for(;ie!==null;){u=ie;var h=u.sibling,v=u.return;if(iy(u),u===d){ie=null;break}if(h!==null){h.return=v,ie=h;break}ie=v}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var f=b.sibling;b.sibling=null,b=f}while(b!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ei(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ie=p;break e}ie=i.return}}var y=e.current;for(ie=y;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=y;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Il(9,l)}}catch(w){Be(l,l.return,w)}if(l===o){ie=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ie=_;break e}ie=l.return}}if(xe=a,Fr(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Tl,e)}catch{}n=!0}return n}finally{we=r,Ht.transition=t}}return!1}function Mp(e,t,r){t=oa(r,t),t=Gg(e,t,1),e=gr(e,t,1),t=yt(),e!==null&&(Bi(e,1,t),Pt(e,t))}function Be(e,t,r){if(e.tag===3)Mp(e,e,r);else for(;t!==null;){if(t.tag===3){Mp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yr===null||!yr.has(n))){e=oa(r,e),e=Yg(t,e,1),t=gr(t,e,1),e=yt(),t!==null&&(Bi(t,1,e),Pt(t,e));break}}t=t.return}}function k2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&r,tt===e&&(nt&r)===r&&(Je===4||Je===3&&(nt&130023424)===nt&&500>qe()-bm?Xr(e,0):vm|=r),Pt(e,t)}function xy(e,t){t===0&&(e.mode&1?(t=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):t=1);var r=yt();e=zs(e,t),e!==null&&(Bi(e,t,r),Pt(e,r))}function S2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xy(e,r)}function C2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(t),xy(e,r)}var gy;gy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)St=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return St=!1,p2(e,t,r);St=!!(e.flags&131072)}else St=!1,Ee&&t.flags&1048576&&jg(t,ol,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Do(e,t),e=t.pendingProps;var a=ra(t,mt.current);$n(t,r),a=hm(null,t,n,e,a,r);var i=pm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(n)?(i=!0,al(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,lm(t),a.updater=Bl,t.stateNode=a,a._reactInternals=t,Ed(t,n,e,r),t=Md(null,t,n,!0,i,r)):(t.tag=0,Ee&&i&&tm(t),xt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Do(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=P2(n),e=Jt(n,e),a){case 0:t=Ld(null,t,n,e,r);break e;case 1:t=_p(null,t,n,e,r);break e;case 11:t=wp(null,t,n,e,r);break e;case 14:t=Np(null,t,n,Jt(n.type,e),r);break e}throw Error(se(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Jt(n,a),Ld(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Jt(n,a),_p(e,t,n,a,r);case 3:e:{if(ey(t),e===null)throw Error(se(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Cg(e,t),dl(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=oa(Error(se(423)),t),t=kp(e,t,n,r,a);break e}else if(n!==a){a=oa(Error(se(424)),t),t=kp(e,t,n,r,a);break e}else for(Lt=xr(t.stateNode.containerInfo.firstChild),Mt=t,Ee=!0,ts=null,r=kg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(na(),n===a){t=Bs(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 5:return Fg(t),e===null&&Fd(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Nd(n,a)?o=null:i!==null&&Nd(n,i)&&(t.flags|=32),Zg(e,t),xt(e,t,o,r),t.child;case 6:return e===null&&Fd(t),null;case 13:return ty(e,t,r);case 4:return cm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=aa(t,null,n,r):xt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Jt(n,a),wp(e,t,n,a,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Se(ll,n._currentValue),n._currentValue=o,i!==null)if(ns(i.value,o)){if(i.children===a.children&&!Ct.current){t=Bs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ts(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Pd(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Pd(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$n(t,r),a=Qt(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return n=t.type,a=Jt(n,t.pendingProps),a=Jt(n.type,a),Np(e,t,n,a,r);case 15:return Jg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Jt(n,a),Do(e,t),t.tag=1,Ft(n)?(e=!0,al(t)):e=!1,$n(t,r),Kg(t,n,a),Ed(t,n,a,r),Md(null,t,n,!0,e,r);case 19:return sy(e,t,r);case 22:return Xg(e,t,r)}throw Error(se(156,t.tag))};function yy(e,t){return Wx(e,t)}function F2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,r,n){return new F2(e,t,r,n)}function _m(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P2(e){if(typeof e=="function")return _m(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qu)return 11;if(e===Uu)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=Wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bo(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")_m(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jn:return Zr(r.children,a,i,t);case Vu:o=8,a|=8;break;case td:return e=Wt(12,r,t,a|2),e.elementType=td,e.lanes=i,e;case sd:return e=Wt(13,r,t,a),e.elementType=sd,e.lanes=i,e;case rd:return e=Wt(19,r,t,a),e.elementType=rd,e.lanes=i,e;case Fx:return Vl(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sx:o=10;break e;case Cx:o=9;break e;case qu:o=11;break e;case Uu:o=14;break e;case Ys:o=16,n=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=Wt(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Zr(e,t,r,n){return e=Wt(7,e,n,t),e.lanes=r,e}function Vl(e,t,r,n){return e=Wt(22,e,n,t),e.elementType=Fx,e.lanes=r,e.stateNode={isHidden:!1},e}function Ec(e,t,r){return e=Wt(6,e,null,t),e.lanes=r,e}function Tc(e,t,r){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function A2(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mc(0),this.expirationTimes=mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function km(e,t,r,n,a,i,o,l,c){return e=new A2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(i),e}function E2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vy(e){if(!e)return _r;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var r=e.type;if(Ft(r))return vg(e,r,t)}return t}function by(e,t,r,n,a,i,o,l,c){return e=km(r,n,!0,e,a,i,o,l,c),e.context=vy(null),r=e.current,n=yt(),a=vr(r),i=Ts(n,a),i.callback=t??null,gr(r,i,a),e.current.lanes=a,Bi(e,a,n),Pt(e,n),e}function ql(e,t,r,n){var a=t.current,i=yt(),o=vr(a);return r=vy(r),t.context===null?t.context=r:t.pendingContext=r,t=Ts(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gr(a,t,o),e!==null&&(rs(e,a,o,i),Lo(e,a,o)),o}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sm(e,t){Rp(e,t),(e=e.alternate)&&Rp(e,t)}function T2(){return null}var jy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cm(e){this._internalRoot=e}Ul.prototype.render=Cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));ql(e,t,null,null)};Ul.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){ql(null,e,null,null)}),t[Os]=null}};function Ul(e){this._internalRoot=e}Ul.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xx();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xs.length&&t!==0&&t<Xs[r].priority;r++);Xs.splice(r,0,e),r===0&&eg(e)}};function Fm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function L2(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=yl(o);i.call(d)}}var o=by(t,n,e,0,null,!1,!1,"",Dp);return e._reactRootContainer=o,e[Os]=o.current,gi(e.nodeType===8?e.parentNode:e),on(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=yl(c);l.call(d)}}var c=km(e,0,!1,null,null,!1,!1,"",Dp);return e._reactRootContainer=c,e[Os]=c.current,gi(e.nodeType===8?e.parentNode:e),on(function(){ql(t,c,r,n)}),c}function Hl(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=yl(o);l.call(c)}}ql(t,o,e,a)}else o=L2(r,t,e,a,n);return yl(o)}Yx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Va(t.pendingLanes);r!==0&&(Qu(t,r|1),Pt(t,qe()),!(xe&6)&&(la=qe()+500,Fr()))}break;case 13:on(function(){var n=zs(e,1);if(n!==null){var a=yt();rs(n,e,1,a)}}),Sm(e,1)}};Ku=function(e){if(e.tag===13){var t=zs(e,134217728);if(t!==null){var r=yt();rs(t,e,134217728,r)}Sm(e,134217728)}};Jx=function(e){if(e.tag===13){var t=vr(e),r=zs(e,t);if(r!==null){var n=yt();rs(r,e,t,n)}Sm(e,t)}};Xx=function(){return we};Zx=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};hd=function(e,t,r){switch(t){case"input":if(id(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Dl(n);if(!a)throw Error(se(90));Ax(n),id(n,a)}}}break;case"textarea":Tx(e,r);break;case"select":t=r.value,t!=null&&On(e,!!r.multiple,t,!1)}};Bx=jm;Ix=on;var M2={usingClientEntryPoint:!1,Events:[$i,kn,Dl,Ox,zx,jm]},Ma={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R2={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{Tl=vo.inject(R2),fs=vo}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M2;Ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(t))throw Error(se(200));return E2(e,t,null,r)};Ot.createRoot=function(e,t){if(!Fm(e))throw Error(se(299));var r=!1,n="",a=jy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=km(e,1,!1,null,null,r,!1,n,a),e[Os]=t.current,gi(e.nodeType===8?e.parentNode:e),new Cm(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=qx(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return on(e)};Ot.hydrate=function(e,t,r){if(!Wl(t))throw Error(se(200));return Hl(null,e,t,!0,r)};Ot.hydrateRoot=function(e,t,r){if(!Fm(e))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=jy;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=by(t,null,e,1,r??null,a,!1,i,o),e[Os]=t.current,gi(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ul(t)};Ot.render=function(e,t,r){if(!Wl(t))throw Error(se(200));return Hl(null,e,t,!1,r)};Ot.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(se(40));return e._reactRootContainer?(on(function(){Hl(null,null,e,!1,function(){e._reactRootContainer=null,e[Os]=null})}),!0):!1};Ot.unstable_batchedUpdates=jm;Ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wl(r))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return Hl(e,t,r,!1,n)};Ot.version="18.3.1-next-f1338f8080-20240426";function wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wy)}catch(e){console.error(e)}}wy(),wx.exports=Ot;var D2=wx.exports,Ny,Op=D2;Ny=Op.createRoot,Op.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}var ur;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ur||(ur={}));const zp="popstate";function O2(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Hd("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:vl(a)}return B2(t,r,null,e)}function Ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z2(){return Math.random().toString(36).substr(2,8)}function Bp(e,t){return{usr:e.state,key:e.key,idx:t}}function Hd(e,t,r,n){return r===void 0&&(r=null),Si({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xa(t):t,{state:r,key:t&&t.key||n||z2()})}function vl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function B2(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ur.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Si({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=ur.Pop;let f=u(),p=f==null?null:f-d;d=f,c&&c({action:l,location:b.location,delta:p})}function h(f,p){l=ur.Push;let y=Hd(b.location,f,p);d=u()+1;let x=Bp(y,d),_=b.createHref(y);try{o.pushState(x,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(_)}i&&c&&c({action:l,location:b.location,delta:1})}function v(f,p){l=ur.Replace;let y=Hd(b.location,f,p);d=u();let x=Bp(y,d),_=b.createHref(y);o.replaceState(x,"",_),i&&c&&c({action:l,location:b.location,delta:0})}function g(f){let p=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof f=="string"?f:vl(f);return y=y.replace(/ $/,"%20"),Ue(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let b={get action(){return l},get location(){return e(a,o)},listen(f){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(zp,m),c=f,()=>{a.removeEventListener(zp,m),c=null}},createHref(f){return t(a,f)},createURL:g,encodeLocation(f){let p=g(f);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:v,go(f){return o.go(f)}};return b}var Ip;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ip||(Ip={}));function I2(e,t,r){return r===void 0&&(r="/"),$2(e,t,r)}function $2(e,t,r,n){let a=typeof t=="string"?xa(t):t,i=Am(a.pathname||"/",r);if(i==null)return null;let o=_y(e);V2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ew(i);l=J2(o[c],d)}return l}function _y(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=jr([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),_y(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:G2(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of ky(i.path))a(i,o,c)}),t}function ky(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=ky(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function V2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q2=/^:[\w-]+$/,U2=3,W2=2,H2=1,Q2=10,K2=-2,$p=e=>e==="*";function G2(e,t){let r=e.split("/"),n=r.length;return r.some($p)&&(n+=K2),t&&(n+=W2),r.filter(a=>!$p(a)).reduce((a,i)=>a+(q2.test(i)?U2:i===""?H2:Q2),n)}function Y2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function J2(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=X2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:jr([i,m.pathname]),pathnameBase:aw(jr([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=jr([i,m.pathnameBase]))}return o}function X2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z2(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:h,isOptional:v}=u;if(h==="*"){let b=l[m]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[m];return v&&!g?d[h]=void 0:d[h]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Z2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Pm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ew(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Am(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sw=e=>tw.test(e);function rw(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?xa(e):e,i;if(r)if(sw(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Pm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Vp(r.substring(1),"/"):i=Vp(r,t)}else i=t;return{pathname:i,search:iw(n),hash:ow(a)}}function Vp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Lc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Em(e,t){let r=nw(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Tm(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=xa(e):(a=Si({},e),Ue(!a.pathname||!a.pathname.includes("?"),Lc("?","pathname","search",a)),Ue(!a.pathname||!a.pathname.includes("#"),Lc("#","pathname","hash",a)),Ue(!a.search||!a.search.includes("#"),Lc("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;a.pathname=h.join("/")}l=m>=0?t[m]:"/"}let c=rw(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const jr=e=>e.join("/").replace(/\/\/+/g,"/"),aw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ow=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Sy=["post","put","patch","delete"];new Set(Sy);const cw=["get",...Sy];new Set(cw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}const Lm=j.createContext(null),dw=j.createContext(null),Pr=j.createContext(null),Ql=j.createContext(null),$s=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Cy=j.createContext(null);function uw(e,t){let{relative:r}=t===void 0?{}:t;ga()||Ue(!1);let{basename:n,navigator:a}=j.useContext(Pr),{hash:i,pathname:o,search:l}=Py(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:jr([n,o])),a.createHref({pathname:c,search:l,hash:i})}function ga(){return j.useContext(Ql)!=null}function Vs(){return ga()||Ue(!1),j.useContext(Ql).location}function Fy(e){j.useContext(Pr).static||j.useLayoutEffect(e)}function fn(){let{isDataRoute:e}=j.useContext($s);return e?_w():mw()}function mw(){ga()||Ue(!1);let e=j.useContext(Lm),{basename:t,future:r,navigator:n}=j.useContext(Pr),{matches:a}=j.useContext($s),{pathname:i}=Vs(),o=JSON.stringify(Em(a,r.v7_relativeSplatPath)),l=j.useRef(!1);return Fy(()=>{l.current=!0}),j.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=Tm(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:jr([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,o,i,e])}function Mm(){let{matches:e}=j.useContext($s),t=e[e.length-1];return t?t.params:{}}function Py(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(Pr),{matches:a}=j.useContext($s),{pathname:i}=Vs(),o=JSON.stringify(Em(a,n.v7_relativeSplatPath));return j.useMemo(()=>Tm(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function hw(e,t){return pw(e,t)}function pw(e,t,r,n){ga()||Ue(!1);let{navigator:a}=j.useContext(Pr),{matches:i}=j.useContext($s),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Vs(),u;if(t){var m;let f=typeof t=="string"?xa(t):t;c==="/"||(m=f.pathname)!=null&&m.startsWith(c)||Ue(!1),u=f}else u=d;let h=u.pathname||"/",v=h;if(c!=="/"){let f=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(f.length).join("/")}let g=I2(e,{pathname:v}),b=vw(g&&g.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:jr([c,a.encodeLocation?a.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?c:jr([c,a.encodeLocation?a.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),i,r,n);return t&&b?j.createElement(Ql.Provider,{value:{location:Ci({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ur.Pop}},b):b}function fw(){let e=Nw(),t=lw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const xw=j.createElement(fw,null);class gw extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement($s.Provider,{value:this.props.routeContext},j.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yw(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(Lm);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement($s.Provider,{value:t},n)}function vw(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:v}=r,g=m.route.loader&&h[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let v,g=!1,b=null,f=null;r&&(v=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||xw,c&&(d<0&&h===0?(kw("route-fallback"),g=!0,f=null):d===h&&(g=!0,f=m.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,h+1)),y=()=>{let x;return v?x=b:g?x=f:m.route.Component?x=j.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=u,j.createElement(yw,{match:m,routeContext:{outlet:u,matches:p,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?j.createElement(gw,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var Ay=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ay||{}),Ey=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ey||{});function bw(e){let t=j.useContext(Lm);return t||Ue(!1),t}function jw(e){let t=j.useContext(dw);return t||Ue(!1),t}function ww(e){let t=j.useContext($s);return t||Ue(!1),t}function Ty(e){let t=ww(),r=t.matches[t.matches.length-1];return r.route.id||Ue(!1),r.route.id}function Nw(){var e;let t=j.useContext(Cy),r=jw(),n=Ty();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function _w(){let{router:e}=bw(Ay.UseNavigateStable),t=Ty(Ey.UseNavigateStable),r=j.useRef(!1);return Fy(()=>{r.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ci({fromRouteId:t},i)))},[e,t])}const qp={};function kw(e,t,r){qp[e]||(qp[e]=!0)}function Sw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cw(e){let{to:t,replace:r,state:n,relative:a}=e;ga()||Ue(!1);let{future:i,static:o}=j.useContext(Pr),{matches:l}=j.useContext($s),{pathname:c}=Vs(),d=fn(),u=Tm(t,Em(l,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return j.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:a}),[d,m,a,r,n]),null}function Ne(e){Ue(!1)}function Fw(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ur.Pop,navigator:i,static:o=!1,future:l}=e;ga()&&Ue(!1);let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:i,static:o,future:Ci({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=xa(n));let{pathname:u="/",search:m="",hash:h="",state:v=null,key:g="default"}=n,b=j.useMemo(()=>{let f=Am(u,c);return f==null?null:{location:{pathname:f,search:m,hash:h,state:v,key:g},navigationType:a}},[c,u,m,h,v,g,a]);return b==null?null:j.createElement(Pr.Provider,{value:d},j.createElement(Ql.Provider,{children:r,value:b}))}function Pw(e){let{children:t,location:r}=e;return hw(Qd(t),r)}new Promise(()=>{});function Qd(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let i=[...t,a];if(n.type===j.Fragment){r.push.apply(r,Qd(n.props.children,i));return}n.type!==Ne&&Ue(!1),!n.props.index||!n.props.children||Ue(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Qd(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(this,arguments)}function Aw(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ew(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tw(e,t){return e.button===0&&(!t||t==="_self")&&!Ew(e)}function Gd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Lw(e,t){let r=Gd(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Mw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rw="6";try{window.__reactRouterVersion=Rw}catch{}const Dw="startTransition",Up=k1[Dw];function Ow(e){let{basename:t,children:r,future:n,window:a}=e,i=j.useRef();i.current==null&&(i.current=O2({window:a,v5Compat:!0}));let o=i.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=j.useCallback(m=>{d&&Up?Up(()=>c(m)):c(m)},[c,d]);return j.useLayoutEffect(()=>o.listen(u),[o,u]),j.useEffect(()=>Sw(n),[n]),j.createElement(Fw,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,h=Aw(t,Mw),{basename:v}=j.useContext(Pr),g,b=!1;if(typeof d=="string"&&Bw.test(d)&&(g=d,zw))try{let x=new URL(window.location.href),_=d.startsWith("//")?new URL(x.protocol+d):new URL(d),w=Am(_.pathname,v);_.origin===x.origin&&w!=null?d=w+_.search+_.hash:b=!0}catch{}let f=uw(d,{relative:a}),p=Iw(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:m});function y(x){n&&n(x),x.defaultPrevented||p(x)}return j.createElement("a",Kd({},h,{href:g||f,onClick:b||i?n:y,ref:r,target:c}))});var Wp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var Hp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hp||(Hp={}));function Iw(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=fn(),d=Vs(),u=Py(e,{relative:o});return j.useCallback(m=>{if(Tw(m,r)){m.preventDefault();let h=n!==void 0?n:vl(d)===vl(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function qs(e){let t=j.useRef(Gd(e)),r=j.useRef(!1),n=Vs(),a=j.useMemo(()=>Lw(n.search,r.current?null:t.current),[n.search]),i=fn(),o=j.useCallback((l,c)=>{const d=Gd(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var ya=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$w={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},er,Mu,ex,Vw=(ex=class{constructor(){le(this,er,$w);le(this,Mu,!1)}setTimeoutProvider(e){re(this,er,e)}setTimeout(e,t){return T(this,er).setTimeout(e,t)}clearTimeout(e){T(this,er).clearTimeout(e)}setInterval(e,t){return T(this,er).setInterval(e,t)}clearInterval(e){T(this,er).clearInterval(e)}},er=new WeakMap,Mu=new WeakMap,ex),Br=new Vw;function qw(e){setTimeout(e,0)}var ln=typeof window>"u"||"Deno"in globalThis;function gt(){}function Uw(e,t){return typeof e=="function"?e(t):e}function Yd(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ly(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wr(e,t){return typeof e=="function"?e(t):e}function Vt(e,t){return typeof e=="function"?e(t):e}function Qp(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Rm(o,t.options))return!1}else if(!Fi(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Kp(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(cn(t.options.mutationKey)!==cn(i))return!1}else if(!Fi(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Rm(e,t){return((t==null?void 0:t.queryKeyHashFn)||cn)(e)}function cn(e){return JSON.stringify(e,(t,r)=>Jd(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Fi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Fi(e[r],t[r])):!1}var Ww=Object.prototype.hasOwnProperty;function My(e,t){if(e===t)return e;const r=Gp(e)&&Gp(t);if(!r&&!(Jd(e)&&Jd(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],m=e[u],h=t[u];if(m===h){l[u]=m,(r?d<a:Ww.call(e,u))&&c++;continue}if(m===null||h===null||typeof m!="object"||typeof h!="object"){l[u]=h;continue}const v=My(m,h);l[u]=v,v===m&&c++}return a===o&&c===a?e:l}function bl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Gp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jd(e){if(!Yp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Yp(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Yp(e){return Object.prototype.toString.call(e)==="[object Object]"}function Hw(e){return new Promise(t=>{Br.setTimeout(t,e)})}function Xd(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?My(e,t):t}function Qw(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Kw(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Dm=Symbol();function Ry(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Dm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Dy(e,t){return typeof e=="function"?e(...t):!!e}var qr,tr,Un,tx,Gw=(tx=class extends ya{constructor(){super();le(this,qr);le(this,tr);le(this,Un);re(this,Un,t=>{if(!ln&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){T(this,tr)||this.setEventListener(T(this,Un))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,tr))==null||t.call(this),re(this,tr,void 0))}setEventListener(t){var r;re(this,Un,t),(r=T(this,tr))==null||r.call(this),re(this,tr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){T(this,qr)!==t&&(re(this,qr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof T(this,qr)=="boolean"?T(this,qr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qr=new WeakMap,tr=new WeakMap,Un=new WeakMap,tx),Om=new Gw;function Zd(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Yw=qw;function Jw(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Yw;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ye=Jw(),Wn,sr,Hn,sx,Xw=(sx=class extends ya{constructor(){super();le(this,Wn,!0);le(this,sr);le(this,Hn);re(this,Hn,t=>{if(!ln&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){T(this,sr)||this.setEventListener(T(this,Hn))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,sr))==null||t.call(this),re(this,sr,void 0))}setEventListener(t){var r;re(this,Hn,t),(r=T(this,sr))==null||r.call(this),re(this,sr,t(this.setOnline.bind(this)))}setOnline(t){T(this,Wn)!==t&&(re(this,Wn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return T(this,Wn)}},Wn=new WeakMap,sr=new WeakMap,Hn=new WeakMap,sx),jl=new Xw;function Zw(e){return Math.min(1e3*2**e,3e4)}function Oy(e){return(e??"online")==="online"?jl.isOnline():!0}var eu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zy(e){let t=!1,r=0,n;const a=Zd(),i=()=>a.status!=="pending",o=b=>{var f;if(!i()){const p=new eu(b);h(p),(f=e.onCancel)==null||f.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>Om.isFocused()&&(e.networkMode==="always"||jl.isOnline())&&e.canRun(),u=()=>Oy(e.networkMode)&&e.canRun(),m=b=>{i()||(n==null||n(),a.resolve(b))},h=b=>{i()||(n==null||n(),a.reject(b))},v=()=>new Promise(b=>{var f;n=p=>{(i()||d())&&b(p)},(f=e.onPause)==null||f.call(e)}).then(()=>{var b;n=void 0,i()||(b=e.onContinue)==null||b.call(e)}),g=()=>{if(i())return;let b;const f=r===0?e.initialPromise:void 0;try{b=f??e.fn()}catch(p){b=Promise.reject(p)}Promise.resolve(b).then(m).catch(p=>{var S;if(i())return;const y=e.retry??(ln?0:3),x=e.retryDelay??Zw,_=typeof x=="function"?x(r,p):x,w=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(t||!w){h(p);return}r++,(S=e.onFail)==null||S.call(e,r,p),Hw(_).then(()=>d()?void 0:v()).then(()=>{t?h(p):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():v().then(g),a)}}var Ur,rx,By=(rx=class{constructor(){le(this,Ur)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yd(this.gcTime)&&re(this,Ur,Br.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ln?1/0:5*60*1e3))}clearGcTimeout(){T(this,Ur)&&(Br.clearTimeout(T(this,Ur)),re(this,Ur,void 0))}},Ur=new WeakMap,rx),Wr,Qn,$t,Hr,Xe,Li,Qr,Xt,Ns,nx,eN=(nx=class extends By{constructor(t){super();le(this,Xt);le(this,Wr);le(this,Qn);le(this,$t);le(this,Hr);le(this,Xe);le(this,Li);le(this,Qr);re(this,Qr,!1),re(this,Li,t.defaultOptions),this.setOptions(t.options),this.observers=[],re(this,Hr,t.client),re(this,$t,T(this,Hr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,re(this,Wr,Xp(this.options)),this.state=t.state??T(this,Wr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,Xe))==null?void 0:t.promise}setOptions(t){if(this.options={...T(this,Li),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Xp(this.options);r.data!==void 0&&(this.setState(Jp(r.data,r.dataUpdatedAt)),re(this,Wr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,$t).remove(this)}setData(t,r){const n=Xd(this.state.data,t,this.options);return he(this,Xt,Ns).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){he(this,Xt,Ns).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=T(this,Xe))==null?void 0:n.promise;return(a=T(this,Xe))==null||a.cancel(t),r?r.then(gt).catch(gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Wr))}isActive(){return this.observers.some(t=>Vt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ly(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,Xe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=T(this,Xe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,$t).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(T(this,Xe)&&(T(this,Qr)?T(this,Xe).cancel({revert:!0}):T(this,Xe).cancelRetry()),this.scheduleGc()),T(this,$t).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||he(this,Xt,Ns).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,m,h,v,g,b,f,p,y,x;if(this.state.fetchStatus!=="idle"&&((c=T(this,Xe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(T(this,Xe))return T(this,Xe).continueRetry(),T(this,Xe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(re(this,Qr,!0),n.signal)})},i=()=>{const _=Ry(this.options,r),S=(()=>{const P={client:T(this,Hr),queryKey:this.queryKey,meta:this.meta};return a(P),P})();return re(this,Qr,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:T(this,Hr),state:this.state,fetchFn:i};return a(_),_})();(d=this.options.behavior)==null||d.onFetch(l,this),re(this,Qn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&he(this,Xt,Ns).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),re(this,Xe,zy({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof eu&&_.revert&&this.setState({...T(this,Qn),fetchStatus:"idle"}),n.abort()},onFail:(_,w)=>{he(this,Xt,Ns).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{he(this,Xt,Ns).call(this,{type:"pause"})},onContinue:()=>{he(this,Xt,Ns).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await T(this,Xe).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(v=(h=T(this,$t).config).onSuccess)==null||v.call(h,_,this),(b=(g=T(this,$t).config).onSettled)==null||b.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof eu){if(_.silent)return T(this,Xe).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw he(this,Xt,Ns).call(this,{type:"error",error:_}),(p=(f=T(this,$t).config).onError)==null||p.call(f,_,this),(x=(y=T(this,$t).config).onSettled)==null||x.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},Wr=new WeakMap,Qn=new WeakMap,$t=new WeakMap,Hr=new WeakMap,Xe=new WeakMap,Li=new WeakMap,Qr=new WeakMap,Xt=new WeakSet,Ns=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Iy(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Jp(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,Qn,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ye.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),T(this,$t).notify({query:this,type:"updated",action:t})})},nx);function Iy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Oy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Jp(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Nt,fe,Mi,pt,Kr,Kn,Ss,rr,Ri,Gn,Yn,Gr,Yr,nr,Jn,be,Ua,tu,su,ru,nu,au,iu,ou,$y,ax,tN=(ax=class extends ya{constructor(t,r){super();le(this,be);le(this,Nt);le(this,fe);le(this,Mi);le(this,pt);le(this,Kr);le(this,Kn);le(this,Ss);le(this,rr);le(this,Ri);le(this,Gn);le(this,Yn);le(this,Gr);le(this,Yr);le(this,nr);le(this,Jn,new Set);this.options=r,re(this,Nt,t),re(this,rr,null),re(this,Ss,Zd()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,fe).addObserver(this),Zp(T(this,fe),this.options)?he(this,be,Ua).call(this):this.updateResult(),he(this,be,nu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lu(T(this,fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lu(T(this,fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,he(this,be,au).call(this),he(this,be,iu).call(this),T(this,fe).removeObserver(this)}setOptions(t){const r=this.options,n=T(this,fe);if(this.options=T(this,Nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vt(this.options.enabled,T(this,fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");he(this,be,ou).call(this),T(this,fe).setOptions(this.options),r._defaulted&&!bl(this.options,r)&&T(this,Nt).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,fe),observer:this});const a=this.hasListeners();a&&ef(T(this,fe),n,this.options,r)&&he(this,be,Ua).call(this),this.updateResult(),a&&(T(this,fe)!==n||Vt(this.options.enabled,T(this,fe))!==Vt(r.enabled,T(this,fe))||wr(this.options.staleTime,T(this,fe))!==wr(r.staleTime,T(this,fe)))&&he(this,be,tu).call(this);const i=he(this,be,su).call(this);a&&(T(this,fe)!==n||Vt(this.options.enabled,T(this,fe))!==Vt(r.enabled,T(this,fe))||i!==T(this,nr))&&he(this,be,ru).call(this,i)}getOptimisticResult(t){const r=T(this,Nt).getQueryCache().build(T(this,Nt),t),n=this.createResult(r,t);return rN(this,n)&&(re(this,pt,n),re(this,Kn,this.options),re(this,Kr,T(this,fe).state)),n}getCurrentResult(){return T(this,pt)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,Ss).status==="pending"&&T(this,Ss).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){T(this,Jn).add(t)}getCurrentQuery(){return T(this,fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=T(this,Nt).defaultQueryOptions(t),n=T(this,Nt).getQueryCache().build(T(this,Nt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return he(this,be,Ua).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,pt)))}createResult(t,r){var R;const n=T(this,fe),a=this.options,i=T(this,pt),o=T(this,Kr),l=T(this,Kn),d=t!==n?t.state:T(this,Mi),{state:u}=t;let m={...u},h=!1,v;if(r._optimisticResults){const $=this.hasListeners(),Y=!$&&Zp(t,r),O=$&&ef(t,n,r,a);(Y||O)&&(m={...m,...Iy(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:f}=m;v=m.data;let p=!1;if(r.placeholderData!==void 0&&v===void 0&&f==="pending"){let $;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?($=i.data,p=!0):$=typeof r.placeholderData=="function"?r.placeholderData((R=T(this,Yn))==null?void 0:R.state.data,T(this,Yn)):r.placeholderData,$!==void 0&&(f="success",v=Xd(i==null?void 0:i.data,$,r),h=!0)}if(r.select&&v!==void 0&&!p)if(i&&v===(o==null?void 0:o.data)&&r.select===T(this,Ri))v=T(this,Gn);else try{re(this,Ri,r.select),v=r.select(v),v=Xd(i==null?void 0:i.data,v,r),re(this,Gn,v),re(this,rr,null)}catch($){re(this,rr,$)}T(this,rr)&&(g=T(this,rr),v=T(this,Gn),b=Date.now(),f="error");const y=m.fetchStatus==="fetching",x=f==="pending",_=f==="error",w=x&&y,S=v!==void 0,C={status:f,fetchStatus:m.fetchStatus,isPending:x,isSuccess:f==="success",isError:_,isInitialLoading:w,isLoading:w,data:v,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:_&&!S,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:zm(t,r),refetch:this.refetch,promise:T(this,Ss),isEnabled:Vt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},Y=()=>{const D=re(this,Ss,C.promise=Zd());$(D)},O=T(this,Ss);switch(O.status){case"pending":t.queryHash===n.queryHash&&$(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&Y();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&Y();break}}return C}updateResult(){const t=T(this,pt),r=this.createResult(T(this,fe),this.options);if(re(this,Kr,T(this,fe).state),re(this,Kn,this.options),T(this,Kr).data!==void 0&&re(this,Yn,T(this,fe)),bl(r,t))return;re(this,pt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!T(this,Jn).size)return!0;const o=new Set(i??T(this,Jn));return this.options.throwOnError&&o.add("error"),Object.keys(T(this,pt)).some(l=>{const c=l;return T(this,pt)[c]!==t[c]&&o.has(c)})};he(this,be,$y).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&he(this,be,nu).call(this)}},Nt=new WeakMap,fe=new WeakMap,Mi=new WeakMap,pt=new WeakMap,Kr=new WeakMap,Kn=new WeakMap,Ss=new WeakMap,rr=new WeakMap,Ri=new WeakMap,Gn=new WeakMap,Yn=new WeakMap,Gr=new WeakMap,Yr=new WeakMap,nr=new WeakMap,Jn=new WeakMap,be=new WeakSet,Ua=function(t){he(this,be,ou).call(this);let r=T(this,fe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(gt)),r},tu=function(){he(this,be,au).call(this);const t=wr(this.options.staleTime,T(this,fe));if(ln||T(this,pt).isStale||!Yd(t))return;const n=Ly(T(this,pt).dataUpdatedAt,t)+1;re(this,Gr,Br.setTimeout(()=>{T(this,pt).isStale||this.updateResult()},n))},su=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,fe)):this.options.refetchInterval)??!1},ru=function(t){he(this,be,iu).call(this),re(this,nr,t),!(ln||Vt(this.options.enabled,T(this,fe))===!1||!Yd(T(this,nr))||T(this,nr)===0)&&re(this,Yr,Br.setInterval(()=>{(this.options.refetchIntervalInBackground||Om.isFocused())&&he(this,be,Ua).call(this)},T(this,nr)))},nu=function(){he(this,be,tu).call(this),he(this,be,ru).call(this,he(this,be,su).call(this))},au=function(){T(this,Gr)&&(Br.clearTimeout(T(this,Gr)),re(this,Gr,void 0))},iu=function(){T(this,Yr)&&(Br.clearInterval(T(this,Yr)),re(this,Yr,void 0))},ou=function(){const t=T(this,Nt).getQueryCache().build(T(this,Nt),this.options);if(t===T(this,fe))return;const r=T(this,fe);re(this,fe,t),re(this,Mi,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$y=function(t){Ye.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(T(this,pt))}),T(this,Nt).getQueryCache().notify({query:T(this,fe),type:"observerResultsUpdated"})})},ax);function sN(e,t){return Vt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zp(e,t){return sN(e,t)||e.state.data!==void 0&&lu(e,t,t.refetchOnMount)}function lu(e,t,r){if(Vt(t.enabled,e)!==!1&&wr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zm(e,t)}return!1}function ef(e,t,r,n){return(e!==t||Vt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zm(e,r)}function zm(e,t){return Vt(t.enabled,e)!==!1&&e.isStaleByTime(wr(t.staleTime,e))}function rN(e,t){return!bl(e.getCurrentResult(),t)}function tf(e){return{onFetch:(t,r)=>{var u,m,h,v,g;const n=t.options,a=(h=(m=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const f=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},p=Ry(t.options,t.fetchOptions),y=async(x,_,w)=>{if(b)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const P=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return f(Y),Y})(),C=await p(P),{maxPages:R}=t.options,$=w?Kw:Qw;return{pages:$(x.pages,C,R),pageParams:$(x.pageParams,_,R)}};if(a&&i.length){const x=a==="backward",_=x?nN:sf,w={pages:i,pageParams:o},S=_(n,w);l=await y(w,S,x)}else{const x=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:sf(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var b,f;return(f=(b=t.options).persister)==null?void 0:f.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function sf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function nN(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Di,ds,ft,Jr,us,Qs,ix,aN=(ix=class extends By{constructor(t){super();le(this,us);le(this,Di);le(this,ds);le(this,ft);le(this,Jr);re(this,Di,t.client),this.mutationId=t.mutationId,re(this,ft,t.mutationCache),re(this,ds,[]),this.state=t.state||Vy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,ds).includes(t)||(T(this,ds).push(t),this.clearGcTimeout(),T(this,ft).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){re(this,ds,T(this,ds).filter(r=>r!==t)),this.scheduleGc(),T(this,ft).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,ds).length||(this.state.status==="pending"?this.scheduleGc():T(this,ft).remove(this))}continue(){var t;return((t=T(this,Jr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,m,h,v,g,b,f,p,y,x,_,w,S,P,C,R;const r=()=>{he(this,us,Qs).call(this,{type:"continue"})},n={client:T(this,Di),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,Jr,zy({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:($,Y)=>{he(this,us,Qs).call(this,{type:"failed",failureCount:$,error:Y})},onPause:()=>{he(this,us,Qs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,ft).canRun(this)}));const a=this.state.status==="pending",i=!T(this,Jr).canStart();try{if(a)r();else{he(this,us,Qs).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=T(this,ft).config).onMutate)==null?void 0:l.call(o,t,this,n));const Y=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));Y!==this.state.context&&he(this,us,Qs).call(this,{type:"pending",context:Y,variables:t,isPaused:i})}const $=await T(this,Jr).start();return await((m=(u=T(this,ft).config).onSuccess)==null?void 0:m.call(u,$,t,this.state.context,this,n)),await((v=(h=this.options).onSuccess)==null?void 0:v.call(h,$,t,this.state.context,n)),await((b=(g=T(this,ft).config).onSettled)==null?void 0:b.call(g,$,null,this.state.variables,this.state.context,this,n)),await((p=(f=this.options).onSettled)==null?void 0:p.call(f,$,null,t,this.state.context,n)),he(this,us,Qs).call(this,{type:"success",data:$}),$}catch($){try{throw await((x=(y=T(this,ft).config).onError)==null?void 0:x.call(y,$,t,this.state.context,this,n)),await((w=(_=this.options).onError)==null?void 0:w.call(_,$,t,this.state.context,n)),await((P=(S=T(this,ft).config).onSettled)==null?void 0:P.call(S,void 0,$,this.state.variables,this.state.context,this,n)),await((R=(C=this.options).onSettled)==null?void 0:R.call(C,void 0,$,t,this.state.context,n)),$}finally{he(this,us,Qs).call(this,{type:"error",error:$})}}finally{T(this,ft).runNext(this)}}},Di=new WeakMap,ds=new WeakMap,ft=new WeakMap,Jr=new WeakMap,us=new WeakSet,Qs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ye.batch(()=>{T(this,ds).forEach(n=>{n.onMutationUpdate(t)}),T(this,ft).notify({mutation:this,type:"updated",action:t})})},ix);function Vy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cs,Zt,Oi,ox,iN=(ox=class extends ya{constructor(t={}){super();le(this,Cs);le(this,Zt);le(this,Oi);this.config=t,re(this,Cs,new Set),re(this,Zt,new Map),re(this,Oi,0)}build(t,r,n){const a=new aN({client:t,mutationCache:this,mutationId:++to(this,Oi)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){T(this,Cs).add(t);const r=bo(t);if(typeof r=="string"){const n=T(this,Zt).get(r);n?n.push(t):T(this,Zt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,Cs).delete(t)){const r=bo(t);if(typeof r=="string"){const n=T(this,Zt).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&T(this,Zt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=bo(t);if(typeof r=="string"){const n=T(this,Zt).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=bo(t);if(typeof r=="string"){const a=(n=T(this,Zt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ye.batch(()=>{T(this,Cs).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,Cs).clear(),T(this,Zt).clear()})}getAll(){return Array.from(T(this,Cs))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kp(r,n))}findAll(t={}){return this.getAll().filter(r=>Kp(t,r))}notify(t){Ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ye.batch(()=>Promise.all(t.map(r=>r.continue().catch(gt))))}},Cs=new WeakMap,Zt=new WeakMap,Oi=new WeakMap,ox);function bo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Fs,ar,_t,Ps,Rs,Io,cu,lx,oN=(lx=class extends ya{constructor(r,n){super();le(this,Rs);le(this,Fs);le(this,ar);le(this,_t);le(this,Ps);re(this,Fs,r),this.setOptions(n),this.bindMethods(),he(this,Rs,Io).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=T(this,Fs).defaultMutationOptions(r),bl(this.options,n)||T(this,Fs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,_t),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&cn(n.mutationKey)!==cn(this.options.mutationKey)?this.reset():((a=T(this,_t))==null?void 0:a.state.status)==="pending"&&T(this,_t).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=T(this,_t))==null||r.removeObserver(this)}onMutationUpdate(r){he(this,Rs,Io).call(this),he(this,Rs,cu).call(this,r)}getCurrentResult(){return T(this,ar)}reset(){var r;(r=T(this,_t))==null||r.removeObserver(this),re(this,_t,void 0),he(this,Rs,Io).call(this),he(this,Rs,cu).call(this)}mutate(r,n){var a;return re(this,Ps,n),(a=T(this,_t))==null||a.removeObserver(this),re(this,_t,T(this,Fs).getMutationCache().build(T(this,Fs),this.options)),T(this,_t).addObserver(this),T(this,_t).execute(r)}},Fs=new WeakMap,ar=new WeakMap,_t=new WeakMap,Ps=new WeakMap,Rs=new WeakSet,Io=function(){var n;const r=((n=T(this,_t))==null?void 0:n.state)??Vy();re(this,ar,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},cu=function(r){Ye.batch(()=>{var n,a,i,o,l,c,d,u;if(T(this,Ps)&&this.hasListeners()){const m=T(this,ar).variables,h=T(this,ar).context,v={client:T(this,Fs),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=T(this,Ps)).onSuccess)==null||a.call(n,r.data,m,h,v),(o=(i=T(this,Ps)).onSettled)==null||o.call(i,r.data,null,m,h,v)):(r==null?void 0:r.type)==="error"&&((c=(l=T(this,Ps)).onError)==null||c.call(l,r.error,m,h,v),(u=(d=T(this,Ps)).onSettled)==null||u.call(d,void 0,r.error,m,h,v))}this.listeners.forEach(m=>{m(T(this,ar))})})},lx),ms,cx,lN=(cx=class extends ya{constructor(t={}){super();le(this,ms);this.config=t,re(this,ms,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Rm(a,r);let o=this.get(i);return o||(o=new eN({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){T(this,ms).has(t.queryHash)||(T(this,ms).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=T(this,ms).get(t.queryHash);r&&(t.destroy(),r===t&&T(this,ms).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ye.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,ms).get(t)}getAll(){return[...T(this,ms).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Qp(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Qp(t,n)):r}notify(t){Ye.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ye.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ye.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ms=new WeakMap,cx),Oe,ir,or,Xn,Zn,lr,ea,ta,dx,cN=(dx=class{constructor(e={}){le(this,Oe);le(this,ir);le(this,or);le(this,Xn);le(this,Zn);le(this,lr);le(this,ea);le(this,ta);re(this,Oe,e.queryCache||new lN),re(this,ir,e.mutationCache||new iN),re(this,or,e.defaultOptions||{}),re(this,Xn,new Map),re(this,Zn,new Map),re(this,lr,0)}mount(){to(this,lr)._++,T(this,lr)===1&&(re(this,ea,Om.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Oe).onFocus())})),re(this,ta,jl.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Oe).onOnline())})))}unmount(){var e,t;to(this,lr)._--,T(this,lr)===0&&((e=T(this,ea))==null||e.call(this),re(this,ea,void 0),(t=T(this,ta))==null||t.call(this),re(this,ta,void 0))}isFetching(e){return T(this,Oe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,ir).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,Oe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=T(this,Oe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(wr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return T(this,Oe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=T(this,Oe).get(n.queryHash),i=a==null?void 0:a.state.data,o=Uw(t,i);if(o!==void 0)return T(this,Oe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ye.batch(()=>T(this,Oe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=T(this,Oe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=T(this,Oe);Ye.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=T(this,Oe);return Ye.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ye.batch(()=>T(this,Oe).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(gt).catch(gt)}invalidateQueries(e,t={}){return Ye.batch(()=>(T(this,Oe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ye.batch(()=>T(this,Oe).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(gt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(gt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=T(this,Oe).build(this,t);return r.isStaleByTime(wr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gt).catch(gt)}fetchInfiniteQuery(e){return e.behavior=tf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gt).catch(gt)}ensureInfiniteQueryData(e){return e.behavior=tf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jl.isOnline()?T(this,ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Oe)}getMutationCache(){return T(this,ir)}getDefaultOptions(){return T(this,or)}setDefaultOptions(e){re(this,or,e)}setQueryDefaults(e,t){T(this,Xn).set(cn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,Xn).values()],r={};return t.forEach(n=>{Fi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){T(this,Zn).set(cn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Zn).values()],r={};return t.forEach(n=>{Fi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,or).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Dm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,or).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,Oe).clear(),T(this,ir).clear()}},Oe=new WeakMap,ir=new WeakMap,or=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,lr=new WeakMap,ea=new WeakMap,ta=new WeakMap,dx),qy=j.createContext(void 0),bs=e=>{const t=j.useContext(qy);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dN=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(qy.Provider,{value:e,children:t})),Uy=j.createContext(!1),uN=()=>j.useContext(Uy);Uy.Provider;function mN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hN=j.createContext(mN()),pN=()=>j.useContext(hN),fN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xN=e=>{j.useEffect(()=>{e.clearReset()},[e])},gN=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Dy(r,[e.error,n])),yN=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vN=(e,t)=>e.isLoading&&e.isFetching&&!t,bN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rf=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function jN(e,t,r){var m,h,v,g,b;const n=uN(),a=pN(),i=bs(),o=i.defaultQueryOptions(e);(h=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||h.call(m,o),o._optimisticResults=n?"isRestoring":"optimistic",yN(o),fN(o,a),xN(a);const l=!i.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(f=>{const p=u?c.subscribe(Ye.batchCalls(f)):gt;return c.updateResult(),p},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),bN(o,d))throw rf(o,c,a);if(gN({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,d),o.experimental_prefetchInRender&&!ln&&vN(d,n)){const f=l?rf(o,c,a):(b=i.getQueryCache().get(o.queryHash))==null?void 0:b.promise;f==null||f.catch(gt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ce(e,t){return jN(e,tN)}function ve(e,t){const r=bs(),[n]=j.useState(()=>new oN(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(Ye.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=j.useCallback((o,l)=>{n.mutate(o,l).catch(gt)},[n]);if(a.error&&Dy(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Bm=j.createContext({});function va(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kl=j.createContext(null),qi=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class wN extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NN({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=j.useContext(qi);return j.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(wN,{isPresent:t,childRef:n,sizeRef:a,children:j.cloneElement(e,{ref:n})})}const _N=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=va(kN),c=j.useId(),d=j.useCallback(m=>{l.set(m,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:d,register:m=>(l.set(m,!1),()=>l.delete(m))}),i?[Math.random(),d]:[r,d]);return j.useMemo(()=>{l.forEach((m,h)=>l.set(h,!1))},[r]),j.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(NN,{isPresent:r,children:e})),s.jsx(Kl.Provider,{value:u,children:e})};function kN(){return new Map}function Wy(e=!0){const t=j.useContext(Kl);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=j.useId();j.useEffect(()=>{e&&a(i)},[e]);const o=j.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const jo=e=>e.key||"";function nf(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const Im=typeof window<"u",Ui=Im?j.useLayoutEffect:j.useEffect,dn=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=Wy(o),d=j.useMemo(()=>nf(e),[e]),u=o&&!l?[]:d.map(jo),m=j.useRef(!0),h=j.useRef(d),v=va(()=>new Map),[g,b]=j.useState(d),[f,p]=j.useState(d);Ui(()=>{m.current=!1,h.current=d;for(let _=0;_<f.length;_++){const w=jo(f[_]);u.includes(w)?v.delete(w):v.get(w)!==!0&&v.set(w,!1)}},[f,u.length,u.join("-")]);const y=[];if(d!==g){let _=[...d];for(let w=0;w<f.length;w++){const S=f[w],P=jo(S);u.includes(P)||(_.splice(w,0,S),y.push(S))}i==="wait"&&y.length&&(_=y),p(nf(_)),b(d);return}const{forceRender:x}=j.useContext(Bm);return s.jsx(s.Fragment,{children:f.map(_=>{const w=jo(_),S=o&&!l?!1:d===f||u.includes(w),P=()=>{if(v.has(w))v.set(w,!0);else return;let C=!0;v.forEach(R=>{R||(C=!1)}),C&&(x==null||x(),p(h.current),o&&(c==null||c()),n&&n())};return s.jsx(_N,{isPresent:S,initial:!m.current||r?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:S?void 0:P,children:_},w)})})},vt=e=>e;let SN=vt,Hy=vt;function $m(e){let t;return()=>(t===void 0&&(t=e()),t)}const un=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Ls=e=>e*1e3,Ms=e=>e/1e3,CN={useManualTiming:!1};function FN(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,m=!1)=>{const v=m&&n?t:r;return u&&i.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),i.delete(d)},process:d=>{if(o=d,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(d))}};return c}const wo=["read","resolveKeyframes","update","preRender","render","postRender"],PN=40;function Qy(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=wo.reduce((p,y)=>(p[y]=FN(i),p),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:h}=o,v=()=>{const p=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(p-a.timestamp,PN),1),a.timestamp=p,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},g=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:wo.reduce((p,y)=>{const x=o[y];return p[y]=(_,w=!1,S=!1)=>(r||g(),x.schedule(_,w,S)),p},{}),cancel:p=>{for(let y=0;y<wo.length;y++)o[wo[y]].cancel(p)},state:a,steps:o}}const{schedule:ge,cancel:as,state:Ke,steps:Mc}=Qy(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),Ky=j.createContext({strict:!1}),af={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ca={};for(const e in af)ca[e]={isEnabled:t=>af[e].some(r=>!!t[r])};function AN(e){for(const t in e)ca[t]={...ca[t],...e[t]}}const EN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EN.has(e)}let Gy=e=>!wl(e);function TN(e){e&&(Gy=t=>t.startsWith("on")?!wl(t):e(t))}try{TN(require("@emotion/is-prop-valid").default)}catch{}function LN(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Gy(a)||r===!0&&wl(a)||!t&&!wl(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function MN(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Gl=j.createContext({});function Pi(e){return typeof e=="string"||Array.isArray(e)}function Yl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Vm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qm=["initial",...Vm];function Jl(e){return Yl(e.animate)||qm.some(t=>Pi(e[t]))}function Yy(e){return!!(Jl(e)||e.variants)}function RN(e,t){if(Jl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Pi(r)?r:void 0,animate:Pi(n)?n:void 0}}return e.inherit!==!1?t:{}}function DN(e){const{initial:t,animate:r}=RN(e,j.useContext(Gl));return j.useMemo(()=>({initial:t,animate:r}),[of(t),of(r)])}function of(e){return Array.isArray(e)?e.join(" "):e}const ON=Symbol.for("motionComponentSymbol");function Tn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zN(e,t,r){return j.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Tn(r)&&(r.current=n))},[t])}const Um=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BN="framerAppearId",Jy="data-"+Um(BN),{schedule:Wm}=Qy(queueMicrotask,!1),Xy=j.createContext({});function IN(e,t,r,n,a){var i,o;const{visualElement:l}=j.useContext(Gl),c=j.useContext(Ky),d=j.useContext(Kl),u=j.useContext(qi).reducedMotion,m=j.useRef(null);n=n||c.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const h=m.current,v=j.useContext(Xy);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&$N(m.current,r,a,v);const g=j.useRef(!1);j.useInsertionEffect(()=>{h&&g.current&&h.update(r,d)});const b=r[Jy],f=j.useRef(!!b&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return Ui(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Wm.render(h.render),f.current&&h.animationState&&h.animationState.animateChanges())}),j.useEffect(()=>{h&&(!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,b)}),f.current=!1))}),h}function $N(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Zy(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Tn(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function Zy(e){if(e)return e.options.allowProjection!==!1?e.projection:Zy(e.parent)}function VN({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){var i,o;e&&AN(e);function l(d,u){let m;const h={...j.useContext(qi),...d,layoutId:qN(d)},{isStatic:v}=h,g=DN(d),b=n(d,v);if(!v&&Im){UN();const f=WN(h);m=f.MeasureLayout,g.visualElement=IN(a,b,h,t,f.ProjectionNode)}return s.jsxs(Gl.Provider,{value:g,children:[m&&g.visualElement?s.jsx(m,{visualElement:g.visualElement,...h}):null,r(a,d,zN(b,g.visualElement,u),b,v,g.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=j.forwardRef(l);return c[ON]=a,c}function qN({layoutId:e}){const t=j.useContext(Bm).id;return t&&e!==void 0?t+"-"+e:e}function UN(e,t){j.useContext(Ky).strict}function WN(e){const{drag:t,layout:r}=ca;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const HN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hm(e){return typeof e!="string"||e.includes("-")?!1:!!(HN.indexOf(e)>-1||/[A-Z]/u.test(e))}function lf(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Qm(e,t,r,n){if(typeof t=="function"){const[a,i]=lf(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=lf(n);t=t(r!==void 0?r:e.custom,a,i)}return t}const du=e=>Array.isArray(e),QN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),KN=e=>du(e)?e[e.length-1]||0:e,et=e=>!!(e&&e.getVelocity);function $o(e){const t=et(e)?e.get():e;return QN(t)?t.toValue():t}function GN({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,a,i){const o={latestValues:YN(n,a,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const ev=e=>(t,r)=>{const n=j.useContext(Gl),a=j.useContext(Kl),i=()=>GN(e,t,n,a);return r?i():va(i)};function YN(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=$o(i[h]);let{initial:o,animate:l}=e;const c=Jl(e),d=Yy(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!Yl(m)){const h=Array.isArray(m)?m:[m];for(let v=0;v<h.length;v++){const g=Qm(e,h[v]);if(g){const{transitionEnd:b,transition:f,...p}=g;for(const y in p){let x=p[y];if(Array.isArray(x)){const _=u?x.length-1:0;x=x[_]}x!==null&&(a[y]=x)}for(const y in b)a[y]=b[y]}}}return a}const ba=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xn=new Set(ba),tv=e=>t=>typeof t=="string"&&t.startsWith(e),sv=tv("--"),JN=tv("var(--"),Km=e=>JN(e)?XN.test(e.split("/*")[0].trim()):!1,XN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,vs=(e,t,r)=>r>t?t:r<e?e:r,ja={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ai={...ja,transform:e=>vs(0,1,e)},No={...ja,default:1},Wi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ks=Wi("deg"),gs=Wi("%"),de=Wi("px"),ZN=Wi("vh"),e_=Wi("vw"),cf={...gs,parse:e=>gs.parse(e)/100,transform:e=>gs.transform(e*100)},t_={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},s_={rotate:Ks,rotateX:Ks,rotateY:Ks,rotateZ:Ks,scale:No,scaleX:No,scaleY:No,scaleZ:No,skew:Ks,skewX:Ks,skewY:Ks,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ai,originX:cf,originY:cf,originZ:de},df={...ja,transform:Math.round},Gm={...t_,...s_,zIndex:df,size:de,fillOpacity:Ai,strokeOpacity:Ai,numOctaves:df},r_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n_=ba.length;function a_(e,t,r){let n="",a=!0;for(let i=0;i<n_;i++){const o=ba[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=rv(l,Gm[o]);if(!c){a=!1;const u=r_[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Ym(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(xn.has(c)){o=!0;continue}else if(sv(c)){a[c]=d;continue}else{const u=rv(d,Gm[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=a_(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const i_={offset:"stroke-dashoffset",array:"stroke-dasharray"},o_={offset:"strokeDashoffset",array:"strokeDasharray"};function l_(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?i_:o_;e[i.offset]=de.transform(-n);const o=de.transform(t),l=de.transform(r);e[i.array]=`${o} ${l}`}function uf(e,t,r){return typeof e=="string"?e:de.transform(t+r*e)}function c_(e,t,r){const n=uf(t,e.x,e.width),a=uf(r,e.y,e.height);return`${n} ${a}`}function Jm(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(Ym(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:v,dimensions:g}=e;h.transform&&(g&&(v.transform=h.transform),delete h.transform),g&&(a!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=c_(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&l_(h,o,l,c,!1)}const Xm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),nv=()=>({...Xm(),attrs:{}}),Zm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function av(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const iv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ov(e,t,r,n){av(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(iv.has(a)?a:Um(a),t.attrs[a])}const Nl={};function d_(e){Object.assign(Nl,e)}function lv(e,{layout:t,layoutId:r}){return xn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Nl[e]||e==="opacity")}function eh(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(et(a[o])||t.style&&et(t.style[o])||lv(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function cv(e,t,r){const n=eh(e,t,r);for(const a in e)if(et(e[a])||et(t[a])){const i=ba.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function u_(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const mf=["x","y","width","height","cx","cy","r"],m_={useVisualState:ev({scrapeMotionValuesFromProps:cv,createRenderState:nv,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:a})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in a)if(xn.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<mf.length;l++){const c=mf[l];e[c]!==t[c]&&(o=!0)}o&&ge.read(()=>{u_(r,n),ge.render(()=>{Jm(n,a,Zm(r.tagName),e.transformTemplate),ov(r,n)})})}})},h_={useVisualState:ev({scrapeMotionValuesFromProps:eh,createRenderState:Xm})};function dv(e,t,r){for(const n in t)!et(t[n])&&!lv(n,r)&&(e[n]=t[n])}function p_({transformTemplate:e},t){return j.useMemo(()=>{const r=Xm();return Ym(r,t,e),Object.assign({},r.vars,r.style)},[t])}function f_(e,t){const r=e.style||{},n={};return dv(n,r,e),Object.assign(n,p_(e,t)),n}function x_(e,t){const r={},n=f_(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function g_(e,t,r,n){const a=j.useMemo(()=>{const i=nv();return Jm(i,t,Zm(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};dv(i,e.style,e),a.style={...i,...a.style}}return a}function y_(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(Hm(r)?g_:x_)(n,i,o,r),d=LN(n,typeof r=="string",e),u=r!==j.Fragment?{...d,...c,ref:a}:{},{children:m}=n,h=j.useMemo(()=>et(m)?m.get():m,[m]);return j.createElement(r,{...u,children:h})}}function v_(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...Hm(n)?m_:h_,preloadedFeatures:e,useRender:y_(a),createVisualElement:t,Component:n};return VN(o)}}function uv(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Xl(e,t,r){const n=e.getProps();return Qm(n,t,r!==void 0?r:n.custom,e)}const mv=$m(()=>window.ScrollTimeline!==void 0);class b_{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>{if(mv()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class j_ extends b_{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function th(e,t){return e?e[t]||e.default||e:void 0}const uu=2e4;function hv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<uu;)t+=r,n=e.next(t);return t>=uu?1/0:t}function sh(e){return typeof e=="function"}function hf(e,t){e.timeline=t,e.onfinish=null}const rh=e=>Array.isArray(e)&&typeof e[0]=="number",w_={linearEasing:void 0};function N_(e,t){const r=$m(e);return()=>{var n;return(n=w_[t])!==null&&n!==void 0?n:r()}}const _l=N_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pv=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(un(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function fv(e){return!!(typeof e=="function"&&_l()||!e||typeof e=="string"&&(e in mu||_l())||rh(e)||Array.isArray(e)&&e.every(fv))}const Wa=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,mu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function xv(e,t){if(e)return typeof e=="function"&&_l()?pv(e,t):rh(e)?Wa(e):Array.isArray(e)?e.map(r=>xv(r,t)||mu.easeOut):mu[e]}const Yt={x:!1,y:!1};function gv(){return Yt.x||Yt.y}function nh(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function yv(e,t){const r=nh(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function pf(e){return t=>{t.pointerType==="touch"||gv()||e(t)}}function __(e,t,r={}){const[n,a,i]=yv(e,r),o=pf(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=pf(m=>{d(m),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const vv=(e,t)=>t?e===t?!0:vv(e,t.parentElement):!1,ah=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,k_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S_(e){return k_.has(e.tagName)||e.tabIndex!==-1}const Ha=new WeakSet;function ff(e){return t=>{t.key==="Enter"&&e(t)}}function Rc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C_=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=ff(()=>{if(Ha.has(r))return;Rc(r,"down");const a=ff(()=>{Rc(r,"up")}),i=()=>Rc(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function xf(e){return ah(e)&&!gv()}function F_(e,t,r={}){const[n,a,i]=yv(e,r),o=l=>{const c=l.currentTarget;if(!xf(l)||Ha.has(c))return;Ha.add(c);const d=t(l),u=(v,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",h),!(!xf(v)||!Ha.has(c))&&(Ha.delete(c),typeof d=="function"&&d(v,{success:g}))},m=v=>{u(v,r.useGlobalTarget||vv(c,v.target))},h=v=>{u(v,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{!S_(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>C_(d,a),a)}),i}function P_(e){return e==="x"||e==="y"?Yt[e]?null:(Yt[e]=!0,()=>{Yt[e]=!1}):Yt.x||Yt.y?null:(Yt.x=Yt.y=!0,()=>{Yt.x=Yt.y=!1})}const bv=new Set(["width","height","top","left","right","bottom",...ba]);let Vo;function A_(){Vo=void 0}const ys={now:()=>(Vo===void 0&&ys.set(Ke.isProcessing||CN.useManualTiming?Ke.timestamp:performance.now()),Vo),set:e=>{Vo=e,queueMicrotask(A_)}};function ih(e,t){e.indexOf(t)===-1&&e.push(t)}function oh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class lh{constructor(){this.subscriptions=[]}add(t){return ih(this.subscriptions,t),()=>oh(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ch(e,t){return t?e*(1e3/t):0}const gf=30,E_=e=>!isNaN(parseFloat(e)),ri={current:void 0};class T_{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=ys.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new lh);const n=this.events[t].add(r);return t==="change"?()=>{n(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ri.current&&ri.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>gf)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,gf);return ch(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ps(e,t){return new T_(e,t)}function L_(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ps(r))}function M_(e,t){const r=Xl(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=KN(i[o]);L_(e,o,l)}}function R_(e){return!!(et(e)&&e.add)}function hu(e,t){const r=e.getValue("willChange");if(R_(r))return r.add(t)}function jv(e){return e.props[Jy]}const wv=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,D_=1e-7,O_=12;function z_(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=wv(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>D_&&++l<O_);return o}function Hi(e,t,r,n){if(e===t&&r===n)return vt;const a=i=>z_(i,0,1,e,r);return i=>i===0||i===1?i:wv(a(i),t,n)}const Nv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_v=e=>t=>1-e(1-t),kv=Hi(.33,1.53,.69,.99),dh=_v(kv),Sv=Nv(dh),Cv=e=>(e*=2)<1?.5*dh(e):.5*(2-Math.pow(2,-10*(e-1))),uh=e=>1-Math.sin(Math.acos(e)),Fv=_v(uh),Pv=Nv(uh),Av=e=>/^0[^.\s]+$/u.test(e);function B_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Av(e):!0}const ni=e=>Math.round(e*1e5)/1e5,mh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I_(e){return e==null}const $_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hh=(e,t)=>r=>!!(typeof r=="string"&&$_.test(r)&&r.startsWith(e)||t&&!I_(r)&&Object.prototype.hasOwnProperty.call(r,t)),Ev=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(mh);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},V_=e=>vs(0,255,e),Dc={...ja,transform:e=>Math.round(V_(e))},Ir={test:hh("rgb","red"),parse:Ev("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Dc.transform(e)+", "+Dc.transform(t)+", "+Dc.transform(r)+", "+ni(Ai.transform(n))+")"};function q_(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const pu={test:hh("#"),parse:q_,transform:Ir.transform},Ln={test:hh("hsl","hue"),parse:Ev("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+gs.transform(ni(t))+", "+gs.transform(ni(r))+", "+ni(Ai.transform(n))+")"},lt={test:e=>Ir.test(e)||pu.test(e)||Ln.test(e),parse:e=>Ir.test(e)?Ir.parse(e):Ln.test(e)?Ln.parse(e):pu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ir.transform(e):Ln.transform(e)},U_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W_(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(mh))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(U_))===null||r===void 0?void 0:r.length)||0)>0}const Tv="number",Lv="color",H_="var",Q_="var(",yf="${}",K_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ei(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(K_,c=>(lt.test(c)?(n.color.push(i),a.push(Lv),r.push(lt.parse(c))):c.startsWith(Q_)?(n.var.push(i),a.push(H_),r.push(c)):(n.number.push(i),a.push(Tv),r.push(parseFloat(c))),++i,yf)).split(yf);return{values:r,split:l,indexes:n,types:a}}function Mv(e){return Ei(e).values}function Rv(e){const{split:t,types:r}=Ei(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===Tv?i+=ni(a[o]):l===Lv?i+=lt.transform(a[o]):i+=a[o]}return i}}const G_=e=>typeof e=="number"?0:e;function Y_(e){const t=Mv(e);return Rv(e)(t.map(G_))}const kr={test:W_,parse:Mv,createTransformer:Rv,getAnimatableNone:Y_},J_=new Set(["brightness","contrast","saturate","opacity"]);function X_(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(mh)||[];if(!n)return e;const a=r.replace(n,"");let i=J_.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Z_=/\b([a-z-]*)\(.*?\)/gu,fu={...kr,getAnimatableNone:e=>{const t=e.match(Z_);return t?t.map(X_).join(" "):e}},e4={...Gm,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:fu,WebkitFilter:fu},ph=e=>e4[e];function Dv(e,t){let r=ph(e);return r!==fu&&(r=kr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const t4=new Set(["auto","none","0"]);function s4(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!t4.has(i)&&Ei(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Dv(r,a)}const vf=e=>e===ja||e===de,bf=(e,t)=>parseFloat(e.split(", ")[t]),jf=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return bf(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?bf(i[1],e):0}},r4=new Set(["x","y","z"]),n4=ba.filter(e=>!r4.has(e));function a4(e){const t=[];return n4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const da={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:jf(4,13),y:jf(5,14)};da.translateX=da.x;da.translateY=da.y;const en=new Set;let xu=!1,gu=!1;function Ov(){if(gu){const e=Array.from(en).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=a4(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gu=!1,xu=!1,en.forEach(e=>e.complete()),en.clear()}function zv(){en.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gu=!0)})}function i4(){zv(),Ov()}class fh{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(en.add(this),xu||(xu=!0,ge.read(zv),ge.resolveKeyframes(Ov))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),en.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,en.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Bv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),o4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l4(e){const t=o4.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Iv(e,t,r=1){const[n,a]=l4(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return Bv(o)?parseFloat(o):o}return Km(a)?Iv(a,t,r+1):a}const $v=e=>t=>t.test(e),c4={test:e=>e==="auto",parse:e=>e},Vv=[ja,de,gs,Ks,e_,ZN,c4],wf=e=>Vv.find($v(e));class qv extends fh{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Km(d))){const u=Iv(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!bv.has(n)||t.length!==2)return;const[a,i]=t,o=wf(a),l=wf(i);if(o!==l)if(vf(o)&&vf(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)B_(t[a])&&n.push(a);n.length&&s4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=da[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=da[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Nf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kr.test(e)||e==="0")&&!e.startsWith("url("));function d4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function u4(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Nf(a,t),l=Nf(i,t);return!o||!l?!1:d4(e)||(r==="spring"||sh(r))&&n}const m4=e=>e!==null;function Zl(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(m4),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const h4=40;class Uv{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ys.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>h4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&i4(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=ys.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!u4(t,n,a,i))if(o)this.options.duration=0;else{c&&c(Zl(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Le=(e,t,r)=>e+(t-e)*r;function Oc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function p4({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Oc(c,l,e+1/3),i=Oc(c,l,e),o=Oc(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function kl(e,t){return r=>r>0?t:e}const zc=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},f4=[pu,Ir,Ln],x4=e=>f4.find(t=>t.test(e));function _f(e){const t=x4(e);if(!t)return!1;let r=t.parse(e);return t===Ln&&(r=p4(r)),r}const kf=(e,t)=>{const r=_f(e),n=_f(t);if(!r||!n)return kl(e,t);const a={...r};return i=>(a.red=zc(r.red,n.red,i),a.green=zc(r.green,n.green,i),a.blue=zc(r.blue,n.blue,i),a.alpha=Le(r.alpha,n.alpha,i),Ir.transform(a))},g4=(e,t)=>r=>t(e(r)),Qi=(...e)=>e.reduce(g4),yu=new Set(["none","hidden"]);function y4(e,t){return yu.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function v4(e,t){return r=>Le(e,t,r)}function xh(e){return typeof e=="number"?v4:typeof e=="string"?Km(e)?kl:lt.test(e)?kf:w4:Array.isArray(e)?Wv:typeof e=="object"?lt.test(e)?kf:b4:kl}function Wv(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>xh(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function b4(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=xh(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function j4(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,a[o]++}return n}const w4=(e,t)=>{const r=kr.createTransformer(t),n=Ei(e),a=Ei(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?yu.has(e)&&!a.values.length||yu.has(t)&&!n.values.length?y4(e,t):Qi(Wv(j4(n,a),a.values),r):kl(e,t)};function Hv(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Le(e,t,r):xh(e)(e,t)}const N4=5;function Qv(e,t,r){const n=Math.max(t-N4,0);return ch(r-e(n),t-n)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bc=.001;function _4({duration:e=ze.duration,bounce:t=ze.bounce,velocity:r=ze.velocity,mass:n=ze.mass}){let a,i,o=1-t;o=vs(ze.minDamping,ze.maxDamping,o),e=vs(ze.minDuration,ze.maxDuration,Ms(e)),o<1?(a=d=>{const u=d*o,m=u*e,h=u-r,v=vu(d,o),g=Math.exp(-m);return Bc-h/v*g},i=d=>{const m=d*o*e,h=m*r+r,v=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-m),b=vu(Math.pow(d,2),o);return(-a(d)+Bc>0?-1:1)*((h-v)*g)/b}):(a=d=>{const u=Math.exp(-d*e),m=(d-r)*e+1;return-Bc+u*m},i=d=>{const u=Math.exp(-d*e),m=(r-d)*(e*e);return u*m});const l=5/e,c=S4(a,i,l);if(e=Ls(e),isNaN(c))return{stiffness:ze.stiffness,damping:ze.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const k4=12;function S4(e,t,r){let n=r;for(let a=1;a<k4;a++)n=n-e(n)/t(n);return n}function vu(e,t){return e*Math.sqrt(1-t*t)}const C4=["duration","bounce"],F4=["stiffness","damping","mass"];function Sf(e,t){return t.some(r=>e[r]!==void 0)}function P4(e){let t={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...e};if(!Sf(e,F4)&&Sf(e,C4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*vs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ze.mass,stiffness:a,damping:i}}else{const r=_4(e);t={...t,...r,mass:ze.mass},t.isResolvedFromDuration=!0}return t}function Kv(e=ze.visualDuration,t=ze.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:h,isResolvedFromDuration:v}=P4({...r,velocity:-Ms(r.velocity||0)}),g=h||0,b=d/(2*Math.sqrt(c*u)),f=o-i,p=Ms(Math.sqrt(c/u)),y=Math.abs(f)<5;n||(n=y?ze.restSpeed.granular:ze.restSpeed.default),a||(a=y?ze.restDelta.granular:ze.restDelta.default);let x;if(b<1){const w=vu(p,b);x=S=>{const P=Math.exp(-b*p*S);return o-P*((g+b*p*f)/w*Math.sin(w*S)+f*Math.cos(w*S))}}else if(b===1)x=w=>o-Math.exp(-p*w)*(f+(g+p*f)*w);else{const w=p*Math.sqrt(b*b-1);x=S=>{const P=Math.exp(-b*p*S),C=Math.min(w*S,300);return o-P*((g+b*p*f)*Math.sinh(C)+w*f*Math.cosh(C))/w}}const _={calculatedDuration:v&&m||null,next:w=>{const S=x(w);if(v)l.done=w>=m;else{let P=0;b<1&&(P=w===0?Ls(g):Qv(x,w,S));const C=Math.abs(P)<=n,R=Math.abs(o-S)<=a;l.done=C&&R}return l.value=l.done?o:S,l},toString:()=>{const w=Math.min(hv(_),uu),S=pv(P=>_.next(w*P).value,w,30);return w+"ms "+S}};return _}function Cf({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],h={done:!1,value:m},v=C=>l!==void 0&&C<l||c!==void 0&&C>c,g=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let b=r*t;const f=m+b,p=o===void 0?f:o(f);p!==f&&(b=p-m);const y=C=>-b*Math.exp(-C/n),x=C=>p+y(C),_=C=>{const R=y(C),$=x(C);h.done=Math.abs(R)<=d,h.value=h.done?p:$};let w,S;const P=C=>{v(h.value)&&(w=C,S=Kv({keyframes:[h.value,g(h.value)],velocity:Qv(x,C,h.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:C=>{let R=!1;return!S&&w===void 0&&(R=!0,_(C),P(C)),w!==void 0&&C>=w?S.next(C-w):(!R&&_(C),h)}}}const A4=Hi(.42,0,1,1),E4=Hi(0,0,.58,1),Gv=Hi(.42,0,.58,1),T4=e=>Array.isArray(e)&&typeof e[0]!="number",L4={linear:vt,easeIn:A4,easeInOut:Gv,easeOut:E4,circIn:uh,circInOut:Pv,circOut:Fv,backIn:dh,backInOut:Sv,backOut:kv,anticipate:Cv},Ff=e=>{if(rh(e)){Hy(e.length===4);const[t,r,n,a]=e;return Hi(t,r,n,a)}else if(typeof e=="string")return L4[e];return e};function M4(e,t,r){const n=[],a=r||Hv,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||vt:t;l=Qi(c,l)}n.push(l)}return n}function gh(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Hy(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=M4(t,n,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const h=un(e[m],e[m+1],u);return l[m](h)};return r?u=>d(vs(e[0],e[i-1],u)):d}function R4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=un(0,t,n);e.push(Le(r,1,a))}}function Yv(e){const t=[0];return R4(t,e.length-1),t}function D4(e,t){return e.map(r=>r*t)}function O4(e,t){return e.map(()=>t||Gv).splice(0,e.length-1)}function Sl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=T4(n)?n.map(Ff):Ff(n),i={done:!1,value:t[0]},o=D4(r&&r.length===t.length?r:Yv(t),e),l=gh(o,t,{ease:Array.isArray(a)?a:O4(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const z4=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ge.update(t,!0),stop:()=>as(t),now:()=>Ke.isProcessing?Ke.timestamp:ys.now()}},B4={decay:Cf,inertia:Cf,tween:Sl,keyframes:Sl,spring:Kv},I4=e=>e/100;class ec extends Uv{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||fh,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=sh(r)?r:B4[r]||Sl;let c,d;l!==Sl&&typeof t[0]!="number"&&(c=Qi(I4,Hv(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=hv(u));const{calculatedDuration:m}=u,h=m+a,v=h*(n+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:h,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:v,repeatType:g,repeatDelay:b,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?p<0:p>u;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,_=i;if(v){const C=Math.min(this.currentTime,u)/m;let R=Math.floor(C),$=C%1;!$&&C>=1&&($=1),$===1&&R--,R=Math.min(R,v+1),!!(R%2)&&(g==="reverse"?($=1-$,b&&($-=b/m)):g==="mirror"&&(_=o)),x=vs(0,1,$)*m}const w=y?{done:!1,value:c[0]}:_.next(x);l&&(w.value=l(w.value));let{done:S}=w;!y&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&a!==void 0&&(w.value=Zl(c,this.options,a)),f&&f(w.value),P&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Ms(t.calculatedDuration):0}get time(){return Ms(this.currentTime)}set time(t){t=Ls(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ms(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=z4,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function $4(e){return new ec(e)}const V4=new Set(["opacity","clipPath","filter","transform"]);function q4(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=xv(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const U4=$m(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cl=10,W4=2e4;function H4(e){return sh(e.type)||e.type==="spring"||!fv(e.ease)}function Q4(e,t){const r=new ec({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<W4;)n=r.sample(i),a.push(n.value),i+=Cl;return{times:void 0,keyframes:a,duration:i-Cl,ease:"linear"}}const Jv={anticipate:Cv,backInOut:Sv,circInOut:Pv};function K4(e){return e in Jv}class Pf extends Uv{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new qv(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&_l()&&K4(i)&&(i=Jv[i]),H4(this.options)){const{onComplete:m,onUpdate:h,motionValue:v,element:g,...b}=this.options,f=Q4(t,b);t=f.keyframes,t.length===1&&(t[1]=t[0]),n=f.duration,a=f.times,i=f.ease,o="keyframes"}const u=q4(l.owner.current,c,t,{...this.options,duration:n,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(hf(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(Zl(t,this.options,r)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Ms(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Ms(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ls(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return vt;const{animation:n}=r;hf(n,t)}return vt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:h,...v}=this.options,g=new ec({...v,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),b=Ls(this.time);d.setWithVelocity(g.sample(b-Cl).value,g.sample(b).value,Cl)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return U4()&&n&&V4.has(n)&&!c&&!d&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const G4={type:"spring",stiffness:500,damping:25,restSpeed:10},Y4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),J4={type:"keyframes",duration:.8},X4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z4=(e,{keyframes:t})=>t.length>2?J4:xn.has(e)?e.startsWith("scale")?Y4(t[1]):G4:X4;function e3({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const yh=(e,t,r,n={},a,i)=>o=>{const l=th(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Ls(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};e3(l)||(u={...u,...Z4(e,u)}),u.duration&&(u.duration=Ls(u.duration)),u.repeatDelay&&(u.repeatDelay=Ls(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),m&&!i&&t.get()!==void 0){const h=Zl(u.keyframes,l);if(h!==void 0)return ge.update(()=>{u.onUpdate(h),u.onComplete()}),new j_([])}return!i&&Pf.supports(u)?new Pf(u):new ec(u)};function t3({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Xv(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in c){const h=e.getValue(m,(i=e.latestValues[m])!==null&&i!==void 0?i:null),v=c[m];if(v===void 0||u&&t3(u,m))continue;const g={delay:r,...th(o||{},m)};let b=!1;if(window.MotionHandoffAnimation){const p=jv(e);if(p){const y=window.MotionHandoffAnimation(p,m,ge);y!==null&&(g.startTime=y,b=!0)}}hu(e,m),h.start(yh(m,h,v,e.shouldReduceMotion&&bv.has(m)?{type:!1}:g,e,b));const f=h.animation;f&&d.push(f)}return l&&Promise.all(d).then(()=>{ge.update(()=>{l&&M_(e,l)})}),d}function bu(e,t,r={}){var n;const a=Xl(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(Xv(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:h}=i;return s3(e,t,u+d,m,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function s3(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(r3).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(bu(d,t,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function r3(e,t){return e.sortNodePosition(t)}function n3(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>bu(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=bu(e,t,r);else{const a=typeof t=="function"?Xl(e,t,r.custom):t;n=Promise.all(Xv(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const a3=qm.length;function Zv(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Zv(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<a3;r++){const n=qm[r],a=e.props[n];(Pi(a)||a===!1)&&(t[n]=a)}return t}const i3=[...Vm].reverse(),o3=Vm.length;function l3(e){return t=>Promise.all(t.map(({animation:r,options:n})=>n3(e,r,n)))}function c3(e){let t=l3(e),r=Af(),n=!0;const a=c=>(d,u)=>{var m;const h=Xl(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(h){const{transition:v,transitionEnd:g,...b}=h;d={...d,...b,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=Zv(e.parent)||{},m=[],h=new Set;let v={},g=1/0;for(let f=0;f<o3;f++){const p=i3[f],y=r[p],x=d[p]!==void 0?d[p]:u[p],_=Pi(x),w=p===c?y.isActive:null;w===!1&&(g=f);let S=x===u[p]&&x!==d[p]&&_;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...v},!y.isActive&&w===null||!x&&!y.prevProp||Yl(x)||typeof x=="boolean")continue;const P=d3(y.prevProp,x);let C=P||p===c&&y.isActive&&!S&&_||f>g&&_,R=!1;const $=Array.isArray(x)?x:[x];let Y=$.reduce(a(p),{});w===!1&&(Y={});const{prevResolvedValues:O={}}=y,D={...O,...Y},Z=F=>{C=!0,h.has(F)&&(R=!0,h.delete(F)),y.needsAnimating[F]=!0;const I=e.getValue(F);I&&(I.liveStyle=!1)};for(const F in D){const I=Y[F],k=O[F];if(v.hasOwnProperty(F))continue;let B=!1;du(I)&&du(k)?B=!uv(I,k):B=I!==k,B?I!=null?Z(F):h.add(F):I!==void 0&&h.has(F)?Z(F):y.protectedKeys[F]=!0}y.prevProp=x,y.prevResolvedValues=Y,y.isActive&&(v={...v,...Y}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(S&&P)||R)&&m.push(...$.map(F=>({animation:F,options:{type:p}})))}if(h.size){const f={};h.forEach(p=>{const y=e.getBaseTarget(p),x=e.getValue(p);x&&(x.liveStyle=!0),f[p]=y??null}),m.push({animation:f})}let b=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(m):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var v;return(v=h.animationState)===null||v===void 0?void 0:v.setActive(c,d)}),r[c].isActive=d;const m=o(c);for(const h in r)r[h].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Af(),n=!0}}}function d3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uv(t,e):!1}function Er(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Af(){return{animate:Er(!0),whileInView:Er(),whileHover:Er(),whileTap:Er(),whileDrag:Er(),whileFocus:Er(),exit:Er()}}class Ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}class u3 extends Ar{constructor(t){super(t),t.animationState||(t.animationState=c3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let m3=0;class h3 extends Ar{constructor(){super(...arguments),this.id=m3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const p3={animation:{Feature:u3},exit:{Feature:h3}};function Ti(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ki(e){return{point:{x:e.pageX,y:e.pageY}}}const f3=e=>t=>ah(t)&&e(t,Ki(t));function ai(e,t,r,n){return Ti(e,t,f3(r),n)}const Ef=(e,t)=>Math.abs(e-t);function x3(e,t){const r=Ef(e.x,t.x),n=Ef(e.y,t.y);return Math.sqrt(r**2+n**2)}class eb{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$c(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=x3(m.offset,{x:0,y:0})>=3;if(!h&&!v)return;const{point:g}=m,{timestamp:b}=Ke;this.history.push({...g,timestamp:b});const{onStart:f,onMove:p}=this.handlers;h||(f&&f(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ic(h,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$c(m.type==="pointercancel"?this.lastMoveEventInfo:Ic(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,f),g&&g(m,f)},!ah(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Ki(t),l=Ic(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ke;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,$c(l,this.history)),this.removeListeners=Qi(ai(this.contextWindow,"pointermove",this.handlePointerMove),ai(this.contextWindow,"pointerup",this.handlePointerUp),ai(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Ic(e,t){return t?{point:t(e.point)}:e}function Tf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $c({point:e},t){return{point:e,delta:Tf(e,tb(t)),offset:Tf(e,g3(t)),velocity:y3(t,.1)}}function g3(e){return e[0]}function tb(e){return e[e.length-1]}function y3(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=tb(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Ls(t)));)r--;if(!n)return{x:0,y:0};const i=Ms(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const sb=1e-4,v3=1-sb,b3=1+sb,rb=.01,j3=0-rb,w3=0+rb;function Dt(e){return e.max-e.min}function N3(e,t,r){return Math.abs(e-t)<=r}function Lf(e,t,r,n=.5){e.origin=n,e.originPoint=Le(t.min,t.max,e.origin),e.scale=Dt(r)/Dt(t),e.translate=Le(r.min,r.max,e.origin)-e.originPoint,(e.scale>=v3&&e.scale<=b3||isNaN(e.scale))&&(e.scale=1),(e.translate>=j3&&e.translate<=w3||isNaN(e.translate))&&(e.translate=0)}function ii(e,t,r,n){Lf(e.x,t.x,r.x,n?n.originX:void 0),Lf(e.y,t.y,r.y,n?n.originY:void 0)}function Mf(e,t,r){e.min=r.min+t.min,e.max=e.min+Dt(t)}function _3(e,t,r){Mf(e.x,t.x,r.x),Mf(e.y,t.y,r.y)}function Rf(e,t,r){e.min=t.min-r.min,e.max=e.min+Dt(t)}function oi(e,t,r){Rf(e.x,t.x,r.x),Rf(e.y,t.y,r.y)}function k3(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Le(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Le(r,e,n.max):Math.min(e,r)),e}function Df(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function S3(e,{top:t,left:r,bottom:n,right:a}){return{x:Df(e.x,r,a),y:Df(e.y,t,n)}}function Of(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function C3(e,t){return{x:Of(e.x,t.x),y:Of(e.y,t.y)}}function F3(e,t){let r=.5;const n=Dt(e),a=Dt(t);return a>n?r=un(t.min,t.max-n,e.min):n>a&&(r=un(e.min,e.max-a,t.min)),vs(0,1,r)}function P3(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ju=.35;function A3(e=ju){return e===!1?e=0:e===!0&&(e=ju),{x:zf(e,"left","right"),y:zf(e,"top","bottom")}}function zf(e,t,r){return{min:Bf(e,t),max:Bf(e,r)}}function Bf(e,t){return typeof e=="number"?e:e[t]||0}const If=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mn=()=>({x:If(),y:If()}),$f=()=>({min:0,max:0}),Ve=()=>({x:$f(),y:$f()});function It(e){return[e("x"),e("y")]}function nb({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function E3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function T3(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vc(e){return e===void 0||e===1}function wu({scale:e,scaleX:t,scaleY:r}){return!Vc(e)||!Vc(t)||!Vc(r)}function Mr(e){return wu(e)||ab(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ab(e){return Vf(e.x)||Vf(e.y)}function Vf(e){return e&&e!=="0%"}function Fl(e,t,r){const n=e-r,a=t*n;return r+a}function qf(e,t,r,n,a){return a!==void 0&&(e=Fl(e,a,n)),Fl(e,r,n)+t}function Nu(e,t=0,r=1,n,a){e.min=qf(e.min,t,r,n,a),e.max=qf(e.max,t,r,n,a)}function ib(e,{x:t,y:r}){Nu(e.x,t.translate,t.scale,t.originPoint),Nu(e.y,r.translate,r.scale,r.originPoint)}const Uf=.999999999999,Wf=1.0000000000001;function L3(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Dn(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ib(e,o)),n&&Mr(i.latestValues)&&Dn(e,i.latestValues))}t.x<Wf&&t.x>Uf&&(t.x=1),t.y<Wf&&t.y>Uf&&(t.y=1)}function Rn(e,t){e.min=e.min+t,e.max=e.max+t}function Hf(e,t,r,n,a=.5){const i=Le(e.min,e.max,a);Nu(e,t,r,i,n)}function Dn(e,t){Hf(e.x,t.x,t.scaleX,t.scale,t.originX),Hf(e.y,t.y,t.scaleY,t.scale,t.originY)}function ob(e,t){return nb(T3(e.getBoundingClientRect(),t))}function M3(e,t,r){const n=ob(e,r),{scroll:a}=t;return a&&(Rn(n.x,a.offset.x),Rn(n.y,a.offset.y)),n}const lb=({current:e})=>e?e.ownerDocument.defaultView:null,R3=new WeakMap;class D3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ki(u).point)},i=(u,m)=>{const{drag:h,dragPropagation:v,onDragStart:g}=this.getProps();if(h&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P_(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(f=>{let p=this.getAxisMotionValue(f).get()||0;if(gs.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[f];x&&(p=Dt(x)*(parseFloat(p)/100))}}this.originPoint[f]=p}),g&&ge.postRender(()=>g(u,m)),hu(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:g,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:f}=m;if(v&&this.currentDirection===null){this.currentDirection=O3(f),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,f),this.updateAxis("y",m.point,f),this.visualElement.render(),b&&b(u,m)},l=(u,m)=>this.stop(u,m),c=()=>It(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new eb(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:lb(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ge.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!_o(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=k3(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Tn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=S3(a.layoutBox,r):this.constraints=!1,this.elastic=A3(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&It(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=P3(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Tn(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=M3(n,a.root,this.visualElement.getTransformPagePoint());let o=C3(a.layout.layoutBox,i);if(r){const l=r(E3(o));this.hasMutatedConstraints=!!l,l&&(o=nb(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=It(u=>{if(!_o(u,r,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const h=a?200:1e6,v=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return hu(this.visualElement,t),n.start(yh(t,n,0,r,this.visualElement,!1))}stopAnimation(){It(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){It(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){It(r=>{const{drag:n}=this.getProps();if(!_o(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Tn(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};It(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=F3({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),It(o=>{if(!_o(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Le(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;R3.set(this.visualElement,this);const t=this.visualElement.current,r=ai(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Tn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ge.read(n);const o=Ti(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(It(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=ju,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function _o(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function O3(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class z3 extends Ar{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new D3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qf=e=>(t,r)=>{e&&ge.postRender(()=>e(t,r))};class B3 extends Ar{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new eb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Qf(t),onStart:Qf(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&ge.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=ai(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ra={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const r=Kf(e,t.target.x),n=Kf(e,t.target.y);return`${r}% ${n}%`}},I3={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=kr.parse(e);if(a.length>5)return n;const i=kr.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Le(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class $3 extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;d_(V3),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ge.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Wm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function cb(e){const[t,r]=Wy(),n=j.useContext(Bm);return s.jsx($3,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(Xy),isPresent:t,safeToRemove:r})}const V3={borderRadius:{...Ra,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomLeftRadius:Ra,borderBottomRightRadius:Ra,boxShadow:I3};function q3(e,t,r){const n=et(e)?e:ps(e);return n.start(yh("",n,t,r)),n.animation}function U3(e){return e instanceof SVGElement&&e.tagName!=="svg"}const W3=(e,t)=>e.depth-t.depth;class H3{constructor(){this.children=[],this.isDirty=!1}add(t){ih(this.children,t),this.isDirty=!0}remove(t){oh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(W3),this.isDirty=!1,this.children.forEach(t)}}function Q3(e,t){const r=ys.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(as(n),e(i-t))};return ge.read(n,!0),()=>as(n)}const db=["TopLeft","TopRight","BottomLeft","BottomRight"],K3=db.length,Gf=e=>typeof e=="string"?parseFloat(e):e,Yf=e=>typeof e=="number"||de.test(e);function G3(e,t,r,n,a,i){a?(e.opacity=Le(0,r.opacity!==void 0?r.opacity:1,Y3(n)),e.opacityExit=Le(t.opacity!==void 0?t.opacity:1,0,J3(n))):i&&(e.opacity=Le(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<K3;o++){const l=`border${db[o]}Radius`;let c=Jf(t,l),d=Jf(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Yf(c)===Yf(d)?(e[l]=Math.max(Le(Gf(c),Gf(d),n),0),(gs.test(d)||gs.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=Le(t.rotate||0,r.rotate||0,n))}function Jf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Y3=ub(0,.5,Fv),J3=ub(.5,.95,vt);function ub(e,t,r){return n=>n<e?0:n>t?1:r(un(e,t,n))}function Xf(e,t){e.min=t.min,e.max=t.max}function Bt(e,t){Xf(e.x,t.x),Xf(e.y,t.y)}function Zf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function e0(e,t,r,n,a){return e-=t,e=Fl(e,1/r,n),a!==void 0&&(e=Fl(e,1/a,n)),e}function X3(e,t=0,r=1,n=.5,a,i=e,o=e){if(gs.test(t)&&(t=parseFloat(t),t=Le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Le(i.min,i.max,n);e===i&&(l-=t),e.min=e0(e.min,t,r,l,a),e.max=e0(e.max,t,r,l,a)}function t0(e,t,[r,n,a],i,o){X3(e,t[r],t[n],t[a],t.scale,i,o)}const Z3=["x","scaleX","originX"],e5=["y","scaleY","originY"];function s0(e,t,r,n){t0(e.x,t,Z3,r?r.x:void 0,n?n.x:void 0),t0(e.y,t,e5,r?r.y:void 0,n?n.y:void 0)}function r0(e){return e.translate===0&&e.scale===1}function mb(e){return r0(e.x)&&r0(e.y)}function n0(e,t){return e.min===t.min&&e.max===t.max}function t5(e,t){return n0(e.x,t.x)&&n0(e.y,t.y)}function a0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function hb(e,t){return a0(e.x,t.x)&&a0(e.y,t.y)}function i0(e){return Dt(e.x)/Dt(e.y)}function o0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s5{constructor(){this.members=[]}add(t){ih(this.members,t),t.scheduleRender()}remove(t){if(oh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r5(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:h,skewX:v,skewY:g}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),m&&(n+=`rotateX(${m}deg) `),h&&(n+=`rotateY(${h}deg) `),v&&(n+=`skewX(${v}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Rr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Qa=typeof window<"u"&&window.MotionDebug!==void 0,qc=["","X","Y","Z"],n5={visibility:"hidden"},l0=1e3;let a5=0;function Uc(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function pb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=jv(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ge,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&pb(n)}function fb({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=a5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qa&&(Rr.totalNodes=Rr.resolvedTargetDeltas=Rr.recalculatedProjection=0),this.nodes.forEach(l5),this.nodes.forEach(h5),this.nodes.forEach(p5),this.nodes.forEach(c5),Qa&&window.MotionDebug.record(Rr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new H3)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=U3(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=Q3(h,250),qo.hasAnimatedSinceResize&&(qo.hasAnimatedSinceResize=!1,this.nodes.forEach(d0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeTargetChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||v5,{onLayoutAnimationStart:f,onLayoutAnimationComplete:p}=u.getProps(),y=!this.targetLayout||!hb(this.targetLayout,g)||v,x=!h&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,x);const _={...th(b,"layout"),onPlay:f,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||d0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&pb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c0);return}this.isUpdating||this.nodes.forEach(u5),this.isUpdating=!1,this.nodes.forEach(m5),this.nodes.forEach(i5),this.nodes.forEach(o5),this.clearAllSnapshots();const l=ys.now();Ke.delta=vs(0,1e3/60,l-Ke.timestamp),Ke.timestamp=l,Ke.isProcessing=!0,Mc.update.process(Ke),Mc.preRender.process(Ke),Mc.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(d5),this.sharedNodes.forEach(x5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!mb(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Mr(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),b5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Ve();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(j5))){const{scroll:u}=this.root;u&&(Rn(c.x,u.offset.x),Rn(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Ve();if(Bt(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:h}=u;u!==this.root&&m&&h.layoutScroll&&(m.wasRoot&&Bt(c,o),Rn(c.x,m.offset.x),Rn(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=Ve();Bt(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Dn(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mr(u.latestValues)&&Dn(c,u.latestValues)}return Mr(this.latestValues)&&Dn(c,this.latestValues),c}removeTransform(o){const l=Ve();Bt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Mr(d.latestValues))continue;wu(d.latestValues)&&d.updateSnapshot();const u=Ve(),m=d.measurePageBox();Bt(u,m),s0(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Mr(this.latestValues)&&s0(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!(!this.layout||!(m||h))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),oi(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bt(this.target,this.layout.layoutBox),ib(this.target,this.targetDelta)):Bt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),oi(this.relativeTargetOrigin,this.target,v.target),Bt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qa&&Rr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wu(this.parent.latestValues)||ab(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Bt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,v=this.treeScale.y;L3(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ve());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zf(this.prevProjectionDelta.x,this.projectionDelta.x),Zf(this.prevProjectionDelta.y,this.projectionDelta.y)),ii(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==v||!o0(this.projectionDelta.x,this.prevProjectionDelta.x)||!o0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Qa&&Rr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mn(),this.projectionDelta=Mn(),this.projectionDeltaWithTransform=Mn()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Mn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ve(),v=c?c.source:void 0,g=this.layout?this.layout.source:void 0,b=v!==g,f=this.getStack(),p=!f||f.members.length<=1,y=!!(b&&!p&&this.options.crossfade===!0&&!this.path.some(y5));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const w=_/1e3;u0(m.x,o.x,w),u0(m.y,o.y,w),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g5(this.relativeTarget,this.relativeTargetOrigin,h,w),x&&t5(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ve()),Bt(x,this.relativeTarget)),b&&(this.animationValues=u,G3(u,d,this.latestValues,w,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{qo.hasAnimatedSinceResize=!0,this.currentAnimation=q3(0,l0,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&xb(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ve();const m=Dt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const h=Dt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Bt(l,c),Dn(l,u),ii(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new s5),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Uc("z",o,d,this.animationValues);for(let u=0;u<qc.length;u++)Uc(`rotate${qc[u]}`,o,d,this.animationValues),Uc(`skew${qc[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n5;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=$o(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=$o(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mr(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=r5(this.projectionDeltaWithTransform,this.treeScale,h),u&&(d.transform=u(h,d.transform));const{x:v,y:g}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in Nl){if(h[b]===void 0)continue;const{correct:f,applyTo:p}=Nl[b],y=d.transform==="none"?h[b]:f(h[b],m);if(p){const x=p.length;for(let _=0;_<x;_++)d[p[_]]=y}else d[b]=y}return this.options.layoutId&&(d.pointerEvents=m===this?$o(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(c0),this.root.sharedNodes.clear()}}}function i5(e){e.updateLayout()}function o5(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?It(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],v=Dt(h);h.min=n[m].min,h.max=h.min+v}):xb(i,r.layoutBox,n)&&It(m=>{const h=o?r.measuredBox[m]:r.layoutBox[m],v=Dt(n[m]);h.max=h.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const l=Mn();ii(l,n,r.layoutBox);const c=Mn();o?ii(c,e.applyTransform(a,!0),r.measuredBox):ii(c,n,r.layoutBox);const d=!mb(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:h,layout:v}=m;if(h&&v){const g=Ve();oi(g,r.layoutBox,h.layoutBox);const b=Ve();oi(b,n,v.layoutBox),hb(g,b)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=g,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function l5(e){Qa&&Rr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function c5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function d5(e){e.clearSnapshot()}function c0(e){e.clearMeasurements()}function u5(e){e.isLayoutDirty=!1}function m5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function h5(e){e.resolveTargetDelta()}function p5(e){e.calcProjection()}function f5(e){e.resetSkewAndRotation()}function x5(e){e.removeLeadSnapshot()}function u0(e,t,r){e.translate=Le(t.translate,0,r),e.scale=Le(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function m0(e,t,r,n){e.min=Le(t.min,r.min,n),e.max=Le(t.max,r.max,n)}function g5(e,t,r,n){m0(e.x,t.x,r.x,n),m0(e.y,t.y,r.y,n)}function y5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const v5={duration:.45,ease:[.4,0,.1,1]},h0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),p0=h0("applewebkit/")&&!h0("chrome/")?Math.round:vt;function f0(e){e.min=p0(e.min),e.max=p0(e.max)}function b5(e){f0(e.x),f0(e.y)}function xb(e,t,r){return e==="position"||e==="preserve-aspect"&&!N3(i0(t),i0(r),.2)}function j5(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const w5=fb({attachResizeListener:(e,t)=>Ti(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wc={current:void 0},gb=fb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wc.current){const e=new w5({});e.mount(window),e.setOptions({layoutScroll:!0}),Wc.current=e}return Wc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),N5={pan:{Feature:B3},drag:{Feature:z3,ProjectionNode:gb,MeasureLayout:cb}};function x0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ge.postRender(()=>i(t,Ki(t)))}class _5 extends Ar{mount(){const{current:t}=this.node;t&&(this.unmount=__(t,r=>(x0(this.node,r,"Start"),n=>x0(this.node,n,"End"))))}unmount(){}}class k5 extends Ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qi(Ti(this.node.current,"focus",()=>this.onFocus()),Ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g0(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ge.postRender(()=>i(t,Ki(t)))}class S5 extends Ar{mount(){const{current:t}=this.node;t&&(this.unmount=F_(t,r=>(g0(this.node,r,"Start"),(n,{success:a})=>g0(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _u=new WeakMap,Hc=new WeakMap,C5=e=>{const t=_u.get(e.target);t&&t(e)},F5=e=>{e.forEach(C5)};function P5({root:e,...t}){const r=e||document;Hc.has(r)||Hc.set(r,{});const n=Hc.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(F5,{root:e,...t})),n[a]}function A5(e,t,r){const n=P5(t);return _u.set(e,r),n.observe(e),()=>{_u.delete(e),n.unobserve(e)}}const E5={some:0,all:1};class T5 extends Ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:E5[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),h=d?u:m;h&&h(c)};return A5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(L5(t,r))&&this.startObserver()}unmount(){}}function L5({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const M5={inView:{Feature:T5},tap:{Feature:S5},focus:{Feature:k5},hover:{Feature:_5}},R5={layout:{ProjectionNode:gb,MeasureLayout:cb}},ku={current:null},yb={current:!1};function D5(){if(yb.current=!0,!!Im)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ku.current=e.matches;e.addListener(t),t()}else ku.current=!1}const O5=[...Vv,lt,kr],z5=e=>O5.find($v(e)),y0=new WeakMap;function B5(e,t,r){for(const n in t){const a=t[n],i=r[n];if(et(a))e.addValue(n,a);else if(et(i))e.addValue(n,ps(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,ps(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const v0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I5{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ys.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ge.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Jl(r),this.isVariantNode=Yy(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in h){const g=h[v];c[v]!==void 0&&et(g)&&g.set(c[v],!1)}}mount(t){this.current=t,y0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),yb.current||D5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ku.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){y0.delete(this.current),this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=xn.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ge.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ca){const r=ca[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<v0.length;n++){const a=v0[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=B5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ps(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Bv(a)||Av(a))?a=parseFloat(a):!z5(a)&&kr.test(r)&&(a=Dv(t,r)),this.setBaseTarget(t,et(a)?a.get():a)),et(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=Qm(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!et(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new lh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class vb extends I5{constructor(){super(...arguments),this.KeyframeResolver=qv}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;et(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function $5(e){return window.getComputedStyle(e)}class V5 extends vb{constructor(){super(...arguments),this.type="html",this.renderInstance=av}readValueFromInstance(t,r){if(xn.has(r)){const n=ph(r);return n&&n.default||0}else{const n=$5(t),a=(sv(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ob(t,r)}build(t,r,n){Ym(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return eh(t,r,n)}}class q5 extends vb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ve}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(xn.has(r)){const n=ph(r);return n&&n.default||0}return r=iv.has(r)?r:Um(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return cv(t,r,n)}build(t,r,n){Jm(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){ov(t,r,n,a)}mount(t){this.isSVGTag=Zm(t.tagName),super.mount(t)}}const U5=(e,t)=>Hm(e)?new q5(t):new V5(t,{allowProjection:e!==j.Fragment}),W5=v_({...p3,...M5,...N5,...R5},U5),Ie=MN(W5);function bb(e,t){let r;const n=()=>{const{currentTime:a}=t,o=(a===null?0:a.value)/100;r!==o&&e(o),r=o};return ge.update(n,!0),()=>as(n)}const Uo=new WeakMap;let Gs;function H5(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Q5({target:e,contentRect:t,borderBoxSize:r}){var n;(n=Uo.get(e))===null||n===void 0||n.forEach(a=>{a({target:e,contentSize:t,get size(){return H5(e,r)}})})}function K5(e){e.forEach(Q5)}function G5(){typeof ResizeObserver>"u"||(Gs=new ResizeObserver(K5))}function Y5(e,t){Gs||G5();const r=nh(e);return r.forEach(n=>{let a=Uo.get(n);a||(a=new Set,Uo.set(n,a)),a.add(t),Gs==null||Gs.observe(n)}),()=>{r.forEach(n=>{const a=Uo.get(n);a==null||a.delete(t),a!=null&&a.size||Gs==null||Gs.unobserve(n)})}}const Wo=new Set;let li;function J5(){li=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Wo.forEach(r=>r(t))},window.addEventListener("resize",li)}function X5(e){return Wo.add(e),li||J5(),()=>{Wo.delete(e),!Wo.size&&li&&(li=void 0)}}function Z5(e,t){return typeof e=="function"?X5(e):Y5(e,t)}const ek=50,b0=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),tk=()=>({time:0,x:b0(),y:b0()}),sk={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function j0(e,t,r,n){const a=r[t],{length:i,position:o}=sk[t],l=a.current,c=r.time;a.current=e[`scroll${o}`],a.scrollLength=e[`scroll${i}`]-e[`client${i}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=un(0,a.scrollLength,a.current);const d=n-c;a.velocity=d>ek?0:ch(a.current-l,d)}function rk(e,t,r){j0(e,"x",t,r),j0(e,"y",t,r),t.time=r}function nk(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const a=n.getBoundingClientRect();n=n.parentElement;const i=n.getBoundingClientRect();r.x+=a.left-i.left,r.y+=a.top-i.top}else if(n instanceof SVGGraphicsElement){const{x:a,y:i}=n.getBBox();r.x+=a,r.y+=i;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const Su={start:0,center:.5,end:1};function w0(e,t,r=0){let n=0;if(e in Su&&(e=Su[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?n=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?n=a/100*document.documentElement.clientWidth:e.endsWith("vh")?n=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(n=t*e),r+n}const ak=[0,0];function ik(e,t,r,n){let a=Array.isArray(e)?e:ak,i=0,o=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,Su[e]?e:"0"]),i=w0(a[0],r,n),o=w0(a[1],t),i-o}const ok={All:[[0,0],[1,1]]},lk={x:0,y:0};function ck(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function dk(e,t,r){const{offset:n=ok.All}=r,{target:a=e,axis:i="y"}=r,o=i==="y"?"height":"width",l=a!==e?nk(a,e):lk,c=a===e?{width:e.scrollWidth,height:e.scrollHeight}:ck(a),d={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const m=n.length;for(let h=0;h<m;h++){const v=ik(n[h],d[o],c[o],l[i]);!u&&v!==t[i].interpolatorOffsets[h]&&(u=!0),t[i].offset[h]=v}u&&(t[i].interpolate=gh(t[i].offset,Yv(n),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=vs(0,1,t[i].interpolate(t[i].current))}function uk(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function mk(e,t,r,n={}){return{measure:()=>uk(e,n.target,r),update:a=>{rk(e,r,a),(n.offset||n.target)&&dk(e,r,n)},notify:()=>t(r)}}const Da=new WeakMap,N0=new WeakMap,Qc=new WeakMap,_0=e=>e===document.documentElement?window:e;function vh(e,{container:t=document.documentElement,...r}={}){let n=Qc.get(t);n||(n=new Set,Qc.set(t,n));const a=tk(),i=mk(t,e,a,r);if(n.add(i),!Da.has(t)){const l=()=>{for(const h of n)h.measure()},c=()=>{for(const h of n)h.update(Ke.timestamp)},d=()=>{for(const h of n)h.notify()},u=()=>{ge.read(l,!1,!0),ge.read(c,!1,!0),ge.update(d,!1,!0)};Da.set(t,u);const m=_0(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&N0.set(t,Z5(t,u)),m.addEventListener("scroll",u,{passive:!0})}const o=Da.get(t);return ge.read(o,!1,!0),()=>{var l;as(o);const c=Qc.get(t);if(!c||(c.delete(i),c.size))return;const d=Da.get(t);Da.delete(t),d&&(_0(t).removeEventListener("scroll",d),(l=N0.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function hk({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},a=vh(i=>{n.value=i[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:a}}const Kc=new Map;function jb({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),Kc.has(t)||Kc.set(t,{});const n=Kc.get(t);return n[r]||(n[r]=mv()?new ScrollTimeline({source:t,axis:r}):hk({source:t,axis:r})),n[r]}function pk(e){return e.length===2}function wb(e){return e&&(e.target||e.offset)}function fk(e,t){return pk(e)||wb(t)?vh(r=>{e(r[t.axis].progress,r)},t):bb(e,jb(t))}function xk(e,t){if(e.flatten(),wb(t))return e.pause(),vh(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=jb(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),bb(a=>{n.time=n.duration*a},r))):vt}}function gk(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?fk(e,n):xk(e,n)}function k0(e,t){SN(!!(!t||t.current))}const yk=()=>({scrollX:ps(0),scrollY:ps(0),scrollXProgress:ps(0),scrollYProgress:ps(0)});function vk({container:e,target:t,layoutEffect:r=!0,...n}={}){const a=va(yk);return(r?Ui:j.useEffect)(()=>(k0("target",t),k0("container",e),gk((o,{x:l,y:c})=>{a.scrollX.set(l.current),a.scrollXProgress.set(l.progress),a.scrollY.set(c.current),a.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),a}function ua(e){const t=va(()=>ps(e)),{isStatic:r}=j.useContext(qi);if(r){const[,n]=j.useState(e);j.useEffect(()=>t.on("change",n),[])}return t}function Nb(e,t){const r=ua(t()),n=()=>r.set(t());return n(),Ui(()=>{const a=()=>ge.preRender(n,!1,!0),i=e.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),as(n)}}),r}function S0(e){return typeof e=="number"?e:parseFloat(e)}function Pl(e,t={}){const{isStatic:r}=j.useContext(qi),n=j.useRef(null),a=ua(et(e)?S0(e.get()):e),i=j.useRef(a.get()),o=j.useRef(()=>{}),l=()=>{const d=n.current;d&&d.time===0&&d.sample(Ke.delta),c(),n.current=$4({keyframes:[a.get(),i.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o.current})},c=()=>{n.current&&n.current.stop()};return j.useInsertionEffect(()=>a.attach((d,u)=>r?u(d):(i.current=d,o.current=u,ge.update(l),a.get()),c),[JSON.stringify(t)]),Ui(()=>{if(et(e))return e.on("change",d=>a.set(S0(d)))},[a]),a}const bk=e=>e&&typeof e=="object"&&e.mix,jk=e=>bk(e)?e.mix:void 0;function wk(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],o=e[3+r],l=gh(a,i,{mixer:jk(i[0]),...o});return t?l(n):l}function Nk(e){ri.current=[],e();const t=Nb(ri.current,e);return ri.current=void 0,t}function Gc(e,t,r,n){if(typeof e=="function")return Nk(e);const a=typeof t=="function"?t:wk(t,r,n);return Array.isArray(e)?C0(e,a):C0([e],([i])=>a(i))}function C0(e,t){const r=va(()=>[]);return Nb(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}const _k={some:0,all:1};function kk(e,t,{root:r,margin:n,amount:a="some"}={}){const i=nh(e),o=new WeakMap,l=d=>{d.forEach(u=>{const m=o.get(u.target);if(u.isIntersecting!==!!m)if(u.isIntersecting){const h=t(u);typeof h=="function"?o.set(u.target,h):c.unobserve(u.target)}else typeof m=="function"&&(m(u),o.delete(u.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof a=="number"?a:_k[a]});return i.forEach(d=>c.observe(d)),()=>c.disconnect()}function Sk(e,{root:t,margin:r,amount:n,once:a=!1}={}){const[i,o]=j.useState(!1);return j.useEffect(()=>{if(!e.current||a&&i)return;const l=()=>(o(!0),a?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return kk(e.current,l,c)},[t,e,r,a,n]),i}const F0=e=>{let t;const r=new Set,n=(d,u)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const h=t;t=u??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(v=>v(t,h))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(n,a,l);return l},Ck=e=>e?F0(e):F0,Fk=e=>e;function Pk(e,t=Fk){const r=ut.useSyncExternalStore(e.subscribe,ut.useCallback(()=>t(e.getState()),[e,t]),ut.useCallback(()=>t(e.getInitialState()),[e,t]));return ut.useDebugValue(r),r}const Ak=e=>{const t=Ck(e),r=n=>Pk(t,n);return Object.assign(r,t),r},Ek=e=>Ak;function Tk(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Cu=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Cu(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Cu(n)(r)}}}},Lk=(e,t)=>(r,n,a)=>{let i={storage:Tk(()=>localStorage),partialize:b=>b,version:0,merge:(b,f)=>({...f,...b}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,a);const u=()=>{const b=i.partialize({...n()});return d.setItem(i.name,{state:b,version:i.version})},m=a.setState;a.setState=(b,f)=>(m(b,f),u());const h=e((...b)=>(r(...b),u()),n,a);a.getInitialState=()=>h;let v;const g=()=>{var b,f;if(!d)return;o=!1,l.forEach(y=>{var x;return y((x=n())!=null?x:h)});const p=((f=i.onRehydrateStorage)==null?void 0:f.call(i,(b=n())!=null?b:h))||void 0;return Cu(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const x=i.migrate(y.state,y.version);return x instanceof Promise?x.then(_=>[!0,_]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var x;const[_,w]=y;if(v=i.merge(w,(x=n())!=null?x:h),r(v,!0),_)return u()}).then(()=>{p==null||p(v,void 0),v=n(),o=!0,c.forEach(y=>y(v))}).catch(y=>{p==null||p(void 0,y)})};return a.persist={setOptions:b=>{i={...i,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},i.skipHydration||g(),v||h},Mk=Lk;function _b(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rk}=Object.prototype,{getPrototypeOf:bh}=Object,{iterator:tc,toStringTag:kb}=Symbol,sc=(e=>t=>{const r=Rk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),is=e=>(e=e.toLowerCase(),t=>sc(t)===e),rc=e=>t=>typeof t===e,{isArray:wa}=Array,ma=rc("undefined");function Gi(e){return e!==null&&!ma(e)&&e.constructor!==null&&!ma(e.constructor)&&At(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Sb=is("ArrayBuffer");function Dk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Sb(e.buffer),t}const Ok=rc("string"),At=rc("function"),Cb=rc("number"),Yi=e=>e!==null&&typeof e=="object",zk=e=>e===!0||e===!1,Ho=e=>{if(sc(e)!=="object")return!1;const t=bh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kb in e)&&!(tc in e)},Bk=e=>{if(!Yi(e)||Gi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ik=is("Date"),$k=is("File"),Vk=is("Blob"),qk=is("FileList"),Uk=e=>Yi(e)&&At(e.pipe),Wk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||At(e.append)&&((t=sc(e))==="formdata"||t==="object"&&At(e.toString)&&e.toString()==="[object FormData]"))},Hk=is("URLSearchParams"),[Qk,Kk,Gk,Yk]=["ReadableStream","Request","Response","Headers"].map(is),Jk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ji(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),wa(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Gi(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Fb(e,t){if(Gi(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const $r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pb=e=>!ma(e)&&e!==$r;function Fu(){const{caseless:e,skipUndefined:t}=Pb(this)&&this||{},r={},n=(a,i)=>{const o=e&&Fb(r,i)||i;Ho(r[o])&&Ho(a)?r[o]=Fu(r[o],a):Ho(a)?r[o]=Fu({},a):wa(a)?r[o]=a.slice():(!t||!ma(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ji(arguments[a],n);return r}const Xk=(e,t,r,{allOwnKeys:n}={})=>(Ji(t,(a,i)=>{r&&At(a)?e[i]=_b(a,r):e[i]=a},{allOwnKeys:n}),e),Zk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),e6=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},t6=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&bh(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},s6=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},r6=e=>{if(!e)return null;if(wa(e))return e;let t=e.length;if(!Cb(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},n6=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bh(Uint8Array)),a6=(e,t)=>{const n=(e&&e[tc]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},i6=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},o6=is("HTMLFormElement"),l6=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),P0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),c6=is("RegExp"),Ab=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ji(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},d6=e=>{Ab(e,(t,r)=>{if(At(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(At(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},u6=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return wa(e)?n(e):n(String(e).split(t)),r},m6=()=>{},h6=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function p6(e){return!!(e&&At(e.append)&&e[kb]==="FormData"&&e[tc])}const f6=e=>{const t=new Array(10),r=(n,a)=>{if(Yi(n)){if(t.indexOf(n)>=0)return;if(Gi(n))return n;if(!("toJSON"in n)){t[a]=n;const i=wa(n)?[]:{};return Ji(n,(o,l)=>{const c=r(o,a+1);!ma(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},x6=is("AsyncFunction"),g6=e=>e&&(Yi(e)||At(e))&&At(e.then)&&At(e.catch),Eb=((e,t)=>e?setImmediate:t?((r,n)=>($r.addEventListener("message",({source:a,data:i})=>{a===$r&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),$r.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",At($r.postMessage)),y6=typeof queueMicrotask<"u"?queueMicrotask.bind($r):typeof process<"u"&&process.nextTick||Eb,v6=e=>e!=null&&At(e[tc]),W={isArray:wa,isArrayBuffer:Sb,isBuffer:Gi,isFormData:Wk,isArrayBufferView:Dk,isString:Ok,isNumber:Cb,isBoolean:zk,isObject:Yi,isPlainObject:Ho,isEmptyObject:Bk,isReadableStream:Qk,isRequest:Kk,isResponse:Gk,isHeaders:Yk,isUndefined:ma,isDate:Ik,isFile:$k,isBlob:Vk,isRegExp:c6,isFunction:At,isStream:Uk,isURLSearchParams:Hk,isTypedArray:n6,isFileList:qk,forEach:Ji,merge:Fu,extend:Xk,trim:Jk,stripBOM:Zk,inherits:e6,toFlatObject:t6,kindOf:sc,kindOfTest:is,endsWith:s6,toArray:r6,forEachEntry:a6,matchAll:i6,isHTMLForm:o6,hasOwnProperty:P0,hasOwnProp:P0,reduceDescriptors:Ab,freezeMethods:d6,toObjectSet:u6,toCamelCase:l6,noop:m6,toFiniteNumber:h6,findKey:Fb,global:$r,isContextDefined:Pb,isSpecCompliantForm:p6,toJSONObject:f6,isAsyncFn:x6,isThenable:g6,setImmediate:Eb,asap:y6,isIterable:v6};function ue(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Tb=ue.prototype,Lb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Lb[e]={value:e}});Object.defineProperties(ue,Lb);Object.defineProperty(Tb,"isAxiosError",{value:!0});ue.from=(e,t,r,n,a,i)=>{const o=Object.create(Tb);W.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ue.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const b6=null;function Pu(e){return W.isPlainObject(e)||W.isArray(e)}function Mb(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function A0(e,t,r){return e?e.concat(t).map(function(a,i){return a=Mb(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function j6(e){return W.isArray(e)&&!e.some(Pu)}const w6=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function nc(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,f){return!W.isUndefined(f[b])});const n=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(W.isDate(g))return g.toISOString();if(W.isBoolean(g))return g.toString();if(!c&&W.isBlob(g))throw new ue("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(g)||W.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,b,f){let p=g;if(g&&!f&&typeof g=="object"){if(W.endsWith(b,"{}"))b=n?b:b.slice(0,-2),g=JSON.stringify(g);else if(W.isArray(g)&&j6(g)||(W.isFileList(g)||W.endsWith(b,"[]"))&&(p=W.toArray(g)))return b=Mb(b),p.forEach(function(x,_){!(W.isUndefined(x)||x===null)&&t.append(o===!0?A0([b],_,i):o===null?b:b+"[]",d(x))}),!1}return Pu(g)?!0:(t.append(A0(f,b,i),d(g)),!1)}const m=[],h=Object.assign(w6,{defaultVisitor:u,convertValue:d,isVisitable:Pu});function v(g,b){if(!W.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(g),W.forEach(g,function(p,y){(!(W.isUndefined(p)||p===null)&&a.call(t,p,W.isString(y)?y.trim():y,b,h))===!0&&v(p,b?b.concat(y):[y])}),m.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return v(e),t}function E0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function jh(e,t){this._pairs=[],e&&nc(e,this,t)}const Rb=jh.prototype;Rb.append=function(t,r){this._pairs.push([t,r])};Rb.toString=function(t){const r=t?function(n){return t.call(this,n,E0)}:E0;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function N6(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Db(e,t,r){if(!t)return e;const n=r&&r.encode||N6;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=W.isURLSearchParams(t)?t.toString():new jh(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class T0{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ob={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_6=typeof URLSearchParams<"u"?URLSearchParams:jh,k6=typeof FormData<"u"?FormData:null,S6=typeof Blob<"u"?Blob:null,C6={isBrowser:!0,classes:{URLSearchParams:_6,FormData:k6,Blob:S6},protocols:["http","https","file","blob","url","data"]},wh=typeof window<"u"&&typeof document<"u",Au=typeof navigator=="object"&&navigator||void 0,F6=wh&&(!Au||["ReactNative","NativeScript","NS"].indexOf(Au.product)<0),P6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A6=wh&&window.location.href||"http://localhost",E6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wh,hasStandardBrowserEnv:F6,hasStandardBrowserWebWorkerEnv:P6,navigator:Au,origin:A6},Symbol.toStringTag,{value:"Module"})),dt={...E6,...C6};function T6(e,t){return nc(e,new dt.classes.URLSearchParams,{visitor:function(r,n,a,i){return dt.isNode&&W.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function L6(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function M6(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function zb(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&W.isArray(a)?a.length:o,c?(W.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!W.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&W.isArray(a[o])&&(a[o]=M6(a[o])),!l)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(n,a)=>{t(L6(n),a,r,0)}),r}return null}function R6(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Xi={transitional:Ob,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=W.isObject(t);if(i&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return a?JSON.stringify(zb(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return T6(t,this.formSerializer).toString();if((l=W.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return nc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),R6(t)):t}],transformResponse:[function(t){const r=this.transitional||Xi.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ue.from(l,ue.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Xi.headers[e]={}});const D6=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O6=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&D6[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},L0=Symbol("internals");function Oa(e){return e&&String(e).trim().toLowerCase()}function Qo(e){return e===!1||e==null?e:W.isArray(e)?e.map(Qo):String(e)}function z6(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const B6=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yc(e,t,r,n,a){if(W.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!W.isString(t)){if(W.isString(n))return t.indexOf(n)!==-1;if(W.isRegExp(n))return n.test(t)}}function I6(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function $6(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let Et=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const u=Oa(c);if(!u)throw new Error("header name must be a non-empty string");const m=W.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Qo(l))}const o=(l,c)=>W.forEach(l,(d,u)=>i(d,u,c));if(W.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(W.isString(t)&&(t=t.trim())&&!B6(t))o(O6(t),r);else if(W.isObject(t)&&W.isIterable(t)){let l={},c,d;for(const u of t){if(!W.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?W.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Oa(t),t){const n=W.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return z6(a);if(W.isFunction(r))return r.call(this,a,n);if(W.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Oa(t),t){const n=W.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Yc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Oa(o),o){const l=W.findKey(n,o);l&&(!r||Yc(n,n[l],l,r))&&(delete n[l],a=!0)}}return W.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Yc(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return W.forEach(this,(a,i)=>{const o=W.findKey(n,i);if(o){r[o]=Qo(a),delete r[i];return}const l=t?I6(i):String(i).trim();l!==i&&delete r[i],r[l]=Qo(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&W.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[L0]=this[L0]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Oa(o);n[l]||($6(a,o),n[l]=!0)}return W.isArray(t)?t.forEach(i):i(t),this}};Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Et.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});W.freezeMethods(Et);function Jc(e,t){const r=this||Xi,n=t||r,a=Et.from(n.headers);let i=n.data;return W.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Bb(e){return!!(e&&e.__CANCEL__)}function Na(e,t,r){ue.call(this,e??"canceled",ue.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(Na,ue,{__CANCEL__:!0});function Ib(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ue("Request failed with status code "+r.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function V6(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function q6(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[a]=c,n[a]=d;let m=i,h=0;for(;m!==a;)h+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const v=u&&d-u;return v?Math.round(h*1e3/v):void 0}}function U6(e,t){let r=0,n=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=n?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-m)))},()=>a&&o(a)]}const Al=(e,t,r=3)=>{let n=0;const a=q6(50,250);return U6(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),u=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},M0=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},R0=e=>(...t)=>W.asap(()=>e(...t)),W6=dt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,dt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,H6=dt.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];W.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),W.isString(n)&&l.push(`path=${n}`),W.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),W.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Q6(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function K6(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $b(e,t,r){let n=!Q6(t);return e&&(n||r==!1)?K6(e,t):t}const D0=e=>e instanceof Et?{...e}:e;function mn(e,t){t=t||{};const r={};function n(d,u,m,h){return W.isPlainObject(d)&&W.isPlainObject(u)?W.merge.call({caseless:h},d,u):W.isPlainObject(u)?W.merge({},u):W.isArray(u)?u.slice():u}function a(d,u,m,h){if(W.isUndefined(u)){if(!W.isUndefined(d))return n(void 0,d,m,h)}else return n(d,u,m,h)}function i(d,u){if(!W.isUndefined(u))return n(void 0,u)}function o(d,u){if(W.isUndefined(u)){if(!W.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,m){if(m in t)return n(d,u);if(m in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,m)=>a(D0(d),D0(u),m,!0)};return W.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||a,h=m(e[u],t[u],u);W.isUndefined(h)&&m!==l||(r[u]=h)}),r}const Vb=e=>{const t=mn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Et.from(o),t.url=Db($b(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),W.isFormData(r)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&o.set(u,m)})}}if(dt.hasStandardBrowserEnv&&(n&&W.isFunction(n)&&(n=n(t)),n||n!==!1&&W6(t.url))){const c=a&&i&&H6.read(i);c&&o.set(a,c)}return t},G6=typeof XMLHttpRequest<"u",Y6=G6&&function(e){return new Promise(function(r,n){const a=Vb(e);let i=a.data;const o=Et.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,h,v,g;function b(){v&&v(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout;function p(){if(!f)return;const x=Et.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),w={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:x,config:e,request:f};Ib(function(P){r(P),b()},function(P){n(P),b()},w),f=null}"onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){f&&(n(new ue("Request aborted",ue.ECONNABORTED,e,f)),f=null)},f.onerror=function(_){const w=_&&_.message?_.message:"Network Error",S=new ue(w,ue.ERR_NETWORK,e,f);S.event=_||null,n(S),f=null},f.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||Ob;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new ue(_,w.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,f)),f=null},i===void 0&&o.setContentType(null),"setRequestHeader"in f&&W.forEach(o.toJSON(),function(_,w){f.setRequestHeader(w,_)}),W.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),l&&l!=="json"&&(f.responseType=a.responseType),d&&([h,g]=Al(d,!0),f.addEventListener("progress",h)),c&&f.upload&&([m,v]=Al(c),f.upload.addEventListener("progress",m),f.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(u=x=>{f&&(n(!x||x.type?new Na(null,e,f):x),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=V6(a.url);if(y&&dt.protocols.indexOf(y)===-1){n(new ue("Unsupported protocol "+y+":",ue.ERR_BAD_REQUEST,e));return}f.send(i||null)})},J6=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ue?u:new Na(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ue(`timeout ${t} of ms exceeded`,ue.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>W.asap(l),c}},X6=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Z6=async function*(e,t){for await(const r of eS(e))yield*X6(r,t)},eS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},O0=(e,t,r,n)=>{const a=Z6(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(r){let h=i+=m;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},z0=64*1024,{isFunction:ko}=W,tS=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:B0,TextEncoder:I0}=W.global,$0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},sS=e=>{e=W.merge.call({skipUndefined:!0},tS,e);const{fetch:t,Request:r,Response:n}=e,a=t?ko(t):typeof fetch=="function",i=ko(r),o=ko(n);if(!a)return!1;const l=a&&ko(B0),c=a&&(typeof I0=="function"?(g=>b=>g.encode(b))(new I0):async g=>new Uint8Array(await new r(g).arrayBuffer())),d=i&&l&&$0(()=>{let g=!1;const b=new r(dt.origin,{body:new B0,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),u=o&&l&&$0(()=>W.isReadableStream(new n("").body)),m={stream:u&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(b,f)=>{let p=b&&b[g];if(p)return p.call(b);throw new ue(`Response type '${g}' is not supported`,ue.ERR_NOT_SUPPORT,f)})});const h=async g=>{if(g==null)return 0;if(W.isBlob(g))return g.size;if(W.isSpecCompliantForm(g))return(await new r(dt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(W.isArrayBufferView(g)||W.isArrayBuffer(g))return g.byteLength;if(W.isURLSearchParams(g)&&(g=g+""),W.isString(g))return(await c(g)).byteLength},v=async(g,b)=>{const f=W.toFiniteNumber(g.getContentLength());return f??h(b)};return async g=>{let{url:b,method:f,data:p,signal:y,cancelToken:x,timeout:_,onDownloadProgress:w,onUploadProgress:S,responseType:P,headers:C,withCredentials:R="same-origin",fetchOptions:$}=Vb(g),Y=t||fetch;P=P?(P+"").toLowerCase():"text";let O=J6([y,x&&x.toAbortSignal()],_),D=null;const Z=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let G;try{if(S&&d&&f!=="get"&&f!=="head"&&(G=await v(C,p))!==0){let z=new r(b,{method:"POST",body:p,duplex:"half"}),L;if(W.isFormData(p)&&(L=z.headers.get("content-type"))&&C.setContentType(L),z.body){const[J,A]=M0(G,Al(R0(S)));p=O0(z.body,z0,J,A)}}W.isString(R)||(R=R?"include":"omit");const N=i&&"credentials"in r.prototype,F={...$,signal:O,method:f.toUpperCase(),headers:C.normalize().toJSON(),body:p,duplex:"half",credentials:N?R:void 0};D=i&&new r(b,F);let I=await(i?Y(D,$):Y(b,F));const k=u&&(P==="stream"||P==="response");if(u&&(w||k&&Z)){const z={};["status","statusText","headers"].forEach(H=>{z[H]=I[H]});const L=W.toFiniteNumber(I.headers.get("content-length")),[J,A]=w&&M0(L,Al(R0(w),!0))||[];I=new n(O0(I.body,z0,J,()=>{A&&A(),Z&&Z()}),z)}P=P||"text";let B=await m[W.findKey(m,P)||"text"](I,g);return!k&&Z&&Z(),await new Promise((z,L)=>{Ib(z,L,{data:B,headers:Et.from(I.headers),status:I.status,statusText:I.statusText,config:g,request:D})})}catch(N){throw Z&&Z(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,g,D),{cause:N.cause||N}):ue.from(N,N&&N.code,g,D)}}},rS=new Map,qb=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,c,d,u=rS;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:sS(t)),u=d;return d};qb();const Nh={http:b6,xhr:Y6,fetch:{get:qb}};W.forEach(Nh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const V0=e=>`- ${e}`,nS=e=>W.isFunction(e)||e===null||e===!1;function aS(e,t){e=W.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!nS(n)&&(a=Nh[(l=String(n)).toLowerCase()],a===void 0))throw new ue(`Unknown adapter '${l}'`);if(a&&(W.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(V0).join(`
`):" "+V0(o[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Ub={getAdapter:aS,adapters:Nh};function Xc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Na(null,e)}function q0(e){return Xc(e),e.headers=Et.from(e.headers),e.data=Jc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ub.getAdapter(e.adapter||Xi.adapter,e)(e).then(function(n){return Xc(e),n.data=Jc.call(e,e.transformResponse,n),n.headers=Et.from(n.headers),n},function(n){return Bb(n)||(Xc(e),n&&n.response&&(n.response.data=Jc.call(e,e.transformResponse,n.response),n.response.headers=Et.from(n.response.headers))),Promise.reject(n)})}const Wb="1.13.2",ac={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ac[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const U0={};ac.transitional=function(t,r,n){function a(i,o){return"[Axios v"+Wb+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ue(a(o," has been removed"+(r?" in "+r:"")),ue.ERR_DEPRECATED);return r&&!U0[o]&&(U0[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};ac.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function iS(e,t,r){if(typeof e!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ue("option "+i+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const Ko={assertOptions:iS,validators:ac},ls=Ko.validators;let tn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new T0,response:new T0}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mn(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Ko.assertOptions(n,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),a!=null&&(W.isFunction(a)?r.paramsSerializer={serialize:a}:Ko.assertOptions(a,{encode:ls.function,serialize:ls.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ko.assertOptions(r,{baseUrl:ls.spelling("baseURL"),withXsrfToken:ls.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&W.merge(i.common,i[r.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Et.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,m=0,h;if(!c){const g=[q0.bind(this),void 0];for(g.unshift(...l),g.push(...d),h=g.length,u=Promise.resolve(r);m<h;)u=u.then(g[m++],g[m++]);return u}h=l.length;let v=r;for(;m<h;){const g=l[m++],b=l[m++];try{v=g(v)}catch(f){b.call(this,f);break}}try{u=q0.call(this,v)}catch(g){return Promise.reject(g)}for(m=0,h=d.length;m<h;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=mn(this.defaults,t);const r=$b(t.baseURL,t.url,t.allowAbsoluteUrls);return Db(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){tn.prototype[t]=function(r,n){return this.request(mn(n||{},{method:t,url:r,data:(n||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(mn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}tn.prototype[t]=r(),tn.prototype[t+"Form"]=r(!0)});let oS=class Hb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Na(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Hb(function(a){t=a}),cancel:t}}};function lS(e){return function(r){return e.apply(null,r)}}function cS(e){return W.isObject(e)&&e.isAxiosError===!0}const Eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Eu).forEach(([e,t])=>{Eu[t]=e});function Qb(e){const t=new tn(e),r=_b(tn.prototype.request,t);return W.extend(r,tn.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Qb(mn(e,a))},r}const ee=Qb(Xi);ee.Axios=tn;ee.CanceledError=Na;ee.CancelToken=oS;ee.isCancel=Bb;ee.VERSION=Wb;ee.toFormData=nc;ee.AxiosError=ue;ee.Cancel=ee.CanceledError;ee.all=function(t){return Promise.all(t)};ee.spread=lS;ee.isAxiosError=cS;ee.mergeConfig=mn;ee.AxiosHeaders=Et;ee.formToJSON=e=>zb(W.isHTMLForm(e)?new FormData(e):e);ee.getAdapter=Ub.getAdapter;ee.HttpStatusCode=Eu;ee.default=ee;const{Axios:nF,AxiosError:aF,CanceledError:iF,isCancel:oF,CancelToken:lF,VERSION:cF,all:dF,Cancel:uF,isAxiosError:mF,spread:hF,toFormData:pF,AxiosHeaders:fF,HttpStatusCode:xF,formToJSON:gF,getAdapter:yF,mergeConfig:vF}=ee,dS=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),W0=()=>{const e="guest-session-id";let t=localStorage.getItem(e);return t||(t=`guest-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,localStorage.setItem(e,t)),t},js=()=>"https://123luxury-fragrance-brand.launchpulse.ai",q=Ek()(Mk((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},cart_state:{items:[],item_count:0,subtotal:0,shipping_cost:0,tax_amount:0,total:0,applied_promotions:[],free_shipping_threshold:75,is_loading:!1,session_id:null,cart_id:null},search_state:{current_query:"",active_filters:{price_min:null,price_max:null,brand_ids:[],fragrance_families:[],size_options:[],occasion_tags:[],season_suitability:[],availability_status:[]},sort_by:"best_selling",results_count:0,is_loading:!1},ui_state:{mobile_menu_open:!1,search_overlay_open:!1,cart_dropdown_open:!1,account_dropdown_open:!1,current_breakpoint:"desktop",notifications:[]},user_preferences:{fragrance_profile:null,quiz_results:null,notification_preferences:{email_marketing:!1,sms_updates:!1,restock_alerts:!0,price_drop_alerts:!0},quiz_in_progress:{answers:{},current_question:0,started_at:null}},login_user:async(r,n)=>{var a,i;e(o=>({authentication_state:{...o.authentication_state,authentication_status:{...o.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const o=await ee.post(`${js()}/api/auth/login`,{email:r,password:n},{headers:{"Content-Type":"application/json"}}),{user:l,token:c}=o.data;e(()=>({authentication_state:{current_user:l,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),t().load_cart()}catch(o){const l=((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||o.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),t().show_notification({type:"error",message:l,auto_dismiss:!0,duration:5e3}),new Error(l)}},logout_user:()=>{const{auth_token:r}=t().authentication_state;r&&ee.post(`${js()}/api/auth/logout`,{},{headers:{Authorization:`Bearer ${r}`}}).catch(()=>{}),localStorage.removeItem("guest-session-id"),e(n=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},cart_state:{...n.cart_state,items:[],item_count:0,subtotal:0,total:0,applied_promotions:[],cart_id:null,session_id:null},user_preferences:{fragrance_profile:null,quiz_results:null,notification_preferences:{email_marketing:!1,sms_updates:!1,restock_alerts:!0,price_drop_alerts:!0}}}))},register_user:async r=>{var n,a;e(i=>({authentication_state:{...i.authentication_state,authentication_status:{...i.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const i=await ee.post(`${js()}/api/auth/register`,{...r,notification_preferences:JSON.stringify(t().user_preferences.notification_preferences)},{headers:{"Content-Type":"application/json"}}),{user:o,token:l}=i.data;e(()=>({authentication_state:{current_user:o,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}}))}catch(i){const o=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||i.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),t().show_notification({type:"error",message:o,auto_dismiss:!0,duration:5e3}),new Error(o)}},initialize_auth:async()=>{const{authentication_state:r}=t(),n=r.auth_token;if(!n){e(a=>({authentication_state:{...a.authentication_state,authentication_status:{...a.authentication_state.authentication_status,is_loading:!1}}}));return}try{const i=(await ee.get(`${js()}/api/users/profile`,{headers:{Authorization:`Bearer ${n}`}})).data;e(()=>({authentication_state:{current_user:i,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),t().load_cart()}catch{e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_user_profile:r=>{e(n=>({authentication_state:{...n.authentication_state,current_user:n.authentication_state.current_user?{...n.authentication_state.current_user,...r}:null}}))},add_to_cart:async r=>{var n,a;e(i=>({cart_state:{...i.cart_state,is_loading:!0}}));try{const{auth_token:i}=t().authentication_state;let{session_id:o,cart_id:l}=t().cart_state;!i&&!o&&(o=W0(),e(h=>({cart_state:{...h.cart_state,session_id:o}})));const c={"Content-Type":"application/json"};i&&(c.Authorization=`Bearer ${i}`);const d={product_id:r.product_id,size_ml:r.size_ml,quantity:r.quantity,unit_price:r.unit_price,gift_wrap:r.gift_wrap||!1,sample_included:r.sample_included||!1},u={};!i&&o&&(u.session_id=o),l&&(u.cart_id=l);const m=await ee.post(`${js()}/api/cart/items`,d,{headers:c,params:u});m.data&&m.data.cart_id&&e(h=>({cart_state:{...h.cart_state,cart_id:m.data.cart_id}})),await t().load_cart(),t().show_notification({type:"success",message:`${r.product_name} added to cart`,auto_dismiss:!0,duration:3e3})}catch(i){e(l=>({cart_state:{...l.cart_state,is_loading:!1}}));const o=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to add item to cart";throw t().show_notification({type:"error",message:o,auto_dismiss:!0,duration:5e3}),new Error(o)}},update_cart_item:async(r,n)=>{var a,i;try{const{auth_token:o}=t().authentication_state,l={"Content-Type":"application/json"};o&&(l.Authorization=`Bearer ${o}`),await ee.put(`${js()}/api/cart/items/${r}`,n,{headers:l}),await t().load_cart()}catch(o){const l=((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to update cart item";throw t().show_notification({type:"error",message:l,auto_dismiss:!0,duration:5e3}),new Error(l)}},remove_from_cart:async r=>{var n,a;try{const{auth_token:i}=t().authentication_state,o={};i&&(o.Authorization=`Bearer ${i}`),await ee.delete(`${js()}/api/cart/items/${r}`,{headers:o}),await t().load_cart(),t().show_notification({type:"success",message:"Item removed from cart",auto_dismiss:!0,duration:3e3})}catch(i){const o=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to remove cart item";throw t().show_notification({type:"error",message:o,auto_dismiss:!0,duration:5e3}),new Error(o)}},apply_promotion:async r=>{var n,a,i;try{const{cart_state:o}=t(),l=await ee.post(`${js()}/api/promotions/validate`,{promotion_code:r,order_total:o.subtotal},{headers:{"Content-Type":"application/json"}});if(l.data.is_valid){const c={promotion_code:r,discount_amount:l.data.discount_amount,discount_type:l.data.discount_type,description:((n=l.data.promotion)==null?void 0:n.description)||"Discount applied"};e(d=>({cart_state:{...d.cart_state,applied_promotions:[...d.cart_state.applied_promotions,c],total:d.cart_state.subtotal+d.cart_state.tax_amount+d.cart_state.shipping_cost-l.data.discount_amount}})),t().show_notification({type:"success",message:`Promotion code applied! You saved $${l.data.discount_amount}`,auto_dismiss:!0,duration:5e3})}else throw new Error(l.data.error_message||"Invalid promotion code")}catch(o){const l=((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error_message)||o.message||"Failed to apply promotion code";throw t().show_notification({type:"error",message:l,auto_dismiss:!0,duration:5e3}),new Error(l)}},clear_cart:()=>{e(r=>({cart_state:{...r.cart_state,items:[],item_count:0,subtotal:0,tax_amount:0,shipping_cost:0,total:0,applied_promotions:[],cart_id:null}}))},load_cart:async()=>{try{const{auth_token:r}=t().authentication_state;let{session_id:n,cart_id:a}=t().cart_state;!r&&!n&&(n=W0(),e(h=>({cart_state:{...h.cart_state,session_id:n}})));const i={};r&&(i.Authorization=`Bearer ${r}`);const o={};!r&&n&&(o.session_id=n),a&&(o.cart_id=a);const c=(await ee.get(`${js()}/api/cart`,{headers:i,params:o})).data,d=c.items||[],u=d.reduce((h,v)=>h+Number(v.unit_price)*v.quantity,0),m=d.reduce((h,v)=>h+v.quantity,0);e(h=>({cart_state:{...h.cart_state,items:d.map(v=>({cart_item_id:v.cart_item_id,product_id:v.product_id,product_name:v.product_name||"Unknown Product",brand_name:v.brand_name||"Unknown Brand",size_ml:v.size_ml,quantity:v.quantity,unit_price:Number(v.unit_price),gift_wrap:v.gift_wrap||!1,sample_included:v.sample_included||!1,added_at:v.added_at})),item_count:m,subtotal:u,total:u+h.cart_state.tax_amount+h.cart_state.shipping_cost,is_loading:!1,session_id:c.session_id||h.cart_state.session_id,cart_id:c.cart_id||h.cart_state.cart_id}}))}catch{const n=t().cart_state;!t().authentication_state.auth_token&&n.items.length>0?e(a=>({cart_state:{...a.cart_state,is_loading:!1}})):e(a=>({cart_state:{...a.cart_state,is_loading:!1}}))}},update_search_query:r=>{e(n=>({search_state:{...n.search_state,current_query:r}}))},update_search_filters:r=>{e(n=>({search_state:{...n.search_state,active_filters:{...n.search_state.active_filters,...r}}}))},update_sort_option:r=>{e(n=>({search_state:{...n.search_state,sort_by:r}}))},clear_search_filters:()=>{e(r=>({search_state:{...r.search_state,active_filters:{price_min:null,price_max:null,brand_ids:[],fragrance_families:[],size_options:[],occasion_tags:[],season_suitability:[],availability_status:[]}}}))},toggle_mobile_menu:()=>{e(r=>({ui_state:{...r.ui_state,mobile_menu_open:!r.ui_state.mobile_menu_open}}))},toggle_search_overlay:()=>{e(r=>({ui_state:{...r.ui_state,search_overlay_open:!r.ui_state.search_overlay_open}}))},toggle_cart_dropdown:()=>{e(r=>({ui_state:{...r.ui_state,cart_dropdown_open:!r.ui_state.cart_dropdown_open}}))},toggle_account_dropdown:()=>{e(r=>({ui_state:{...r.ui_state,account_dropdown_open:!r.ui_state.account_dropdown_open}}))},set_current_breakpoint:r=>{e(n=>({ui_state:{...n.ui_state,current_breakpoint:r}}))},show_notification:r=>{const n=dS(),a={...r,id:n,created_at:new Date().toISOString()};e(i=>({ui_state:{...i.ui_state,notifications:[...i.ui_state.notifications,a]}})),r.auto_dismiss&&r.duration&&setTimeout(()=>{t().dismiss_notification(n)},r.duration)},dismiss_notification:r=>{e(n=>({ui_state:{...n.ui_state,notifications:n.ui_state.notifications.filter(a=>a.id!==r)}}))},clear_all_notifications:()=>{e(r=>({ui_state:{...r.ui_state,notifications:[]}}))},update_fragrance_profile:r=>{e(n=>({user_preferences:{...n.user_preferences,fragrance_profile:r}}))},update_quiz_results:r=>{e(n=>({user_preferences:{...n.user_preferences,quiz_results:r}}))},update_notification_preferences:r=>{e(n=>({user_preferences:{...n.user_preferences,notification_preferences:r}}))},update_quiz_progress:(r,n)=>{e(a=>({user_preferences:{...a.user_preferences,quiz_in_progress:{answers:r,current_question:n,started_at:a.user_preferences.quiz_in_progress.started_at||new Date().toISOString()}}}))},clear_quiz_progress:()=>{e(r=>({user_preferences:{...r.user_preferences,quiz_in_progress:{answers:{},current_question:0,started_at:null}}}))}}),{name:"luxescent-app-storage",partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},cart_state:{items:e.cart_state.items,item_count:e.cart_state.item_count,subtotal:e.cart_state.subtotal,shipping_cost:e.cart_state.shipping_cost,tax_amount:e.cart_state.tax_amount,total:e.cart_state.total,applied_promotions:e.cart_state.applied_promotions,free_shipping_threshold:e.cart_state.free_shipping_threshold,is_loading:!1,session_id:e.cart_state.session_id,cart_id:e.cart_state.cart_id},search_state:{current_query:e.search_state.current_query,active_filters:e.search_state.active_filters,sort_by:e.search_state.sort_by,results_count:0,is_loading:!1},ui_state:{mobile_menu_open:!1,search_overlay_open:!1,cart_dropdown_open:!1,account_dropdown_open:!1,current_breakpoint:"desktop",notifications:[]},user_preferences:e.user_preferences})})),Ce={duration:{fast:.4,normal:.6,slow:.8},easing:{luxury:[.25,.1,.25,1],easeOutCubic:[.33,1,.68,1]},spring:{heavy:{type:"spring",damping:30,stiffness:80,mass:1.5}},stagger:{children:.1},colors:{gold:"#D4AF37"}},uS={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:Ce.duration.normal,ease:Ce.easing.easeOutCubic}}},mS={initial:{scale:1},hover:{scale:1.02,transition:{duration:Ce.duration.normal,ease:Ce.easing.luxury}}},hS={initial:{scale:1},hover:{scale:1.05,transition:{duration:Ce.duration.slow,ease:Ce.easing.luxury}}},pS={initial:{opacity:0,boxShadow:`0 0 0px ${Ce.colors.gold}`},hover:{opacity:1,boxShadow:[`0 0 20px ${Ce.colors.gold}40`,`0 0 30px ${Ce.colors.gold}30`,`0 0 20px ${Ce.colors.gold}40`],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}},fS={rest:{scale:1},hover:{scale:1.05,transition:{duration:Ce.duration.fast,ease:Ce.easing.luxury}},tap:{scale:.95,transition:{duration:.1,ease:Ce.easing.luxury}}},xS={hidden:{x:"100%",opacity:0},visible:{x:0,opacity:1,transition:Ce.spring.heavy},exit:{x:"100%",opacity:0,transition:{duration:Ce.duration.fast,ease:Ce.easing.luxury}}},gS={hidden:{x:50,opacity:0},visible:{x:0,opacity:1,transition:{duration:Ce.duration.normal,ease:Ce.easing.luxury}}},yS={hidden:{pathLength:0,opacity:0},visible:{pathLength:1,opacity:1,transition:{duration:.5,ease:Ce.easing.luxury}}},vS={initial:{scale:0,opacity:.8},animate:{scale:4,opacity:0,transition:{duration:.6,ease:"easeOut"}}},ke=({children:e})=>{const t=Vs();return s.jsx(dn,{mode:"wait",children:s.jsx(Ie.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},transition:{duration:Ce.duration.normal,ease:Ce.easing.luxury},children:e},t.pathname)})},bS=()=>{var y;const e=fn(),[t,r]=j.useState(""),[n,a]=j.useState(null),[i,o]=j.useState(!1),l=q(x=>x.authentication_state.current_user),c=q(x=>x.authentication_state.authentication_status.is_authenticated),d=q(x=>x.authentication_state.auth_token),u=q(x=>x.cart_state.item_count),m=q(x=>x.toggle_cart_dropdown),h=q(x=>x.toggle_account_dropdown),v=q(x=>x.toggle_mobile_menu),g=q(x=>x.update_search_query),b=()=>"https://123luxury-fragrance-brand.launchpulse.ai",{data:f=0}=ce({queryKey:["wishlist-count"],queryFn:async()=>{if(!d)return 0;const x=await fetch(`${b()}/api/wishlists`,{headers:{Authorization:`Bearer ${d}`}});return x.ok?(await x.json()).reduce((w,S)=>{var P;return w+(((P=S.items)==null?void 0:P.length)||0)},0):0},enabled:c&&!!d,staleTime:2*60*1e3,retry:1}),p=x=>{x.preventDefault(),t.trim()&&(g(t.trim()),e(`/search?query=${encodeURIComponent(t.trim())}`),r(""))};return j.useEffect(()=>{const x=()=>{o(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]),j.useEffect(()=>{const x=()=>{a(null)};return document.addEventListener("click",x),()=>document.removeEventListener("click",x)},[]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-[var(--nocturne-onyx)] text-[var(--nocturne-porcelain)] text-center py-3 text-caption relative overflow-hidden",children:s.jsxs("div",{className:"nocturne-container flex items-center justify-center space-x-2",children:[s.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),s.jsx("path",{d:"M3 4a1 1 0 00-1 1v1a1 1 0 001 1h1l1.68 5.39A3 3 0 008.62 15h5.76a3 3 0 002.94-2.61L18 7H6.41l-.77-3H3z"})]}),s.jsx("span",{className:"font-[var(--font-weight-medium)] tracking-wide",children:"Free EU shipping on orders over 120  30-day returns on unopened items"})]})}),s.jsx("nav",{className:"sticky top-0 z-50 bg-[#1A1A1A] backdrop-blur-md transition-all duration-300 border-b border-[#F5F5F0]/10",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsxs("div",{className:"flex items-center justify-between h-[var(--nav-height)]",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(V,{to:"/",className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-[#F5F5F0]/10 rounded-full flex items-center justify-center group-hover:bg-[#D4AF37]/20 transition-all duration-300",children:s.jsx("svg",{className:"w-4 h-4 text-[#F5F5F0]",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-h3 font-[var(--font-heading)] font-[var(--font-weight-bold)] text-[#F5F5F0] leading-none tracking-[var(--text-h3-spacing)]",children:"Nocturne"}),s.jsx("span",{className:"text-caption text-[#F5F5F0]/70 font-[var(--font-weight-light)] tracking-widest uppercase",children:"Atelier"})]})]})}),s.jsxs("div",{className:"hidden lg:flex lg:items-center gap-8",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{className:"text-[#F5F5F0] hover:text-[#D4AF37] px-4 py-3 text-body font-[var(--font-weight-medium)] transition-all duration-300 flex items-center space-x-1",onClick:x=>{x.stopPropagation(),a(n==="shop"?null:"shop")},children:[s.jsx("span",{children:"Shop"}),s.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${n==="shop"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n==="shop"&&s.jsx("div",{className:"absolute top-full left-0 mt-2 w-96 bg-[#1A1A1A]/98 backdrop-blur-md shadow-2xl rounded-lg border border-[#F5F5F0]/20 py-6 z-50",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6 px-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-caption font-[var(--font-weight-semibold)] text-[#D4AF37] mb-3 uppercase tracking-wider",children:"By Family"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{to:"/products?family=citrus",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Citrus"}),s.jsx(V,{to:"/products?family=floral",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Floral"}),s.jsx(V,{to:"/products?family=amber",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Amber"}),s.jsx(V,{to:"/products?family=woody",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Woody"}),s.jsx(V,{to:"/products?family=green",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Green"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-caption font-[var(--font-weight-semibold)] text-[#D4AF37] mb-3 uppercase tracking-wider",children:"Collections"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{to:"/products?collection=bestsellers",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Bestsellers"}),s.jsx(V,{to:"/products?collection=new",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"New Arrivals"}),s.jsx(V,{to:"/products?collection=limited",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Limited Edition"}),s.jsx(V,{to:"/samples",className:"block text-body text-[#F5F5F0]/70 hover:text-[#F5F5F0] py-2 px-3 rounded-md hover:bg-[#F5F5F0]/10 transition-all duration-300",children:"Sample Sets"})]})]})]})})]}),s.jsx(V,{to:"/about",className:"text-[#F5F5F0] hover:text-[#D4AF37] px-4 py-3 text-body font-[var(--font-weight-medium)] transition-all duration-300",children:"About"}),s.jsx(V,{to:"/journal",className:"text-[#F5F5F0] hover:text-[#D4AF37] px-4 py-3 text-body font-[var(--font-weight-medium)] transition-all duration-300",children:"Journal"})]}),s.jsx("div",{className:"flex-1 max-w-sm ml-8 hidden md:block",children:s.jsxs("form",{onSubmit:p,className:"relative group",children:[s.jsx("input",{type:"text",placeholder:"Search notes, fragrances...",value:t,onChange:x=>r(x.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#F5F5F0]/5 border border-[#F5F5F0]/20 rounded-full focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/50 focus:border-[#D4AF37] focus:bg-[#F5F5F0]/10 transition-all duration-300 placeholder:text-[#F5F5F0]/40 text-[#F5F5F0] text-body"}),s.jsx("button",{type:"submit",className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#D4AF37] group-hover:text-[#F5F5F0] transition-colors duration-300",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"hidden xl:block relative group",children:[s.jsx("button",{className:"p-3 text-[#D4AF37] hover:text-[#F5F5F0] transition-all duration-300 rounded-xl hover:bg-[#F5F5F0]/10",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:s.jsx("div",{className:"bg-[#1A1A1A] border border-[#F5F5F0]/20 px-4 py-2 rounded-lg whitespace-nowrap",children:s.jsx("span",{className:"text-[#F5F5F0] text-sm font-medium",children:"(555) 123-4567"})})})]}),c&&s.jsxs(V,{to:"/wishlist",className:"relative p-3 text-[#F5F5F0] hover:text-[#D4AF37] transition-all duration-300 rounded-xl hover:bg-[#F5F5F0]/10 group",children:[s.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),f>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-[#D4AF37] to-[#B8930F] text-[#1A1A1A] text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-lg",children:f>99?"99+":f})]}),s.jsxs("button",{onClick:m,className:"relative p-3 text-[#F5F5F0] hover:text-[#D4AF37] transition-all duration-300 rounded-xl hover:bg-[#F5F5F0]/10 group",children:[s.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v5a2 2 0 11-4 0v-5m4 0V8a2 2 0 00-2-2H9a2 2 0 00-2 2v5"})}),u>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-[#D4AF37] to-[#B8930F] text-[#1A1A1A] text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-lg",children:u>99?"99+":u})]}),s.jsx("div",{className:"relative",children:s.jsxs("button",{onClick:h,className:"flex items-center space-x-2 text-[#F5F5F0] hover:text-[#D4AF37] transition-all duration-300 p-3 rounded-xl hover:bg-[#F5F5F0]/10 group",children:[c&&l?s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#D4AF37] to-[#B8930F] rounded-full flex items-center justify-center text-[#1A1A1A] font-semibold text-sm shadow-lg",children:(y=l.first_name)==null?void 0:y.charAt(0).toUpperCase()}):s.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c&&l&&s.jsx("span",{className:"hidden md:block text-sm font-medium text-[#F5F5F0]",children:l.first_name})]})}),s.jsx("button",{onClick:v,className:"lg:hidden p-3 text-[#F5F5F0] hover:text-[#D4AF37] transition-all duration-300 rounded-xl hover:bg-[#F5F5F0]/10",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),s.jsx("div",{className:"md:hidden pb-4",children:s.jsxs("form",{onSubmit:p,className:"relative group",children:[s.jsx("input",{type:"text",placeholder:"Search luxury fragrances...",value:t,onChange:x=>r(x.target.value),className:"w-full pl-12 pr-4 py-3 bg-[#F5F5F0]/5 border border-[#F5F5F0]/20 rounded-full focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/50 focus:border-[#D4AF37] focus:bg-[#F5F5F0]/10 transition-all duration-300 placeholder:text-[#F5F5F0]/40 text-[#F5F5F0]"}),s.jsx("button",{type:"submit",className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#D4AF37] group-hover:text-[#F5F5F0] transition-colors duration-300",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]})})]})},jS=()=>{const[e,t]=j.useState(""),[r,n]=j.useState(!1),[a,i]=j.useState("idle"),o=q(m=>m.authentication_state.authentication_status.is_authenticated),l=q(m=>m.authentication_state.current_user),c=q(m=>m.show_notification),d=ve({mutationFn:async m=>(await ee.post("https://123luxury-fragrance-brand.launchpulse.ai/api/newsletter/subscribe",m,{headers:{"Content-Type":"application/json"}})).data,onMutate:()=>{i("submitting")},onSuccess:()=>{i("success"),t(""),n(!1),c({type:"success",message:"Successfully subscribed to newsletter! Check your email for 10% off code.",auto_dismiss:!0,duration:5e3})},onError:m=>{var v,g;i("error");const h=((g=(v=m.response)==null?void 0:v.data)==null?void 0:g.message)||"Failed to subscribe to newsletter";c({type:"error",message:h,auto_dismiss:!0,duration:5e3})}}),u=m=>{if(m.preventDefault(),!e||!r){c({type:"warning",message:"Please enter your email and accept marketing emails to subscribe.",auto_dismiss:!0,duration:4e3});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())){c({type:"error",message:"Please enter a valid email address",auto_dismiss:!0,duration:4e3});return}const v=JSON.stringify({email_marketing:r,new_arrivals:!0,sales:!0});d.mutate({email:e.trim(),subscription_source:"footer_signup",preferences:v})};return ut.useEffect(()=>{o&&(l!=null&&l.email)&&!e&&t(l.email)},[o,l,e]),s.jsx(s.Fragment,{children:s.jsx("footer",{className:"bg-[var(--nocturne-onyx)] text-[var(--nocturne-porcelain)] border-t border-[var(--nocturne-champagne)]/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-[var(--nocturne-porcelain)] mb-2 font-[var(--font-heading)] tracking-wider",children:"Nocturne Atelier"}),s.jsx("p",{className:"text-sm text-[var(--nocturne-warm-taupe)] italic tracking-widest uppercase",children:"Scent After Dark"})]}),s.jsx("p",{className:"text-sm text-[var(--nocturne-warm-taupe)] mb-6 leading-relaxed tracking-wide",children:"At Nocturne Atelier, we believe fragrance is an intimate art form. Each creation is meticulously crafted in small batches using only the finest raw materials. Our master perfumers work under the cover of night, when the senses are most acute."}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Address:"}),s.jsx("br",{}),"123 Fragrance Boulevard",s.jsx("br",{}),"New York, NY 10001"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"}),s.jsx("a",{href:"tel:+1-800-LUXE-SCENT",className:"hover:text-white transition-colors ml-1",children:"1-800-LUXE-SCENT"})]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("a",{href:"mailto:hello@luxescent.com",className:"hover:text-white transition-colors ml-1",children:"hello@luxescent.com"})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Follow Us"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"https://instagram.com/luxescent",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Instagram",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.987 11.987s11.987-5.367 11.987-11.987C24.014 5.367 18.647.001 12.017.001zM8.449 16.988c-1.297 0-2.348-1.051-2.348-2.348s1.051-2.348 2.348-2.348 2.348 1.051 2.348 2.348-1.051 2.348-2.348 2.348zm7.718 0c-1.297 0-2.348-1.051-2.348-2.348s1.051-2.348 2.348-2.348 2.348 1.051 2.348 2.348-1.051 2.348-2.348 2.348z"})})}),s.jsx("a",{href:"https://facebook.com/luxescent",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Facebook",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),s.jsx("a",{href:"https://twitter.com/luxescent",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Twitter",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),s.jsx("a",{href:"https://youtube.com/luxescent",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on YouTube",children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Customer Service"}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsx("li",{children:s.jsx(V,{to:"/support",className:"text-gray-300 hover:text-white transition-colors",children:"Help Center"})}),s.jsx("li",{children:s.jsx(V,{to:"/support?topic=contact",className:"text-gray-300 hover:text-white transition-colors",children:"Contact Us"})}),s.jsx("li",{children:s.jsxs(V,{to:"/support",state:{activeTab:"chat"},className:"text-gray-300 hover:text-white transition-colors",children:["Live Chat",s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Online"})]})}),s.jsx("li",{children:s.jsx(V,{to:"/track-order",className:"text-gray-300 hover:text-white transition-colors",children:"Track Your Order"})}),s.jsx("li",{children:s.jsx(V,{to:"/support?topic=returns",className:"text-gray-300 hover:text-white transition-colors",children:"Shipping & Returns"})}),s.jsx("li",{children:s.jsx(V,{to:"/support?topic=size-guide",className:"text-gray-300 hover:text-white transition-colors",children:"Size Guide"})})]})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Shop"}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsx("li",{children:s.jsx(V,{to:"/products?gender_category=Women",className:"text-gray-300 hover:text-white transition-colors",children:"Women's Fragrances"})}),s.jsx("li",{children:s.jsx(V,{to:"/products?gender_category=Men",className:"text-gray-300 hover:text-white transition-colors",children:"Men's Fragrances"})}),s.jsx("li",{children:s.jsx(V,{to:"/products?gender_category=Unisex",className:"text-gray-300 hover:text-white transition-colors",children:"Unisex Fragrances"})}),s.jsx("li",{children:s.jsx(V,{to:"/products?collection=new",className:"text-gray-300 hover:text-white transition-colors",children:"New Arrivals"})}),s.jsx("li",{children:s.jsx(V,{to:"/products?sale_price=true",className:"text-gray-300 hover:text-white transition-colors",children:"Sale"})}),s.jsx("li",{children:s.jsx(V,{to:"/gifts",className:"text-gray-300 hover:text-white transition-colors",children:"Gift Cards"})}),s.jsx("li",{children:s.jsx(V,{to:"/samples",className:"text-gray-300 hover:text-white transition-colors",children:"Sample Program"})})]})]}),s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Account & Services"}),s.jsx("ul",{className:"space-y-3 text-sm mb-8",children:o?s.jsxs(s.Fragment,{children:[s.jsx("li",{children:s.jsx(V,{to:"/account",className:"text-gray-300 hover:text-white transition-colors",children:"My Account"})}),s.jsx("li",{children:s.jsx(V,{to:"/account/orders",className:"text-gray-300 hover:text-white transition-colors",children:"Order History"})}),s.jsx("li",{children:s.jsx(V,{to:"/wishlist",className:"text-gray-300 hover:text-white transition-colors",children:"My Wishlist"})}),s.jsx("li",{children:s.jsx(V,{to:"/fragrance-finder",className:"text-gray-300 hover:text-white transition-colors",children:"Fragrance Finder"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("li",{children:s.jsx(V,{to:"/login",className:"text-gray-300 hover:text-white transition-colors",children:"Sign In"})}),s.jsx("li",{children:s.jsx(V,{to:"/login?action=register",className:"text-gray-300 hover:text-white transition-colors",children:"Create Account"})}),s.jsx("li",{children:s.jsx(V,{to:"/fragrance-finder",className:"text-gray-300 hover:text-white transition-colors",children:"Fragrance Finder"})})]})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-white mb-3 tracking-wider",children:"Join the Inner Circle"}),s.jsxs("p",{className:"text-sm text-gray-300 mb-4 tracking-wide",children:["Subscribe for exclusive offers and get ",s.jsx("strong",{children:"10% off"})," your first order!"]}),s.jsxs("form",{onSubmit:u,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newsletter-email",className:"sr-only",children:"Email address"}),s.jsx("input",{id:"newsletter-email",type:"email",value:e,onChange:m=>t(m.target.value),placeholder:"Enter your email",className:"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:a==="submitting"})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{id:"newsletter-consent",type:"checkbox",checked:r,onChange:m=>n(m.target.checked),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-600 rounded bg-gray-800",disabled:a==="submitting"}),s.jsx("label",{htmlFor:"newsletter-consent",className:"ml-2 text-xs text-gray-300",children:"I agree to receive marketing emails with exclusive offers and updates"})]}),s.jsx("button",{type:"submit",disabled:a==="submitting"||!e||!r,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:a==="submitting"?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subscribing..."]}):"Subscribe"})]}),a==="success"&&s.jsx("p",{className:"mt-2 text-sm text-green-400",children:"Thank you for subscribing! Check your email for your discount code."})]})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-gray-700",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Legal"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"text-gray-300 hover:text-white transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-of-service",className:"text-gray-300 hover:text-white transition-colors",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx("a",{href:"/gdpr-compliance",className:"text-gray-300 hover:text-white transition-colors",children:"GDPR Compliance"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Security & Trust"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 1L5 6v6l5 5 5-5V6l-5-5zM8.5 6L10 4.5 11.5 6v6L10 13.5 8.5 12V6z"})}),s.jsx("span",{className:"text-sm text-gray-300",children:"SSL Secured"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})}),s.jsx("span",{className:"text-sm text-gray-300",children:"100% Authentic Guarantee"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"We Accept"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("div",{className:"bg-white px-2 py-1 rounded text-xs font-semibold text-gray-900",children:"VISA"}),s.jsx("div",{className:"bg-white px-2 py-1 rounded text-xs font-semibold text-gray-900",children:"MasterCard"}),s.jsx("div",{className:"bg-white px-2 py-1 rounded text-xs font-semibold text-gray-900",children:"AMEX"}),s.jsx("div",{className:"bg-blue-600 px-2 py-1 rounded text-xs font-semibold text-white",children:"PayPal"}),s.jsx("div",{className:"bg-black px-2 py-1 rounded text-xs font-semibold text-white",children:"Apple Pay"}),s.jsx("div",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-semibold text-white",children:"Google Pay"})]})]})]})}),s.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center",children:s.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," LuxeScent. All rights reserved. | Made with  for fragrance lovers worldwide."]})})]})})})},wS=()=>{const[e,t]=j.useState(null),r=q(x=>x.ui_state.mobile_menu_open),n=q(x=>x.authentication_state.authentication_status.is_authenticated),a=q(x=>x.authentication_state.current_user),i=q(x=>x.cart_state.item_count),o=q(x=>x.toggle_mobile_menu),l=q(x=>x.toggle_search_overlay),c=q(x=>x.logout_user),{data:d,isLoading:u,error:m}=ce({queryKey:["mobile-navigation-categories"],queryFn:async()=>(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/categories",{params:{is_active:!0,sort_by:"display_order"}})).data,staleTime:5*60*1e3,retry:1}),v=d?(x=>{const _=new Map,w=[];return x.forEach(S=>{_.set(S.category_id,{category_id:S.category_id,category_name:S.category_name,parent_category_id:S.parent_category_id,children:[]})}),x.forEach(S=>{const P=_.get(S.category_id);if(S.parent_category_id){const C=_.get(S.parent_category_id);C&&(C.children=C.children||[],C.children.push(P))}else w.push(P)}),w})(d):[],g=x=>{t(e===x?null:x)},b=()=>{l(),r&&o()},f=()=>{c(),r&&o()},p=()=>{r&&o()},y=x=>{const _=x.children&&x.children.length>0,w=e===x.category_id;return s.jsxs("div",{className:"border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 min-h-[44px] cursor-pointer hover:bg-gray-50 active:bg-gray-100",onClick:()=>_?g(x.category_id):p(),children:[_?s.jsx("span",{className:"text-gray-900 font-medium",children:x.category_name}):s.jsx(V,{to:`/products?category=${x.category_id}`,className:"text-gray-900 font-medium flex-1",onClick:p,children:x.category_name}),_&&s.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),_&&w&&s.jsx("div",{className:"bg-gray-50 pl-4",children:x.children.map(S=>s.jsx(V,{to:`/products?category=${S.category_id}`,className:"block p-3 text-gray-700 hover:text-purple-600 hover:bg-white min-h-[44px] flex items-center",onClick:p,children:S.category_name},S.category_id))})]},x.category_id)};return s.jsxs(s.Fragment,{children:[r&&s.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:p,"aria-label":"Close menu"}),s.jsx("div",{className:"fixed inset-y-0 left-0 w-80 max-w-[85vw] bg-white shadow-xl",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),s.jsx("button",{onClick:p,className:"p-2 rounded-md hover:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Close menu",children:s.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("button",{onClick:b,className:"w-full bg-gray-100 rounded-lg p-3 text-left text-gray-500 hover:bg-gray-200 min-h-[44px] flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search fragrances..."]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs(V,{to:"/",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsxs(V,{to:"/products?is_new_arrival=true",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"New Arrivals"]}),s.jsxs(V,{to:"/products?is_featured=true",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Best Sellers"]})]}),s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsx("div",{className:"px-4 py-3 bg-gray-50",children:s.jsx("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Categories"})}),u?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading categories..."})]}):m?s.jsx("div",{className:"p-4 text-center",children:s.jsx("p",{className:"text-sm text-red-600",children:"Failed to load categories"})}):s.jsx("div",{children:v.map(y)})]}),s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs(V,{to:"/fragrance-finder",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-pink-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Fragrance Finder"]}),s.jsxs(V,{to:"/samples",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Sample Program"]}),s.jsxs(V,{to:"/gifts",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),"Gift Services"]})]}),s.jsx("div",{children:n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-3 bg-gray-50",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Account"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Welcome back, ",a==null?void 0:a.first_name]})]}),s.jsxs(V,{to:"/account",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"My Account"]}),s.jsxs(V,{to:"/account/orders",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Order History"]}),s.jsxs(V,{to:"/wishlist",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Wishlist"]}),s.jsxs("button",{onClick:f,className:"w-full p-4 text-left text-red-600 hover:bg-red-50 min-h-[44px] flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-3 bg-gray-50",children:s.jsx("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Account"})}),s.jsxs(V,{to:"/login",className:"block p-4 text-purple-600 hover:bg-purple-50 min-h-[44px] flex items-center font-medium",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In / Register"]})]})}),s.jsx("div",{className:"border-t border-gray-200",children:s.jsxs(V,{to:"/support",className:"block p-4 text-gray-900 hover:bg-gray-50 min-h-[44px] flex items-center",onClick:p,children:[s.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Customer Service"]})})]})]})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 md:hidden",children:s.jsxs("div",{className:"grid grid-cols-5 h-16",children:[s.jsxs(V,{to:"/",className:"flex flex-col items-center justify-center min-h-[44px] text-gray-600 hover:text-purple-600 active:bg-gray-100",children:[s.jsx("svg",{className:"w-5 h-5 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.jsx("span",{className:"text-xs",children:"Home"})]}),s.jsxs("button",{onClick:b,className:"flex flex-col items-center justify-center min-h-[44px] text-gray-600 hover:text-purple-600 active:bg-gray-100",children:[s.jsx("svg",{className:"w-5 h-5 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("span",{className:"text-xs",children:"Search"})]}),s.jsxs(V,{to:n?"/account":"/login",className:"flex flex-col items-center justify-center min-h-[44px] text-gray-600 hover:text-purple-600 active:bg-gray-100",children:[s.jsx("svg",{className:"w-5 h-5 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("span",{className:"text-xs",children:n?"Account":"Login"})]}),s.jsxs(V,{to:n?"/wishlist":"/login",className:"flex flex-col items-center justify-center min-h-[44px] text-gray-600 hover:text-purple-600 active:bg-gray-100 relative",children:[s.jsx("svg",{className:"w-5 h-5 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsx("span",{className:"text-xs",children:"Wishlist"})]}),s.jsxs(V,{to:"/cart",className:"flex flex-col items-center justify-center min-h-[44px] text-gray-600 hover:text-purple-600 active:bg-gray-100 relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"w-5 h-5 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.293 2.293c-.63.63-.184 1.707.707 1.707H19M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6"})}),i>0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-purple-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:i>99?"99+":i})]}),s.jsx("span",{className:"text-xs",children:"Cart"})]})]})})]})},NS=()=>{const e=q(G=>G.search_state.current_query),t=q(G=>G.ui_state.search_overlay_open),r=q(G=>G.ui_state.current_breakpoint),n=q(G=>G.authentication_state.current_user),a=q(G=>G.update_search_query),i=q(G=>G.toggle_search_overlay),[o,l]=j.useState(e),[c,d]=j.useState(!1),[u,m]=j.useState(-1),[h,v]=j.useState([]),g=j.useRef(null),b=j.useRef(null),f=j.useRef(null),p=fn(),y=()=>"https://123luxury-fragrance-brand.launchpulse.ai",[x,_]=j.useState(o);j.useEffect(()=>{const G=setTimeout(()=>{_(o)},300);return()=>clearTimeout(G)},[o]),j.useEffect(()=>{if(n){const G=localStorage.getItem(`recent_searches_${n.user_id}`);if(G)try{v(JSON.parse(G))}catch{v([])}}},[n]),j.useEffect(()=>{t&&g.current&&setTimeout(()=>{var G;(G=g.current)==null||G.focus()},100)},[t]);const{data:w,isLoading:S}=ce({queryKey:["search-suggestions",x],queryFn:async()=>x.trim()?(await ee.get(`${y()}/api/search/suggestions`,{params:{query:x,limit:10}})).data:{products:[],brands:[],categories:[],popular_searches:[]},enabled:x.length>0,staleTime:5*60*1e3}),{data:P}=ce({queryKey:["trending-searches"],queryFn:async()=>(await ee.get(`${y()}/api/search/trending`)).data,staleTime:15*60*1e3}),{data:C,isLoading:R}=ce({queryKey:["quick-search",x],queryFn:async()=>x.trim()?(await ee.get(`${y()}/api/products`,{params:{query:x,limit:5,sort_by:"best_selling"}})).data:{data:[]},enabled:x.length>2,staleTime:5*60*1e3,select:G=>{var N;return{data:((N=G.data)==null?void 0:N.map(F=>({product_id:F.product_id,product_name:F.product_name,brand_name:F.brand_name||"Unknown Brand",base_price:Number(F.base_price||0)})))||[]}}}),$=G=>{const N=G.target.value;l(N),d(N.length>0),m(-1)},Y=j.useCallback(G=>{const N=G||o.trim();if(N){if(a(N),n){const F=[N,...h.filter(I=>I!==N)].slice(0,5);v(F),localStorage.setItem(`recent_searches_${n.user_id}`,JSON.stringify(F))}p(`/search?query=${encodeURIComponent(N)}`),i(),d(!1)}},[o,n,h,a,p,i]),O=G=>{if(!c)return;const N=(w==null?void 0:w.products)||[],F=N.length-1;switch(G.key){case"ArrowDown":G.preventDefault(),m(I=>Math.min(I+1,F));break;case"ArrowUp":G.preventDefault(),m(I=>Math.max(I-1,-1));break;case"Enter":G.preventDefault(),u>=0&&N[u]?Y(N[u].product_name):Y();break;case"Escape":d(!1),m(-1);break}};j.useEffect(()=>{const G=N=>{f.current&&!f.current.contains(N.target)&&i()};return t&&(document.addEventListener("mousedown",G),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",G),document.body.style.overflow="unset"}},[t,i]);const D=()=>{var G;l(""),d(!1),m(-1),(G=g.current)==null||G.focus()},Z=(P==null?void 0:P.map(G=>G.search_term))||[];return t?s.jsx(s.Fragment,{children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity",children:s.jsxs("div",{ref:f,className:`${r==="mobile"?"fixed inset-0 bg-white":"fixed top-16 left-1/2 transform -translate-x-1/2 w-full max-w-2xl bg-white rounded-b-lg shadow-2xl"}`,children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{ref:g,type:"text",value:o,onChange:$,onKeyDown:O,onFocus:()=>d(o.length>0),placeholder:"Search fragrances, brands, notes...",className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-lg placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500","aria-label":"Search for fragrances"}),o&&s.jsx("button",{onClick:D,className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Clear search",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r==="mobile"&&s.jsx("button",{className:"absolute right-12 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-purple-600","aria-label":"Voice search",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]}),s.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600","aria-label":"Close search",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:`${r==="mobile"?"flex-1 overflow-y-auto":"max-h-96 overflow-y-auto"}`,children:[c&&w&&s.jsxs("div",{ref:b,className:"border-b border-gray-200",children:[S&&s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}),!S&&w.products.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("h3",{className:"px-2 py-1 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Products"}),w.products.map((G,N)=>s.jsxs("button",{onClick:()=>Y(G.product_name),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 flex items-center space-x-3 ${N===u?"bg-purple-50 text-purple-700":""}`,children:[s.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:G.product_name}),s.jsx("div",{className:"text-xs text-gray-500",children:G.brand_name})]})]},G.product_id))]})]}),!c&&s.jsxs("div",{className:"p-4",children:[n&&h.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Recent Searches"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((G,N)=>s.jsx("button",{onClick:()=>Y(G),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200 transition-colors",children:G},N))})]}),Z.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Trending Searches"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Z.slice(0,8).map((G,N)=>s.jsx("button",{onClick:()=>Y(G),className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm hover:bg-purple-200 transition-colors",children:G},N))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Browse Categories"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(V,{to:"/products?gender_category=Women",onClick:i,className:"p-3 border border-gray-200 rounded-lg text-center hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Women's"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Fragrances"})]}),s.jsxs(V,{to:"/products?gender_category=Men",onClick:i,className:"p-3 border border-gray-200 rounded-lg text-center hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Men's"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Fragrances"})]}),s.jsxs(V,{to:"/products?is_new_arrival=true",onClick:i,className:"p-3 border border-gray-200 rounded-lg text-center hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"New"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Arrivals"})]}),s.jsxs(V,{to:"/products?availability_status=on_sale",onClick:i,className:"p-3 border border-gray-200 rounded-lg text-center hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Sale"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Items"})]})]})]})]}),C&&C.data.length>0&&x.length>2&&s.jsxs("div",{className:"border-t border-gray-200 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Quick Results"}),s.jsx(V,{to:`/search?query=${encodeURIComponent(x)}`,onClick:i,className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:"View All Results"})]}),R&&s.jsx("div",{className:"text-center text-gray-500 py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})}),s.jsx("div",{className:"space-y-2",children:C.data.slice(0,5).map(G=>s.jsxs(V,{to:`/products/${G.product_id}`,onClick:i,className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:G.product_name}),s.jsx("div",{className:"text-sm text-gray-500",children:G.brand_name})]}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",Number(G.base_price).toFixed(2)]})]},G.product_id))})]})]}),r==="mobile"&&o.trim()&&s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{onClick:()=>Y(),className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors",children:['Search for "',o,'"']})})]})})}):null},Tu=({children:e,className:t="",delay:r=0})=>{const n=j.useRef(null),a=Sk(n,{once:!0,margin:"-100px"});return s.jsx(Ie.div,{ref:n,initial:"hidden",animate:a?"visible":"hidden",variants:uS,transition:{delay:r},className:t,children:e})},H0=({children:e,className:t="",onClick:r,disabled:n=!1,type:a="button"})=>{const i=j.useRef(null),[o,l]=j.useState([]),c=ua(0),d=ua(0),u=Pl(c,{damping:20,stiffness:150}),m=Pl(d,{damping:20,stiffness:150}),h=b=>{if(!i.current||n)return;const f=i.current.getBoundingClientRect(),p=f.left+f.width/2,y=f.top+f.height/2,x=b.clientX-p,_=b.clientY-y;Math.sqrt(x**2+_**2)<100&&(c.set(x*.3),d.set(_*.3))},v=()=>{c.set(0),d.set(0)},g=b=>{var p;if(n)return;const f=(p=i.current)==null?void 0:p.getBoundingClientRect();if(f){const y=b.clientX-f.left,x=b.clientY-f.top,_=Date.now();l([...o,{x:y,y:x,id:_}]),setTimeout(()=>{l(w=>w.filter(S=>S.id!==_))},600)}r==null||r(b)};return s.jsxs(Ie.button,{ref:i,type:a,className:`relative overflow-hidden ${t}`,style:{x:u,y:m},variants:fS,initial:"rest",whileHover:n?"rest":"hover",whileTap:n?"rest":"tap",onMouseMove:h,onMouseLeave:v,onClick:g,disabled:n,children:[e,s.jsx(dn,{children:o.map(b=>s.jsx(Ie.span,{className:"absolute rounded-full pointer-events-none",style:{left:b.x,top:b.y,width:20,height:20,backgroundColor:Ce.colors.gold,transform:"translate(-50%, -50%)"},variants:vS,initial:"initial",animate:"animate",exit:{opacity:0}},b.id))})]})},_S=({children:e,className:t="",onClick:r})=>{const[n,a]=j.useState(!1);return s.jsxs(Ie.div,{className:`relative ${t}`,variants:mS,initial:"initial",whileHover:"hover",onHoverStart:()=>a(!0),onHoverEnd:()=>a(!1),onClick:r,children:[s.jsx(Ie.div,{className:"absolute inset-0 rounded-lg pointer-events-none",variants:pS,initial:"initial",animate:n?"hover":"initial"}),e]})},kS=({children:e,delay:t=0})=>s.jsx(Ie.div,{variants:gS,initial:"hidden",animate:"visible",exit:"hidden",transition:{delay:t},children:e}),SS=({className:e="",size:t=24})=>s.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:e,children:s.jsx(Ie.path,{d:"M5 13l4 4L19 7",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",variants:yS,initial:"hidden",animate:"visible"})}),CS=({children:e,className:t="",staggerDelay:r=Ce.stagger.children})=>s.jsx(Ie.div,{className:t,initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:r}}},children:e}),So=({children:e,className:t=""})=>s.jsx(Ie.div,{className:t,variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:Ce.duration.normal,ease:Ce.easing.easeOutCubic}}},children:e});function Kb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Kb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gb(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Kb(e))&&(n&&(n+=" "),n+=t);return n}const _h="-",FS=e=>{const t=AS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(_h);return l[0]===""&&l.length!==1&&l.shift(),Yb(l,t)||PS(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Yb=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Yb(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(_h);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Q0=/^\[(.+)\]$/,PS=e=>{if(Q0.test(e)){const t=Q0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},AS=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return TS(Object.entries(e.classGroups),r).forEach(([i,o])=>{Lu(o,n,i,t)}),n},Lu=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:K0(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(ES(a)){Lu(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Lu(o,K0(t,i),r,n)})})},K0=(e,t)=>{let r=e;return t.split(_h).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ES=e=>e.isThemeGetter,TS=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,LS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Jb="!",MS=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,m;for(let f=0;f<l.length;f++){let p=l[f];if(d===0){if(p===a&&(n||l.slice(f,f+i)===t)){c.push(l.slice(u,f)),u=f+i;continue}if(p==="/"){m=f;continue}}p==="["?d++:p==="]"&&d--}const h=c.length===0?l:l.substring(u),v=h.startsWith(Jb),g=v?h.substring(1):h,b=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},RS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},DS=e=>({cache:LS(e.cacheSize),parseClassName:MS(e),...FS(e)}),OS=/\s+/,zS=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(OS);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:v}=r(d);let g=!!v,b=n(g?h.substring(0,v):h);if(!b){if(!g){l=d+(l.length>0?" "+l:l);continue}if(b=n(h),!b){l=d+(l.length>0?" "+l:l);continue}g=!1}const f=RS(u).join(":"),p=m?f+Jb:f,y=p+b;if(i.includes(y))continue;i.push(y);const x=a(b,g);for(let _=0;_<x.length;++_){const w=x[_];i.push(p+w)}l=d+(l.length>0?" "+l:l)}return l};function BS(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Xb(t))&&(n&&(n+=" "),n+=r);return n}const Xb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Xb(e[n]))&&(r&&(r+=" "),r+=t);return r};function IS(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,m)=>m(u),e());return r=DS(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=zS(c,r);return a(c,u),u}return function(){return i(BS.apply(null,arguments))}}const Fe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Zb=/^\[(?:([a-z-]+):)?(.+)\]$/i,$S=/^\d+\/\d+$/,VS=new Set(["px","full","screen"]),qS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,US=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=e=>qn(e)||VS.has(e)||$S.test(e),Ws=e=>_a(e,"length",tC),qn=e=>!!e&&!Number.isNaN(Number(e)),Zc=e=>_a(e,"number",qn),za=e=>!!e&&Number.isInteger(Number(e)),KS=e=>e.endsWith("%")&&qn(e.slice(0,-1)),me=e=>Zb.test(e),Hs=e=>qS.test(e),GS=new Set(["length","size","percentage"]),YS=e=>_a(e,GS,e1),JS=e=>_a(e,"position",e1),XS=new Set(["image","url"]),ZS=e=>_a(e,XS,rC),eC=e=>_a(e,"",sC),Ba=()=>!0,_a=(e,t,r)=>{const n=Zb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},tC=e=>US.test(e)&&!WS.test(e),e1=()=>!1,sC=e=>HS.test(e),rC=e=>QS.test(e),nC=()=>{const e=Fe("colors"),t=Fe("spacing"),r=Fe("blur"),n=Fe("brightness"),a=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),l=Fe("borderWidth"),c=Fe("contrast"),d=Fe("grayscale"),u=Fe("hueRotate"),m=Fe("invert"),h=Fe("gap"),v=Fe("gradientColorStops"),g=Fe("gradientColorStopPositions"),b=Fe("inset"),f=Fe("margin"),p=Fe("opacity"),y=Fe("padding"),x=Fe("saturate"),_=Fe("scale"),w=Fe("sepia"),S=Fe("skew"),P=Fe("space"),C=Fe("translate"),R=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",me,t],O=()=>[me,t],D=()=>["",ws,Ws],Z=()=>["auto",qn,me],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",me],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[qn,me];return{cacheSize:500,separator:":",theme:{colors:[Ba],spacing:[ws,Ws],blur:["none","",Hs,me],brightness:z(),borderColor:[e],borderRadius:["none","","full",Hs,me],borderSpacing:O(),borderWidth:D(),contrast:z(),grayscale:k(),hueRotate:z(),invert:k(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[KS,Ws],inset:Y(),margin:Y(),opacity:z(),padding:O(),saturate:z(),scale:z(),sepia:k(),skew:z(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Hs]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),me]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",za,me]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",za,me]}],"grid-cols":[{"grid-cols":[Ba]}],"col-start-end":[{col:["auto",{span:["full",za,me]},me]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Ba]}],"row-start-end":[{row:["auto",{span:[za,me]},me]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[Hs]},Hs]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hs,Ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zc]}],"font-family":[{font:[Ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",qn,Zc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ws,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ws,Ws]}],"underline-offset":[{"underline-offset":["auto",ws,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),JS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:N()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[ws,me]}],"outline-w":[{outline:[ws,Ws]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ws,Ws]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hs,eC]}],"shadow-color":[{shadow:[Ba]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Hs,me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[za,me]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ws,Ws,Zc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aC=IS(nC);function je(...e){return aC(Gb(e))}const rt=({src:e,alt:t,productName:r="",category:n="",className:a,aspectRatio:i="3:4",objectFit:o="cover",onLoad:l,onError:c})=>{const[d,u]=j.useState(e||null),[m,h]=j.useState(!0),[v,g]=j.useState(!1),[b,f]=j.useState(!1),p=()=>{const S=n.toLowerCase(),P=r.toLowerCase();let C=[];return S.includes("woody")||S.includes("oud")||P.includes("oud")||P.includes("wood")?C=["dark-wood-texture","smoke","whiskey-glass","mahogany"]:S.includes("floral")||P.includes("rose")||P.includes("jasmine")||P.includes("flower")?C=["dried-flowers","pink-petals","silk-texture","botanical"]:S.includes("fresh")||S.includes("citrus")||P.includes("citrus")||P.includes("fresh")?C=["water-droplets","glass","morning-light","crystal"]:S.includes("oriental")||S.includes("amber")||P.includes("amber")?C=["gold-dust","amber","warm-light","bronze"]:S.includes("aromatic")||S.includes("green")?C=["green-leaves","herbs","nature","moss"]:C=["abstract-black-marble","gold-dust","luxury-texture","dark-elegance"],`https://source.unsplash.com/600x800/?${C[Math.floor(Math.random()*C.length)]},luxury,perfume&fit=crop`},y=()=>{h(!1),g(!1),l==null||l()},x=()=>{if(b)h(!1),g(!0),c==null||c();else{const S=p();u(S),f(!0),h(!0)}};j.useEffect(()=>{if(e)u(e),h(!0),g(!1),f(!1);else{const S=p();u(S),f(!0),h(!0)}},[e,r,n]);const _=()=>{switch(i){case"3:4":return"aspect-[3/4]";case"square":return"aspect-square";default:return""}},w=()=>{switch(o){case"cover":return"object-cover";case"contain":return"object-contain";case"fill":return"object-fill";default:return"object-cover"}};return s.jsxs("div",{className:je("relative overflow-hidden bg-[#2D2D2D]",_(),a),children:[m&&s.jsx("div",{className:"absolute inset-0 animate-pulse",style:{background:"linear-gradient(90deg, #333 0%, #444 50%, #333 100%)",backgroundSize:"200% 100%",animation:"shimmer 2s infinite"},children:s.jsx("style",{children:`
              @keyframes shimmer {
                0% { background-position: -200% 0; }
                100% { background-position: 200% 0; }
              }
            `})}),d&&!v&&s.jsx("img",{src:d,alt:t,className:je("w-full h-full transition-opacity duration-500",w(),m?"opacity-0":"opacity-100"),onLoad:y,onError:x,loading:"lazy"}),v&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#2D2D2D] to-[#1a1a1a] text-[#D4AF37]",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-xs font-light tracking-wider",children:r||"Product"})]})})]})},iC=()=>{const[e,t]=j.useState(""),[r,n]=j.useState(!1),a=q(R=>R.ui_state.cart_dropdown_open),i=q(R=>R.cart_state.items),o=q(R=>R.cart_state.free_shipping_threshold),l=q(R=>R.cart_state.applied_promotions),c=q(R=>R.toggle_cart_dropdown),d=q(R=>R.update_cart_item),u=q(R=>R.remove_from_cart),m=q(R=>R.load_cart),h=q(R=>R.apply_promotion),v=q(R=>R.show_notification),g=bs();j.useEffect(()=>{a&&m()},[a,m]);const b=ve({mutationFn:async({cartItemId:R,quantity:$})=>{await d(R,{quantity:$})},onSuccess:()=>{g.invalidateQueries({queryKey:["cart"]})},onError:()=>{v({type:"error",message:"Failed to update quantity",auto_dismiss:!0,duration:3e3})}}),f=ve({mutationFn:async R=>{await u(R)},onSuccess:()=>{g.invalidateQueries({queryKey:["cart"]})},onError:()=>{v({type:"error",message:"Failed to remove item",auto_dismiss:!0,duration:3e3})}}),p=async()=>{if(e.trim()){n(!0);try{await h(e),t("")}catch{}finally{n(!1)}}},y=(R,$)=>{$<1||b.mutate({cartItemId:R,quantity:$})},x=R=>{f.mutate(R)},_=i.reduce((R,$)=>R+$.quantity,0),w=i.reduce((R,$)=>R+$.unit_price*$.quantity,0),S=l.reduce((R,$)=>R+$.discount_amount,0),P=w>=o?0:9.99,C=w-S+P;return a?s.jsx(dn,{children:a&&s.jsxs(s.Fragment,{children:[s.jsx(Ie.div,{className:"fixed inset-0 bg-black z-50",initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},transition:{duration:Ce.duration.fast},onClick:c}),s.jsxs(Ie.div,{className:"fixed top-0 right-0 h-full w-full max-w-md bg-[#1A1A1A] shadow-2xl border-l border-[#C5A059] z-[60] flex flex-col",variants:xS,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-[#C5A059]/30",children:[s.jsxs("h3",{className:"text-xl font-semibold text-[#F5F5F0]",style:{fontFamily:"Playfair Display, serif"},children:["Shopping Cart (",_,")"]}),s.jsx("button",{onClick:c,className:"text-[#F5F5F0] hover:text-[#D4AF37] transition-colors","aria-label":"Close cart",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w<o&&i.length>0&&s.jsxs("div",{className:"p-4 border-b border-[#C5A059]/30",children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-xs text-[#D4AF37] font-medium",children:"Free Shipping Progress"}),s.jsxs("span",{className:"text-xs text-[#D4AF37] font-medium",children:["$",(o-w).toFixed(2)," away"]})]}),s.jsx("div",{className:"w-full bg-[#2D2D2D] rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-[#D4AF37] to-[#C5A059] h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(w/o*100,100)}%`}})})]}),s.jsxs("p",{className:"text-xs text-[#F5F5F0]/70",children:["You are ",s.jsxs("span",{className:"text-[#D4AF37] font-semibold",children:["$",(o-w).toFixed(2)]})," away from Free Shipping"]})]}),i.length===0?s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-[#2D2D2D] rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-10 h-10 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),s.jsx("h4",{className:"text-lg font-medium text-[#F5F5F0] mb-2",style:{fontFamily:"Playfair Display, serif"},children:"Your cart is empty"}),s.jsx("p",{className:"text-[#F5F5F0]/70 text-sm mb-6",children:"Discover our exquisite fragrance collection"}),s.jsx(V,{to:"/products",onClick:c,className:"bg-[#D4AF37] text-black px-6 py-3 rounded-md text-sm font-semibold hover:bg-[#C5A059] transition-colors",children:"Start Shopping"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:s.jsx(dn,{mode:"popLayout",children:i.map((R,$)=>s.jsx(kS,{delay:$*.05,children:s.jsxs("div",{className:"flex items-start space-x-4 pb-4 border-b border-[#C5A059]/20",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(rt,{src:R.product_image_url,alt:R.product_name||"Product",productName:R.product_name,category:R.fragrance_family,aspectRatio:"square",objectFit:"cover",className:"w-20 h-20 rounded-md"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-base font-medium text-[#F5F5F0] mb-1",style:{fontFamily:"Playfair Display, serif"},children:R.product_name||"Product"}),s.jsxs("p",{className:"text-xs text-[#F5F5F0]/60 mb-2",children:[R.brand_name||"Brand","  ",R.size_ml,"ml"]}),s.jsxs("p",{className:"text-sm font-semibold text-[#D4AF37]",children:["$",R.unit_price.toFixed(2)]}),s.jsxs("div",{className:"flex items-center space-x-3 mt-3",children:[s.jsx("button",{onClick:()=>y(R.cart_item_id,R.quantity-1),disabled:R.quantity<=1||b.isPending,className:"w-7 h-7 rounded border border-[#F5F5F0]/30 flex items-center justify-center text-[#F5F5F0] hover:border-[#D4AF37] hover:text-[#D4AF37] transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsx("span",{className:"text-sm font-medium text-[#F5F5F0] min-w-[20px] text-center",children:R.quantity}),s.jsx("button",{onClick:()=>y(R.cart_item_id,R.quantity+1),disabled:b.isPending,className:"w-7 h-7 rounded border border-[#F5F5F0]/30 flex items-center justify-center text-[#F5F5F0] hover:border-[#D4AF37] hover:text-[#D4AF37] transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),s.jsx("button",{onClick:()=>x(R.cart_item_id),disabled:f.isPending,className:"text-[#8B4545] hover:text-[#A85858] transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Remove item",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},R.cart_item_id))})}),s.jsxs("div",{className:"border-t border-[#C5A059]/30 p-6 space-y-3 bg-[#1A1A1A]",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-[#F5F5F0]/70",children:"Subtotal"}),s.jsxs("span",{className:"font-medium text-[#F5F5F0]",children:["$",w.toFixed(2)]})]}),l.map((R,$)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-[#D4AF37]",children:R.promotion_code}),s.jsxs("span",{className:"text-[#D4AF37] font-medium",children:["-$",R.discount_amount.toFixed(2)]})]},$)),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-[#F5F5F0]/70",children:"Shipping"}),w>=o?s.jsx("span",{className:"text-[#D4AF37] font-medium",children:"Free"}):s.jsxs("span",{className:"font-medium text-[#F5F5F0]",children:["$",P.toFixed(2)]})]}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsx("input",{type:"text",value:e,onChange:R=>t(R.target.value),placeholder:"Promo code",className:"flex-1 px-3 py-2 bg-[#333333] border border-[#C5A059]/30 rounded-md text-sm text-[#F5F5F0] placeholder-[#F5F5F0]/40 focus:outline-none focus:ring-1 focus:ring-[#D4AF37] focus:border-[#D4AF37]"}),s.jsx("button",{onClick:p,disabled:!e.trim()||r,className:"px-4 py-2 bg-[#2D2D2D] text-[#D4AF37] border border-[#D4AF37]/50 rounded-md text-sm font-medium hover:bg-[#D4AF37] hover:text-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Applying...":"Apply"})]}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t border-[#C5A059]/30 pt-4 mt-2",children:[s.jsx("span",{className:"text-[#F5F5F0]",style:{fontFamily:"Playfair Display, serif"},children:"Total"}),s.jsxs("span",{className:"text-[#D4AF37]",children:["$",C.toFixed(2)]})]})]}),s.jsxs("div",{className:"border-t border-[#C5A059]/30 p-6 space-y-3 bg-[#1A1A1A]",children:[s.jsx(V,{to:"/checkout",onClick:c,className:"w-full bg-[#D4AF37] text-black py-3 px-6 rounded-md text-sm font-bold hover:bg-[#C5A059] transition-colors text-center block",children:"Checkout"}),s.jsx(V,{to:"/cart",onClick:c,className:"w-full bg-transparent border border-[#F5F5F0] text-[#F5F5F0] py-3 px-6 rounded-md text-sm font-medium hover:border-[#D4AF37] hover:text-[#D4AF37] transition-colors text-center block",children:"View Cart"})]})]})]})]})}):null},oC=async e=>(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/users/profile",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data,lC=async e=>(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/orders",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},params:{limit:3,sort_by:"created_at",sort_order:"desc"}})).data.data||[],cC=()=>{var g,b;const e=q(f=>f.authentication_state.authentication_status.is_authenticated),t=q(f=>f.authentication_state.current_user),r=q(f=>f.authentication_state.auth_token),n=q(f=>f.ui_state.account_dropdown_open),a=q(f=>f.ui_state.current_breakpoint),i=q(f=>f.logout_user),o=q(f=>f.toggle_account_dropdown),l=q(f=>f.show_notification),{data:c,isLoading:d}=ce({queryKey:["userProfile",r],queryFn:()=>oC(r),enabled:e&&!!r,staleTime:5*60*1e3,retry:1}),{data:u=[]}=ce({queryKey:["recentOrders",r],queryFn:()=>lC(r),enabled:e&&!!r,staleTime:5*60*1e3,retry:1}),m=async()=>{try{i(),o(),l({type:"success",message:"Successfully logged out",auto_dismiss:!0,duration:3e3})}catch{l({type:"error",message:"Logout failed, but you have been logged out locally",auto_dismiss:!0,duration:5e3})}},h=()=>{o()};if(j.useEffect(()=>{const f=p=>{const y=p.target;n&&!y.closest("[data-account-dropdown]")&&o()};if(n)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[n,o]),!n)return null;const v=a==="mobile";return s.jsxs(s.Fragment,{children:[v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:h}),s.jsx("div",{"data-account-dropdown":!0,className:`
          ${v?"fixed inset-x-4 top-20 bottom-auto max-h-[80vh] z-60":"w-80 relative z-60"}
          bg-[#2D2D2D] rounded-lg shadow-2xl border border-[#C5A059]/30 overflow-hidden
        `,children:e?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-[#1A1A1A] border border-[#D4AF37] rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-[#D4AF37] font-semibold text-lg",children:d?"...":((g=c==null?void 0:c.first_name)==null?void 0:g.charAt(0))||((b=t==null?void 0:t.first_name)==null?void 0:b.charAt(0))||"U"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base font-normal text-[#F5F5F0]/70 truncate",children:"Welcome back,"}),s.jsx("p",{className:"text-lg font-bold text-[#F5F5F0] truncate",children:d?"...":(c==null?void 0:c.first_name)||(t==null?void 0:t.first_name)||"User"}),((c==null?void 0:c.loyalty_tier)||(t==null?void 0:t.loyalty_tier))&&s.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-transparent border border-[#D4AF37] text-[#D4AF37] mt-2",children:[((c==null?void 0:c.loyalty_tier)||(t==null?void 0:t.loyalty_tier)||"").charAt(0).toUpperCase()+((c==null?void 0:c.loyalty_tier)||(t==null?void 0:t.loyalty_tier)||"").slice(1)," Member"]})]})]}),s.jsxs("div",{className:"space-y-1 mb-6",children:[s.jsxs(V,{to:"/account",onClick:h,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-[#1A1A1A] transition-colors group",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37] group-hover:text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("span",{className:"text-sm font-medium text-[#F5F5F0] group-hover:text-[#D4AF37] transition-colors",children:"My Account"})]}),s.jsxs(V,{to:"/account/orders",onClick:h,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-[#1A1A1A] transition-colors group",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37] group-hover:text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),s.jsx("span",{className:"text-sm font-medium text-[#F5F5F0] group-hover:text-[#D4AF37] transition-colors",children:"Order History"})]}),s.jsxs(V,{to:"/wishlist",onClick:h,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-[#1A1A1A] transition-colors group",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37] group-hover:text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsx("span",{className:"text-sm font-medium text-[#F5F5F0] group-hover:text-[#D4AF37] transition-colors",children:"My Wishlist"})]}),s.jsxs(V,{to:"/track-order",onClick:h,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-[#1A1A1A] transition-colors group",children:[s.jsxs("svg",{className:"w-5 h-5 text-[#D4AF37] group-hover:text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-sm font-medium text-[#F5F5F0] group-hover:text-[#D4AF37] transition-colors",children:"Track Orders"})]})]}),u.length>0&&s.jsxs("div",{className:"border-t border-[#C5A059]/30 pt-4 mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-[#F5F5F0] mb-3",children:"Recent Orders"}),s.jsx("div",{className:"space-y-2",children:u.slice(0,2).map(f=>s.jsx(V,{to:`/orders/${f.order_id}`,onClick:h,className:"block p-2 rounded-md hover:bg-[#1A1A1A] transition-colors",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-medium text-[#F5F5F0]",children:["#",f.order_number]}),s.jsx("p",{className:"text-xs text-[#F5F5F0]/60 capitalize",children:f.order_status})]}),s.jsxs("p",{className:"text-xs font-medium text-[#D4AF37]",children:["$",Number(f.total_amount).toFixed(2)]})]})},f.order_id))})]}),s.jsx("div",{className:"border-t border-[#C5A059]/30 pt-4 mb-4",children:s.jsxs(V,{to:"/support",onClick:h,className:"flex items-center space-x-2 text-sm text-[#F5F5F0]/70 hover:text-[#D4AF37] transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:"Customer Service"})]})}),s.jsx("div",{className:"border-t border-[#C5A059]/30 pt-4",children:s.jsx("button",{onClick:m,className:"w-full text-sm font-medium text-[#F5F5F0]/70 hover:text-[#D4AF37] underline transition-colors text-left",children:"Sign Out"})})]}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-[#F5F5F0] mb-2",style:{fontFamily:"Playfair Display, serif"},children:"Welcome to LuxeScent"}),s.jsx("p",{className:"text-sm text-[#F5F5F0]/70",children:"Sign in to access your account and enjoy exclusive benefits"})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx(V,{to:"/login?action=login",onClick:h,className:"w-full bg-[#D4AF37] text-black px-4 py-3 rounded-lg font-semibold text-center hover:bg-[#C5A059] transition-all duration-200 shadow-md hover:shadow-lg block",children:"Sign In"}),s.jsx(V,{to:"/login?action=register",onClick:h,className:"w-full bg-transparent text-[#F5F5F0] px-4 py-3 rounded-lg font-medium text-center border border-[#F5F5F0] hover:border-[#D4AF37] hover:text-[#D4AF37] transition-colors block",children:"Create Account"}),s.jsx(V,{to:"/checkout",onClick:h,className:"w-full text-[#D4AF37] px-4 py-2 text-center text-sm font-medium hover:text-[#C5A059] underline transition-colors block",children:"Continue as Guest"})]}),s.jsxs("div",{className:"border-t border-[#C5A059]/30 pt-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-[#F5F5F0] mb-4",children:"Account Benefits"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#F5F5F0]",children:"Order Tracking"}),s.jsx("p",{className:"text-xs text-[#F5F5F0]/60",children:"Monitor your shipments in real-time"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#F5F5F0]",children:"Save Favorites"}),s.jsx("p",{className:"text-xs text-[#F5F5F0]/60",children:"Create wishlists and save products"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#F5F5F0]",children:"Faster Checkout"}),s.jsx("p",{className:"text-xs text-[#F5F5F0]/60",children:"Save addresses and payment methods"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("svg",{className:"w-5 h-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-[#F5F5F0]",children:"Exclusive Offers"}),s.jsx("p",{className:"text-xs text-[#F5F5F0]/60",children:"Member-only discounts and early access"})]})]})]})]})]})})]})},dC=()=>{const e=q(a=>a.ui_state.notifications),t=q(a=>a.dismiss_notification);if(j.useEffect(()=>{e.forEach(a=>{if(a.auto_dismiss&&a.duration){const i=setTimeout(()=>{t(a.id)},a.duration);return()=>clearTimeout(i)}})},[e,t]),e.length===0)return null;const r=a=>{switch(a){case"success":return s.jsx("svg",{className:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return s.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return s.jsx("svg",{className:"h-6 w-6 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":return s.jsx("svg",{className:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},n=a=>{switch(a){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800"}};return s.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2 max-w-md w-full pointer-events-none",children:e.map(a=>s.jsx("div",{className:`${n(a.type)} border rounded-lg shadow-lg p-4 pointer-events-auto animate-slide-in-right`,role:"alert",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:r(a.type)}),s.jsxs("div",{className:"ml-3 flex-1",children:[a.title&&s.jsx("h3",{className:"text-sm font-semibold mb-1",children:a.title}),s.jsx("p",{className:"text-sm",children:a.message})]}),s.jsx("button",{onClick:()=>t(a.id),className:"ml-4 flex-shrink-0 inline-flex text-gray-400 hover:text-gray-600 focus:outline-none transition-colors duration-200","aria-label":"Close notification",children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},a.id))})},G0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Y0=Gb,t1=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Y0(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],m=i==null?void 0:i[d];if(u===null)return null;const h=G0(u)||G0(m);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:h,...v}=u;return Object.entries(v).every(g=>{let[b,f]=g;return Array.isArray(f)?f.includes({...i,...l}[b]):{...i,...l}[b]===f})?[...d,m,h]:d},[]);return Y0(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},uC=t1("inline-flex items-center justify-center whitespace-nowrap font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-[var(--color-interactive-primary)] text-[var(--color-fg-inverse)] hover:bg-[var(--color-interactive-primary-hover)] focus-visible:ring-[var(--color-border-focus)]",secondary:"bg-[var(--color-interactive-secondary)] text-[var(--color-fg-primary)] hover:bg-[var(--color-interactive-secondary-hover)] focus-visible:ring-[var(--color-border-focus)]",outline:"border border-[var(--color-border-primary)] bg-transparent text-[var(--color-fg-primary)] hover:bg-[var(--color-bg-muted)] focus-visible:ring-[var(--color-border-focus)]",ghost:"bg-transparent text-[var(--color-fg-primary)] hover:bg-[var(--color-bg-muted)] focus-visible:ring-[var(--color-border-focus)]",link:"text-[var(--color-fg-primary)] underline-offset-4 hover:underline focus-visible:ring-[var(--color-border-focus)]"},size:{sm:"h-9 px-3 text-sm rounded-[var(--radius-md)]",md:"h-11 px-4 text-base rounded-[var(--radius-md)]",lg:"h-13 px-6 text-lg rounded-[var(--radius-lg)]",icon:"h-11 w-11 rounded-[var(--radius-md)]"}},defaultVariants:{variant:"primary",size:"md"}}),mr=ut.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,magnetic:a=!0,onClick:i,disabled:o,...l},c)=>{const d=j.useRef(null),[u,m]=j.useState([]),h=ua(0),v=ua(0),g=Pl(h,{damping:20,stiffness:150}),b=Pl(v,{damping:20,stiffness:150}),f=x=>{if(!d.current||o||!a)return;const _=d.current.getBoundingClientRect(),w=_.left+_.width/2,S=_.top+_.height/2,P=x.clientX-w,C=x.clientY-S;Math.sqrt(P**2+C**2)<100&&(h.set(P*.3),v.set(C*.3))},p=()=>{h.set(0),v.set(0)},y=x=>{var w;if(o)return;const _=(w=d.current)==null?void 0:w.getBoundingClientRect();if(_){const S=x.clientX-_.left,P=x.clientY-_.top,C=Date.now();m([...u,{x:S,y:P,id:C}]),setTimeout(()=>{m(R=>R.filter($=>$.id!==C))},600)}i==null||i(x)};return s.jsxs(Ie.button,{ref:x=>{d.current=x,typeof c=="function"?c(x):c&&(c.current=x)},className:je(uC({variant:t,size:r,className:e}),"relative overflow-hidden"),style:a?{x:g,y:b}:void 0,onMouseMove:f,onMouseLeave:p,onClick:y,disabled:o,whileHover:o?void 0:{scale:1.05},whileTap:o?void 0:{scale:.95},transition:{duration:.4,ease:[.25,.1,.25,1]},...l,children:[l.children,s.jsx(dn,{children:u.map(x=>s.jsx(Ie.span,{className:"absolute rounded-full pointer-events-none",style:{left:x.x,top:x.y,width:20,height:20,backgroundColor:"#D4AF37",transform:"translate(-50%, -50%)"},initial:{scale:0,opacity:.8},animate:{scale:4,opacity:0},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"}},x.id))})]})});mr.displayName="NocturneButton";const mC=t1("inline-flex items-center rounded-[var(--radius-full)] px-2.5 py-0.5 text-caption font-[var(--font-weight-medium)] transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",{variants:{variant:{default:"bg-[var(--color-interactive-primary)] text-[var(--color-fg-inverse)]",secondary:"bg-[var(--color-interactive-secondary)] text-[var(--color-fg-primary)]",success:"bg-[var(--color-success)] text-white",warning:"bg-[var(--color-warning)] text-white",error:"bg-[var(--color-error)] text-white",outline:"border border-[var(--color-border-primary)] text-[var(--color-fg-primary)]",family:"bg-[var(--color-bg-muted)] text-[var(--color-fg-secondary)] border border-[var(--color-border-muted)]"}},defaultVariants:{variant:"default"}});function Vr({className:e,variant:t,...r}){return s.jsx("div",{className:je(mC({variant:t}),e),...r})}const hC=()=>{var B;const e=q(z=>z.authentication_state.authentication_status.is_authenticated),t=q(z=>z.authentication_state.current_user);q(z=>z.add_to_cart);const r=q(z=>z.show_notification),[n,a]=j.useState(""),[i,o]=j.useState(!1),[l,c]=j.useState(null),[d,u]=j.useState(0),[m,h]=j.useState(null),[v,g]=j.useState(0),[b,f]=j.useState(0),[p,y]=j.useState(null),[x,_]=j.useState({x:0,y:0}),w=()=>"https://123luxury-fragrance-brand.launchpulse.ai",S=[{title:"Scent is the memory of the soul",subtitle:"Mysterious. Artisanal. Atmospheric.",description:"Step into the sensory darkness where every fragrance tells a nocturnal story",cta:"Shop New Arrivals",cta2:"Take the Scent Quiz",ctaLink:"/products",cta2Link:"/fragrance-finder",background:"from-[var(--nocturne-onyx)] via-[var(--nocturne-midnight)] to-[var(--nocturne-onyx)]"},{title:"Artistry in Every Bottle",subtitle:"Crafted in Darkness, Born in Light",description:"Small batch perfumery created when the senses are most acute",cta:"Shop New Arrivals",cta2:"Take the Scent Quiz",ctaLink:"/products",cta2Link:"/fragrance-finder",background:"from-[var(--nocturne-midnight)] via-[#1E293B] to-[var(--nocturne-onyx)]"},{title:"Try Before You Commit",subtitle:"Sample Program",description:"Discover your signature scent with our 2ml sample vials  credited towards your full bottle purchase",cta:"Shop New Arrivals",cta2:"Take the Scent Quiz",ctaLink:"/samples",cta2Link:"/fragrance-finder",background:"from-[var(--nocturne-onyx)] via-[#0A0F1A] to-[var(--nocturne-midnight)]"}],P=[{text:"Nocturne Atelier creates the most sophisticated fragrances I've ever encountered. Each scent tells a story.",author:"Sophie M.",location:"Paris, France",rating:5},{text:"The quality is unmatched. These aren't just perfumes, they're works of art that you wear.",author:"Marcus L.",location:"Berlin, Germany",rating:5},{text:"I've been searching for unique fragrances for years. Nocturne Atelier exceeded all my expectations.",author:"Elena R.",location:"Milan, Italy",rating:5}];j.useEffect(()=>{const z=Math.floor(Math.random()*50)+150;g(z);const L=setInterval(()=>{u(H=>(H+1)%S.length)},6e3),J=setInterval(()=>{f(H=>(H+1)%P.length)},4e3),A=H=>{_({x:H.clientX,y:H.clientY})};return window.addEventListener("mousemove",A),()=>{clearInterval(L),clearInterval(J),window.removeEventListener("mousemove",A)}},[S.length,P.length]);const[C,R]=j.useState([]),{data:$=[]}=ce({queryKey:["featured-products"],queryFn:async()=>(await ee.get(`${w()}/api/products/featured?limit=12`)).data,staleTime:5*60*1e3,retry:1}),{data:Y=[]}=ce({queryKey:["brands"],queryFn:async()=>(await ee.get(`${w()}/api/brands?is_active=true&sort_by=display_order`)).data,staleTime:10*60*1e3,retry:1});j.useEffect(()=>{(async()=>{if($.length===0)return;const L=await Promise.all($.slice(0,5).map(async J=>{var A,H,ae,ye;try{const Qe=(await ee.get(`${w()}/api/products/${J.product_id}/sizes`)).data,X={};Qe.forEach(Q=>{X[`${Q.size_ml}ml`]=Q.sale_price||Q.price});const te=(await ee.get(`${w()}/api/products/${J.product_id}`)).data,ne=((H=(A=te.images)==null?void 0:A.find(Q=>Q.is_primary))==null?void 0:H.image_url)||((ye=(ae=te.images)==null?void 0:ae[0])==null?void 0:ye.image_url)||"/images/fallback-perfume-bottle.png";return{product_id:J.product_id,product_name:J.product_name,family:J.fragrance_families||"Luxury Fragrance",price:X,sizes:Qe,image:ne,rating:4.8,reviewCount:0,badges:[J.is_new_arrival?"new":null,J.is_featured?"bestseller":null,J.is_limited_edition?"limited":null].filter(Boolean),notes:{top:J.top_notes?J.top_notes.split(",").slice(0,2):[],heart:J.middle_notes?J.middle_notes.split(",").slice(0,2):[],base:J.base_notes?J.base_notes.split(",").slice(0,2):[]}}}catch(De){return console.error(`Failed to fetch sizes for product ${J.product_id}:`,De),null}}));R(L.filter(Boolean))})()},[$]);const O=ve({mutationFn:async z=>(await ee.post(`${w()}/api/newsletter/subscribe`,z)).data,onSuccess:()=>{c(null),r({type:"success",message:"Welcome! Check your email for your 10% off code.",title:"Newsletter Subscription Successful",auto_dismiss:!0,duration:5e3}),a(""),o(!1)},onError:z=>{var J,A;const L=((A=(J=z.response)==null?void 0:J.data)==null?void 0:A.message)||"Failed to subscribe. Please try again.";c(L),r({type:"error",message:L,title:"Subscription Failed",auto_dismiss:!0,duration:5e3})}}),D=z=>{if(z.preventDefault(),c(null),!n.trim()){const J="Please enter your email address";c(J),r({type:"warning",message:J,auto_dismiss:!0,duration:3e3});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.trim())){const J="Please enter a valid email address";c(J),r({type:"error",message:J,auto_dismiss:!0,duration:3e3});return}O.mutate({email:n.trim(),first_name:(t==null?void 0:t.first_name)||void 0,subscription_source:"homepage_signup",preferences:JSON.stringify({new_arrivals:!0,sales:!0,exclusive_offers:!0})})},Z=()=>{u(z=>(z+1)%S.length)},G=()=>{u(z=>(z-1+S.length)%S.length)},N=j.useRef(null),{scrollY:F}=vk(),I=Gc(F,[0,500],[0,150]),k=Gc(F,[0,300],[1,0]);return s.jsxs(s.Fragment,{children:[s.jsxs(Ie.section,{ref:N,className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-[var(--nocturne-onyx)]",style:{opacity:k},children:[s.jsx(Ie.div,{className:`absolute inset-0 bg-gradient-to-br ${S[d].background} transition-all duration-1000`,style:{y:Gc(F,[0,500],[0,75])}}),s.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.15) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(15, 23, 42, 0.4) 0%, transparent 50%)"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--nocturne-onyx)] via-transparent to-[var(--nocturne-midnight)]/60"}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute w-32 h-32 bg-[var(--nocturne-champagne)]/10 rounded-full blur-xl animate-pulse transition-all duration-1000",style:{left:`${10+x.x/window.innerWidth*5}%`,top:`${20+x.y/window.innerHeight*10}%`}}),s.jsx("div",{className:"absolute w-24 h-24 bg-[var(--nocturne-porcelain)]/5 rounded-full blur-2xl animate-pulse delay-1000 transition-all duration-1000",style:{right:`${16+x.x/window.innerWidth*8}%`,bottom:`${32+x.y/window.innerHeight*5}%`}}),s.jsx("div",{className:"absolute w-16 h-16 bg-[var(--nocturne-champagne)]/10 rounded-full blur-lg animate-pulse delay-500 transition-all duration-1000",style:{right:`${25+x.x/window.innerWidth*3}%`,top:`${33+x.y/window.innerHeight*7}%`}})]}),s.jsx("button",{onClick:G,className:"absolute left-8 top-1/2 transform -translate-y-1/2 z-20 bg-[var(--nocturne-porcelain)]/10 backdrop-blur-sm border border-[var(--nocturne-porcelain)]/20 rounded-full p-3 text-[var(--nocturne-porcelain)] hover:bg-[var(--nocturne-porcelain)]/20 transition-all duration-300 group",children:s.jsx("svg",{className:"w-6 h-6 group-hover:-translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("button",{onClick:Z,className:"absolute right-8 top-1/2 transform -translate-y-1/2 z-20 bg-[var(--nocturne-porcelain)]/10 backdrop-blur-sm border border-[var(--nocturne-porcelain)]/20 rounded-full p-3 text-[var(--nocturne-porcelain)] hover:bg-[var(--nocturne-porcelain)]/20 transition-all duration-300 group",children:s.jsx("svg",{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsxs(Ie.div,{className:"relative z-10 text-center text-[var(--nocturne-porcelain)] nocturne-container py-32",style:{y:I},children:[s.jsx(CS,{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"backdrop-blur-xl bg-[var(--nocturne-slate)]/30 border border-[var(--nocturne-champagne)]/20 rounded-3xl p-12 shadow-2xl",children:[s.jsx(So,{children:s.jsx("h1",{className:"text-h1 font-[var(--font-heading)] font-[var(--text-h1-weight)] mb-6 tracking-[var(--text-h1-spacing)] leading-[var(--text-h1-line)] text-[var(--nocturne-porcelain)]",children:S[d].title})}),s.jsx(So,{children:s.jsx("p",{className:"text-subtitle mb-4 font-[var(--font-weight-light)] text-[var(--nocturne-champagne)] tracking-[0.05em] uppercase",children:S[d].subtitle})}),s.jsx(So,{children:s.jsx("p",{className:"text-body mb-12 max-w-2xl mx-auto text-[var(--nocturne-porcelain)]/90 leading-relaxed",children:S[d].description})}),s.jsx(So,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsxs(H0,{className:"inline-flex items-center bg-[var(--nocturne-champagne)] text-[var(--nocturne-onyx)] px-8 py-4 rounded-[var(--radius-full)] font-[var(--font-weight-semibold)] text-body shadow-lg",onClick:()=>window.location.href=S[d].ctaLink,children:[s.jsx("span",{children:S[d].cta}),s.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),s.jsx(H0,{className:"inline-flex items-center bg-transparent border-2 border-[var(--nocturne-champagne)] text-[var(--nocturne-champagne)] px-8 py-4 rounded-[var(--radius-full)] font-[var(--font-weight-semibold)] text-body",onClick:()=>window.location.href=S[d].cta2Link,children:S[d].cta2})]})})]})},d),e&&t&&s.jsx("div",{className:"mt-8 animate-slide-up delay-400",children:s.jsxs("div",{className:"inline-flex items-center bg-[var(--nocturne-porcelain)]/10 backdrop-blur-sm px-6 py-3 rounded-[var(--radius-full)] border border-[var(--nocturne-porcelain)]/20",children:[s.jsx("div",{className:"w-8 h-8 bg-[var(--nocturne-champagne)] rounded-full flex items-center justify-center text-[var(--nocturne-onyx)] font-[var(--font-weight-semibold)] text-caption mr-3",children:(B=t.first_name)==null?void 0:B.charAt(0).toUpperCase()}),s.jsxs("p",{className:"text-body text-[var(--nocturne-porcelain)]/90",children:["Welcome back, ",t.first_name]})]})}),s.jsx("div",{className:"text-center mt-16",children:s.jsx(mr,{size:"lg",asChild:!0,children:s.jsx(V,{to:"/products",children:"View All Fragrances"})})})]})]}),s.jsx("section",{className:"py-24 bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsxs(Tu,{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] mb-6 tracking-[var(--text-h2-spacing)]",children:"Featured Brands"}),s.jsx("p",{className:"text-subtitle text-[var(--color-fg-secondary)] max-w-2xl mx-auto leading-relaxed",children:"Discover luxury perfume houses with rich heritage and exquisite craftsmanship"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:Y.slice(0,6).map((z,L)=>s.jsx(Tu,{delay:L*.1,children:s.jsxs(V,{to:`/brands/${z.brand_id}`,className:"group bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] rounded-[var(--radius-lg)] overflow-hidden hover:shadow-[var(--shadow-elevated)] transition-all duration-normal transform hover:-translate-y-2",children:[s.jsx("div",{className:"overflow-hidden bg-[var(--color-bg-muted)]",children:s.jsx("div",{className:"group-hover:scale-105 transition-transform duration-slow",children:s.jsx(rt,{src:z.logo_url||"https://picsum.photos/300/200?random=1",alt:`${z.brand_name} logo`,productName:z.brand_name,aspectRatio:"3:4",objectFit:"cover"})})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] group-hover:text-[var(--color-interactive-primary)] transition-colors duration-normal",children:z.brand_name}),s.jsx("span",{className:"text-caption text-[var(--color-fg-muted)]",children:z.country_origin})]}),s.jsx("p",{className:"text-body text-[var(--color-fg-secondary)] mb-4 line-clamp-2",children:z.description}),s.jsxs("div",{className:"flex items-center justify-between text-caption text-[var(--color-fg-muted)]",children:[s.jsx("span",{children:z.is_niche_brand?"Niche Brand":"Designer Brand"}),s.jsxs("span",{children:[z.product_count," ",z.product_count===1?"product":"products"]})]})]})]})},z.brand_id))}),s.jsx("div",{className:"text-center",children:s.jsx(mr,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(V,{to:"/products",children:"Explore All Brands"})})})]})}),s.jsx("section",{className:"py-24 bg-[var(--color-bg-secondary)]",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] mb-6 tracking-[var(--text-h2-spacing)]",children:"Explore by Notes"}),s.jsx("p",{className:"text-subtitle text-[var(--color-fg-secondary)] max-w-2xl mx-auto leading-relaxed",children:"Discover fragrances through their olfactory families and signature notes"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[{family:"Hesperidic",originalFamily:"citrus",description:"Bright, luminous, uplifting",icon:s.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"5"}),s.jsx("path",{d:"M12 1v6m0 6v6m6-11h-6m-6 0h6m4.95 4.95l-4.24-4.24m-5.42 0L2.05 17.95m0-11.9l4.24 4.24m5.42 5.42l4.24 4.24"})]}),color:"from-yellow-400/20 to-orange-400/20",borderColor:"border-yellow-400/30",products:12},{family:"Botanical",originalFamily:"floral",description:"Elegant, romantic, delicate",icon:s.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2z"}),s.jsx("path",{d:"M12 7v10m5-5H7"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),color:"from-pink-400/20 to-rose-400/20",borderColor:"border-pink-400/30",products:8},{family:"Amber",originalFamily:"amber",description:"Warm, sensual, resinous",icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"from-amber-400/20 to-orange-600/20",borderColor:"border-amber-400/30",products:6},{family:"Woody",originalFamily:"woody",description:"Grounding, sophisticated, deep",icon:s.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M12 2L4 7v10l8 5 8-5V7l-8-5z"}),s.jsx("path",{d:"M12 22V12m0 0L4 7m8 5l8-5"})]}),color:"from-amber-600/20 to-brown-600/20",borderColor:"border-amber-600/30",products:10},{family:"Bright",originalFamily:"green",description:"Crisp, natural, verdant",icon:s.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M5 3v18l7-3 7 3V3l-7 3-7-3z"}),s.jsx("path",{d:"M12 6v12"})]}),color:"from-green-400/20 to-emerald-500/20",borderColor:"border-green-400/30",products:5}].map((z,L)=>s.jsx(V,{to:`/products?family=${z.originalFamily}`,className:`group relative overflow-hidden rounded-[var(--radius-lg)] bg-gradient-to-br ${z.color} bg-[var(--color-surface-primary)] border ${z.borderColor} hover:shadow-2xl transition-all duration-normal transform hover:-translate-y-2 animate-slide-up`,style:{animationDelay:`${L*100}ms`},onMouseEnter:()=>h(z.family),onMouseLeave:()=>h(null),children:s.jsxs("div",{className:"relative p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-[var(--nocturne-onyx)]/40 border border-[var(--nocturne-champagne)]/30 flex items-center justify-center backdrop-blur-sm",children:s.jsx("div",{className:`text-[var(--nocturne-champagne)] transition-all duration-normal ${m===z.family?"scale-110 rotate-6":"group-hover:scale-105"}`,children:z.icon})}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--nocturne-porcelain)] mb-2 tracking-wide",children:z.family}),s.jsx("p",{className:"text-caption text-[var(--nocturne-warm-taupe)] leading-relaxed mb-2 tracking-wider",children:z.description}),s.jsxs("div",{className:"text-xs text-[var(--nocturne-champagne)]/70 opacity-0 group-hover:opacity-100 transition-opacity duration-300 tracking-wide",children:[z.products," fragrances"]}),m===z.family&&s.jsx("div",{className:"absolute inset-0 rounded-[var(--radius-lg)] border-2 border-[var(--nocturne-champagne)] animate-pulse"})]})},z.family))})]})}),s.jsx("section",{className:"py-24 bg-[var(--color-bg-secondary)]",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] mb-6 tracking-[var(--text-h2-spacing)]",children:"What Our Connoisseurs Say"}),s.jsx("p",{className:"text-subtitle text-[var(--color-fg-secondary)] max-w-2xl mx-auto leading-relaxed",children:"Join thousands of fragrance enthusiasts who have discovered their signature scent"})]}),s.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[s.jsx("div",{className:"overflow-hidden rounded-[var(--radius-xl)] bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] shadow-[var(--shadow-subtle)]",children:s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"mb-6",children:[...Array(P[b].rating)].map((z,L)=>s.jsx("svg",{className:"w-6 h-6 text-yellow-400 inline-block mx-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},L))}),s.jsxs("blockquote",{className:"text-subtitle font-[var(--font-weight-light)] text-[var(--color-fg-primary)] mb-8 leading-relaxed italic",children:['"',P[b].text,'"']}),s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[var(--color-interactive-primary)] rounded-full flex items-center justify-center text-[var(--color-fg-inverse)] font-[var(--font-weight-semibold)]",children:P[b].author.charAt(0)}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)]",children:P[b].author}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:P[b].location})]})]})]})}),s.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:P.map((z,L)=>s.jsx("button",{onClick:()=>f(L),className:`w-2 h-2 rounded-full transition-all duration-300 ${L===b?"bg-[var(--color-interactive-primary)] scale-125":"bg-[var(--color-border-primary)] hover:bg-[var(--color-interactive-primary)]/50"}`},L))})]})]})}),s.jsx("section",{className:"py-24 bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsx("div",{className:"text-center mb-16",children:s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] mb-6 tracking-[var(--text-h2-spacing)]",children:"Our Story"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-8",children:"Crafted in Darkness, Born in Light"}),s.jsx("p",{className:"text-body text-[var(--color-fg-secondary)] mb-6 leading-relaxed",children:"At Nocturne Atelier, we believe fragrance is an intimate art forma whispered secret between skin and soul. Each creation in our collection is meticulously crafted in small batches, using only the finest raw materials sourced from the world's most prestigious suppliers."}),s.jsx("p",{className:"text-body text-[var(--color-fg-secondary)] mb-8 leading-relaxed",children:"Our master perfumers work under the cover of night, when the senses are most acute and creativity flows freely. Every bottle tells a story of passion, precision, and the relentless pursuit of olfactory perfection."}),s.jsx(mr,{variant:"outline",size:"lg",asChild:!0,children:s.jsx(V,{to:"/about",children:"Discover Our Story"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] rounded-[var(--radius-lg)] p-6 text-center hover:shadow-[var(--shadow-subtle)] transition-shadow duration-normal",children:[s.jsx("div",{className:"text-3xl mb-4",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Nocturnal Craft"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Created when senses are most acute"})]}),s.jsxs("div",{className:"bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] rounded-[var(--radius-lg)] p-6 text-center hover:shadow-[var(--shadow-subtle)] transition-shadow duration-normal",children:[s.jsx("div",{className:"text-3xl mb-4",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Small Batches"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Artisanal quality in every bottle"})]}),s.jsxs("div",{className:"bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] rounded-[var(--radius-lg)] p-6 text-center hover:shadow-[var(--shadow-subtle)] transition-shadow duration-normal",children:[s.jsx("div",{className:"text-3xl mb-4",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Pure Ingredients"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Ethically sourced, naturally derived"})]}),s.jsxs("div",{className:"bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] rounded-[var(--radius-lg)] p-6 text-center hover:shadow-[var(--shadow-subtle)] transition-shadow duration-normal",children:[s.jsx("div",{className:"text-3xl mb-4",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Sustainable"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Recyclable packaging, cruelty-free"})]})]})]})]})}),s.jsxs("section",{className:"py-24 bg-[var(--nocturne-onyx)] text-[var(--nocturne-porcelain)] relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 bg-[var(--nocturne-champagne)] rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-10 right-10 w-32 h-32 bg-[var(--nocturne-porcelain)] rounded-full blur-2xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-[var(--nocturne-champagne)] rounded-full blur-xl animate-pulse delay-500"})]}),s.jsx("div",{className:"nocturne-container relative z-10",children:s.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"inline-flex items-center bg-[var(--nocturne-champagne)]/10 backdrop-blur-sm px-4 py-2 rounded-[var(--radius-full)] border border-[var(--nocturne-champagne)]/20 mb-6",children:s.jsx("span",{className:"text-[var(--nocturne-champagne)] text-caption font-[var(--font-weight-semibold)]",children:" 10% OFF YOUR FIRST ORDER"})})}),s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--nocturne-porcelain)] mb-6 tracking-[var(--text-h2-spacing)]",children:"Join the Inner Circle"}),s.jsx("p",{className:"text-subtitle text-[var(--nocturne-warm-taupe)] mb-12 leading-relaxed tracking-wide",children:"Be the first to discover new creations, receive exclusive offers, and unlock the secrets of fragrance artistry."}),s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l&&s.jsx("div",{className:"bg-red-50 border border-red-400 text-red-800 px-4 py-3 rounded-md shadow-sm",role:"alert",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium",children:l})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative group",children:[s.jsx("input",{type:"email",value:n,onChange:z=>{a(z.target.value),c(null)},placeholder:"Your email address",required:!0,className:`w-full px-6 py-4 rounded-[var(--radius-full)] bg-[var(--nocturne-porcelain)] text-[var(--nocturne-onyx)] placeholder:text-[var(--nocturne-warm-taupe)] focus:outline-none focus:ring-2 ${l?"focus:ring-red-400 border border-red-400":"focus:ring-[var(--nocturne-champagne)]"} text-body transition-all duration-300 group-hover:shadow-lg`}),s.jsx("div",{className:"absolute inset-0 rounded-[var(--radius-full)] bg-gradient-to-r from-[var(--nocturne-champagne)]/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]}),s.jsx(mr,{type:"submit",disabled:O.isPending||!i,size:"lg",className:"bg-[var(--nocturne-champagne)] text-[var(--nocturne-onyx)] hover:bg-[var(--nocturne-porcelain)] disabled:opacity-50 disabled:cursor-not-allowed px-8 transform hover:scale-105 transition-all duration-300",children:O.isPending?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-[var(--nocturne-onyx)]/30 border-t-[var(--nocturne-onyx)] rounded-full animate-spin mr-2"}),"Joining..."]}):"Join Atelier"})]}),s.jsxs("div",{className:"flex items-start space-x-3 text-left",children:[s.jsx("input",{type:"checkbox",id:"newsletter-consent",checked:i,onChange:z=>o(z.target.checked),className:"mt-1 rounded border-[var(--nocturne-champagne)] text-[var(--nocturne-champagne)] focus:ring-[var(--nocturne-champagne)] bg-transparent transition-all duration-300",required:!0}),s.jsxs("label",{htmlFor:"newsletter-consent",className:"text-caption text-[var(--nocturne-champagne)] leading-relaxed",children:["I agree to receive artisanal updates from Nocturne Atelier. Unsubscribe anytime. By subscribing, I agree to the"," ",s.jsx(V,{to:"/privacy",className:"text-[var(--nocturne-porcelain)] hover:text-[var(--nocturne-champagne)] underline transition-colors duration-300",children:"Privacy Policy"})," ","and"," ",s.jsx(V,{to:"/terms",className:"text-[var(--nocturne-porcelain)] hover:text-[var(--nocturne-champagne)] underline transition-colors duration-300",children:"Terms of Service"}),"."]})]})]}),s.jsxs("div",{className:"mt-12 grid grid-cols-1 sm:grid-cols-3 gap-6 text-caption text-[var(--nocturne-champagne)]",children:[s.jsxs("div",{className:"flex flex-col items-center p-4 bg-[var(--nocturne-porcelain)]/5 rounded-[var(--radius-lg)] backdrop-blur-sm border border-[var(--nocturne-porcelain)]/10 hover:bg-[var(--nocturne-porcelain)]/10 transition-all duration-300 group",children:[s.jsx("div",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform duration-300",children:""}),s.jsx("span",{className:"text-[var(--nocturne-porcelain)] font-[var(--font-weight-semibold)]",children:"First Access"}),s.jsx("span",{className:"text-xs mt-1",children:"New releases"})]}),s.jsxs("div",{className:"flex flex-col items-center p-4 bg-[var(--nocturne-porcelain)]/5 rounded-[var(--radius-lg)] backdrop-blur-sm border border-[var(--nocturne-porcelain)]/10 hover:bg-[var(--nocturne-porcelain)]/10 transition-all duration-300 group",children:[s.jsx("div",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform duration-300",children:""}),s.jsx("span",{className:"text-[var(--nocturne-porcelain)] font-[var(--font-weight-semibold)]",children:"Exclusive Pricing"}),s.jsx("span",{className:"text-xs mt-1",children:"Member discounts"})]}),s.jsxs("div",{className:"flex flex-col items-center p-4 bg-[var(--nocturne-porcelain)]/5 rounded-[var(--radius-lg)] backdrop-blur-sm border border-[var(--nocturne-porcelain)]/10 hover:bg-[var(--nocturne-porcelain)]/10 transition-all duration-300 group",children:[s.jsx("div",{className:"text-2xl mb-2 group-hover:scale-110 transition-transform duration-300",children:""}),s.jsx("span",{className:"text-[var(--nocturne-porcelain)] font-[var(--font-weight-semibold)]",children:"Fragrance Insights"}),s.jsx("span",{className:"text-xs mt-1",children:"Mastery tips"})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-caption text-[var(--nocturne-champagne)]/70",children:"Join 12,000+ fragrance enthusiasts worldwide"})})]})})]}),s.jsx("section",{className:"py-16 bg-[var(--color-bg-primary)] border-t border-[var(--color-border-primary)]",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] mb-12 text-center tracking-[var(--text-h2-spacing)]",children:"Our Commitments"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Vr,{variant:"secondary",className:"mb-4 text-lg px-4 py-2",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Cruelty-Free"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Never tested on animals, always ethical"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Vr,{variant:"secondary",className:"mb-4 text-lg px-4 py-2",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Free EU Shipping"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Complimentary shipping on orders over 120"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Vr,{variant:"secondary",className:"mb-4 text-lg px-4 py-2",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"Recyclable Packaging"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"Sustainable materials, minimal waste"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Vr,{variant:"secondary",className:"mb-4 text-lg px-4 py-2",children:""}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] text-[var(--color-fg-primary)] mb-2",children:"IFRA Compliant"}),s.jsx("p",{className:"text-caption text-[var(--color-fg-secondary)]",children:"International safety standards certified"})]})]})]})})]})},pC=()=>{var Z,G;const[e,t]=qs(),[r,n]=j.useState(!1),[a,i]=j.useState(1),o=q(N=>N.search_state.current_query),l=q(N=>N.search_state.active_filters),c=q(N=>N.search_state.sort_by),d=q(N=>N.update_search_query),u=q(N=>N.update_search_filters),m=q(N=>N.update_sort_option),h=q(N=>N.clear_search_filters);q(N=>N.add_to_cart);const v=q(N=>N.show_notification);j.useEffect(()=>{const N=Object.fromEntries(e.entries());N.query&&N.query!==o&&d(N.query),N.sort_by&&N.sort_by!==c&&m(N.sort_by);const F={price_min:N.price_min?Number(N.price_min):null,price_max:N.price_max?Number(N.price_max):null,brand_ids:N.brand_ids?N.brand_ids.split(","):[],fragrance_families:N.fragrance_families?N.fragrance_families.split(","):[],size_options:N.size_options?N.size_options.split(",").map(Number):[],occasion_tags:N.occasion_tags?N.occasion_tags.split(","):[],season_suitability:N.season_suitability?N.season_suitability.split(","):[],availability_status:N.availability_status?N.availability_status.split(","):[]};(F.price_min!==l.price_min||F.price_max!==l.price_max||JSON.stringify(F.brand_ids.sort())!==JSON.stringify(l.brand_ids.sort())||JSON.stringify(F.fragrance_families.sort())!==JSON.stringify(l.fragrance_families.sort())||JSON.stringify(F.size_options.sort())!==JSON.stringify(l.size_options.sort())||JSON.stringify(F.occasion_tags.sort())!==JSON.stringify(l.occasion_tags.sort())||JSON.stringify(F.season_suitability.sort())!==JSON.stringify(l.season_suitability.sort())||JSON.stringify(F.availability_status.sort())!==JSON.stringify(l.availability_status.sort()))&&u(F);const k=N.page?Number(N.page):1;k!==a&&i(k)},[e]),j.useEffect(()=>{const N=new URLSearchParams;o&&N.set("query",o),c!=="best_selling"&&N.set("sort_by",c),a>1&&N.set("page",a.toString()),l.price_min!==null&&N.set("price_min",l.price_min.toString()),l.price_max!==null&&N.set("price_max",l.price_max.toString()),l.brand_ids.length>0&&N.set("brand_ids",l.brand_ids.join(",")),l.fragrance_families.length>0&&N.set("fragrance_families",l.fragrance_families.join(",")),l.size_options.length>0&&N.set("size_options",l.size_options.join(",")),l.occasion_tags.length>0&&N.set("occasion_tags",l.occasion_tags.join(",")),l.season_suitability.length>0&&N.set("season_suitability",l.season_suitability.join(",")),l.availability_status.length>0&&N.set("availability_status",l.availability_status.join(","));const F=e.toString(),I=N.toString();F!==I&&t(N,{replace:!0})},[o,l,c,a]);const g=j.useMemo(()=>JSON.stringify(l),[l]),b=ce({queryKey:["products",o,g,c,a],queryFn:async()=>{const N={page:a,per_page:24,sort_by:c};return o&&(N.query=o),l.price_min!==null&&(N.price_min=l.price_min),l.price_max!==null&&(N.price_max=l.price_max),l.brand_ids.length>0&&(N.brand_ids=l.brand_ids.join(",")),l.fragrance_families.length>0&&(N.fragrance_families=l.fragrance_families.join(",")),l.size_options.length>0&&(N.size_options=l.size_options.join(",")),l.occasion_tags.length>0&&(N.occasion_tags=l.occasion_tags.join(",")),l.season_suitability.length>0&&(N.season_suitability=l.season_suitability.join(",")),l.availability_status.length>0&&(N.availability_status=l.availability_status.join(",")),(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/products",{params:N})).data},staleTime:0,gcTime:5*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0}),f=ce({queryKey:["brands"],queryFn:async()=>(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/brands",{params:{is_active:!0,sort_by:"brand_name"}})).data,staleTime:3e5}),p=[{value:"fresh",label:"Fresh & Citrus",color:"bg-transparent text-[#F5F5F0]/60"},{value:"floral",label:"Floral",color:"bg-transparent text-[#F5F5F0]/60"},{value:"oriental",label:"Oriental & Spicy",color:"bg-transparent text-[#F5F5F0]/60"},{value:"woody",label:"Woody",color:"bg-transparent text-[#F5F5F0]/60"},{value:"aquatic",label:"Aquatic",color:"bg-transparent text-[#F5F5F0]/60"},{value:"gourmand",label:"Gourmand",color:"bg-transparent text-[#F5F5F0]/60"}],y=["Day","Evening","Office","Date Night","Special Events","Casual","Formal","Sport"],x=[{value:"spring",label:"Spring",icon:""},{value:"summer",label:"Summer",icon:""},{value:"fall",label:"Fall",icon:""},{value:"winter",label:"Winter",icon:""}],_=[30,50,75,100,125,200],w=[{value:"best_selling",label:"Best Selling"},{value:"product_name",label:"Name A-Z"},{value:"base_price",label:"Price: Low to High"},{value:"base_price_desc",label:"Price: High to Low"},{value:"created_at",label:"Newest First"}],S=(N,F)=>{const I={...l};if(N==="price_min"||N==="price_max")I[N]=F||null;else if(Array.isArray(I[N])){const k=I[N];k.includes(F)?I[N]=k.filter(B=>B!==F):I[N]=[...k,F]}u(I),i(1)},P=(N,F)=>{const I={...l};N==="price_min"||N==="price_max"?I[N]=null:Array.isArray(I[N])&&F!==void 0&&(I[N]=I[N].filter(k=>k!==F)),u(I)},C=()=>{h(),i(1)},R=N=>{m(N),i(1)},$=j.useMemo(()=>{let N=0;return(l.price_min||l.price_max)&&N++,N+=l.brand_ids.length,N+=l.fragrance_families.length,N+=l.size_options.length,N+=l.occasion_tags.length,N+=l.season_suitability.length,N+=l.availability_status.length,N},[l]),Y=((Z=b.data)==null?void 0:Z.data)||[],O=(G=b.data)==null?void 0:G.pagination,D=f.data||[];return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-[#1A1A1A] min-h-screen",children:[s.jsx("div",{className:"bg-[#1A1A1A] border-b border-gray-800",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-serif text-[#F5F5F0]",style:{fontFamily:"Playfair Display, serif"},children:"Luxury Fragrances"}),s.jsx("p",{className:"mt-2 text-sm text-[#F5F5F0]/70",children:"Discover our curated collection of premium fragrances"})]}),s.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm text-[#F5F5F0]/60",children:b.isLoading?"Loading...":O?`${O.total} product${O.total!==1?"s":""}`:"0 products"}),s.jsx("select",{value:c,onChange:N=>R(N.target.value),className:"bg-[#2D2D2D] border border-gray-700 rounded-md px-3 py-2 text-sm text-[#F5F5F0] focus:outline-none focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",children:w.map(N=>s.jsx("option",{value:N.value,className:"bg-[#2D2D2D]",children:N.label},N.value))}),s.jsxs("button",{onClick:()=>n(!r),className:"md:hidden inline-flex items-center px-4 py-2 border border-gray-700 rounded-md shadow-sm text-sm font-medium text-[#F5F5F0] bg-[#2D2D2D] hover:bg-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#D4AF37] focus:ring-offset-2 focus:ring-offset-[#1A1A1A]",children:["Filters",$>0&&s.jsx("span",{className:"ml-2 bg-[#D4AF37] text-[#1A1A1A] text-xs rounded-full px-2 py-1 font-semibold",children:$})]})]})]}),$>0&&s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-[#F5F5F0]",children:"Active filters:"}),(l.price_min||l.price_max)&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm border border-[#D4AF37] bg-transparent text-[#D4AF37]",children:["$",l.price_min||0," - $",l.price_max||"500+",s.jsx("button",{onClick:()=>{P("price_min"),P("price_max")},className:"ml-2 text-[#D4AF37] hover:text-[#E5C158]",children:""})]}),l.brand_ids.map(N=>{const F=D.find(I=>I.brand_id===N);return F?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm border border-gray-600 bg-transparent text-[#F5F5F0]",children:[F.brand_name,s.jsx("button",{onClick:()=>P("brand_ids",N),className:"ml-2 text-[#F5F5F0] hover:text-[#D4AF37]",children:""})]},N):null}),l.fragrance_families.map(N=>{const F=p.find(I=>I.value===N);return F?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm border border-gray-600 bg-transparent text-[#F5F5F0]/70",children:[F.label,s.jsx("button",{onClick:()=>P("fragrance_families",N),className:"ml-2 hover:text-[#D4AF37]",children:""})]},N):null}),s.jsx("button",{onClick:C,className:"text-sm text-[#D4AF37] hover:text-[#E5C158] font-medium",children:"Clear all"})]})})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsxs("div",{className:"bg-[#1A1A1A] border border-gray-800 rounded-lg p-6 sticky top-8",children:[s.jsx("h3",{className:"text-lg font-serif text-[#F5F5F0] mb-4",style:{fontFamily:"Playfair Display, serif"},children:"Filters"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Price Range"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",placeholder:"Min",value:l.price_min||"",onChange:N=>S("price_min",N.target.value?Number(N.target.value):null),className:"bg-[#2D2D2D] border border-gray-700 rounded-md px-3 py-2 text-sm text-[#F5F5F0] placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D4AF37]"}),s.jsx("input",{type:"number",placeholder:"Max",value:l.price_max||"",onChange:N=>S("price_max",N.target.value?Number(N.target.value):null),className:"bg-[#2D2D2D] border border-gray-700 rounded-md px-3 py-2 text-sm text-[#F5F5F0] placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D4AF37]"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Brands"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:D.map(N=>s.jsxs("label",{className:"flex items-center cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:l.brand_ids.includes(N.brand_id),onChange:()=>S("brand_ids",N.brand_id),className:"h-4 w-4 bg-[#2D2D2D] border-gray-700 rounded text-[#D4AF37] focus:ring-[#D4AF37] focus:ring-offset-[#1A1A1A]",style:{accentColor:"#D4AF37"}}),s.jsx("span",{className:"ml-2 text-sm text-[#F5F5F0]/80 group-hover:text-[#F5F5F0]",children:N.brand_name})]},N.brand_id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Fragrance Families"}),s.jsx("div",{className:"space-y-2",children:p.map(N=>s.jsxs("label",{className:"flex items-center cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:l.fragrance_families.includes(N.value),onChange:()=>S("fragrance_families",N.value),className:"h-4 w-4 bg-[#2D2D2D] border-gray-700 rounded text-[#D4AF37] focus:ring-[#D4AF37] focus:ring-offset-[#1A1A1A]",style:{accentColor:"#D4AF37"}}),s.jsx("span",{className:"ml-2 text-xs text-[#F5F5F0]/60 uppercase tracking-wider group-hover:text-[#F5F5F0]/80",children:N.label})]},N.value))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Size (ml)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(N=>s.jsxs("button",{onClick:()=>S("size_options",N),className:`px-3 py-1 rounded-md text-sm border transition-all ${l.size_options.includes(N)?"bg-[#D4AF37] text-[#1A1A1A] border-[#D4AF37] font-semibold":"bg-transparent text-[#F5F5F0]/70 border-gray-700 hover:border-[#D4AF37] hover:text-[#F5F5F0]"}`,children:[N,"ml"]},N))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Occasions"}),s.jsx("div",{className:"space-y-2",children:y.map(N=>s.jsxs("label",{className:"flex items-center cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:l.occasion_tags.includes(N),onChange:()=>S("occasion_tags",N),className:"h-4 w-4 bg-[#2D2D2D] border-gray-700 rounded text-[#D4AF37] focus:ring-[#D4AF37] focus:ring-offset-[#1A1A1A]",style:{accentColor:"#D4AF37"}}),s.jsx("span",{className:"ml-2 text-sm text-[#F5F5F0]/80 group-hover:text-[#F5F5F0]",children:N})]},N))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Seasons"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map(N=>s.jsxs("button",{onClick:()=>S("season_suitability",N.value),className:`flex items-center justify-center px-3 py-2 rounded-md text-sm border transition-all ${l.season_suitability.includes(N.value)?"bg-[#D4AF37] text-[#1A1A1A] border-[#D4AF37] font-semibold":"bg-transparent text-[#F5F5F0]/70 border-gray-700 hover:border-[#D4AF37] hover:text-[#F5F5F0]"}`,children:[s.jsx("span",{className:"mr-1",children:N.icon}),N.label]},N.value))})]})]})}),r&&s.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75",onClick:()=>n(!1)}),s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-[#1A1A1A] rounded-t-lg p-6 max-h-[80vh] overflow-y-auto border-t border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-serif text-[#F5F5F0]",style:{fontFamily:"Playfair Display, serif"},children:"Filters"}),s.jsxs("button",{onClick:()=>n(!1),className:"text-[#F5F5F0]/60 hover:text-[#F5F5F0]",children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Price Range"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",placeholder:"Min",value:l.price_min||"",onChange:N=>S("price_min",N.target.value?Number(N.target.value):null),className:"bg-[#2D2D2D] border border-gray-700 rounded-md px-3 py-2 text-sm text-[#F5F5F0] placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D4AF37]"}),s.jsx("input",{type:"number",placeholder:"Max",value:l.price_max||"",onChange:N=>S("price_max",N.target.value?Number(N.target.value):null),className:"bg-[#2D2D2D] border border-gray-700 rounded-md px-3 py-2 text-sm text-[#F5F5F0] placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#D4AF37]"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-serif font-medium text-[#F5F5F0] mb-3",style:{fontFamily:"Playfair Display, serif"},children:"Fragrance Families"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(N=>s.jsx("button",{onClick:()=>S("fragrance_families",N.value),className:`px-3 py-2 rounded-md text-sm border transition-all ${l.fragrance_families.includes(N.value)?"bg-[#D4AF37] text-[#1A1A1A] border-[#D4AF37] font-semibold":"bg-transparent text-[#F5F5F0]/70 border-gray-700"}`,children:N.label},N.value))})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-800",children:[s.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 border border-gray-700 rounded-md text-sm font-medium text-[#F5F5F0] bg-transparent hover:bg-[#2D2D2D]",children:"Clear All"}),s.jsx("button",{onClick:()=>n(!1),className:"flex-1 px-4 py-2 bg-[#D4AF37] border border-transparent rounded-md text-sm font-medium text-[#1A1A1A] hover:bg-[#E5C158]",children:"Apply Filters"})]})]})]})]}),s.jsx("div",{className:"lg:col-span-3",children:b.isLoading?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#D4AF37]"}),s.jsx("span",{className:"ml-3 text-[#F5F5F0]/70",children:"Loading products..."})]}):b.error?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-[#F5F5F0]/60",children:"Error loading products. Please try again."})}):Y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-[#F5F5F0]/60",children:"No products found matching your criteria."}),s.jsx("button",{onClick:C,className:"mt-4 text-[#D4AF37] hover:text-[#E5C158] font-medium",children:"Clear all filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Y.map((N,F)=>s.jsx(Tu,{delay:F*.05,children:s.jsxs(_S,{className:"bg-[#2D2D2D] rounded-lg border border-gray-800 overflow-hidden h-full",children:[s.jsxs("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg bg-[#1A1A1A]",children:[N.primary_image?s.jsx(Ie.img,{src:N.primary_image,alt:N.product_name,className:"w-full h-64 object-cover",variants:hS,initial:"initial",whileHover:"hover",onError:I=>{var k;I.currentTarget.style.display="none",(k=I.currentTarget.nextElementSibling)==null||k.classList.remove("hidden")}}):null,s.jsx("div",{className:`w-full h-64 bg-[#1A1A1A] flex items-center justify-center ${N.primary_image?"hidden":""}`,children:s.jsxs("div",{className:"text-center text-[#F5F5F0]/20",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-2 opacity-20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx("span",{className:"text-xs",children:N.product_name})]})}),s.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[N.is_new_arrival&&s.jsx("span",{className:"bg-transparent border border-[#D4AF37] text-[#D4AF37] text-xs px-3 py-1 rounded-full font-medium uppercase tracking-wide",children:"New"}),N.sale_price&&s.jsx("span",{className:"bg-transparent border border-red-400 text-red-400 text-xs px-3 py-1 rounded-full font-medium uppercase tracking-wide",children:"Sale"}),N.is_limited_edition&&s.jsx("span",{className:"bg-transparent border border-[#D4AF37] text-[#D4AF37] text-xs px-3 py-1 rounded-full font-medium uppercase tracking-wide",children:"Limited"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(V,{to:`/products/${N.product_id}`,className:"bg-transparent border-2 border-[#D4AF37] text-[#D4AF37] px-6 py-2 rounded-md font-medium hover:bg-[#D4AF37] hover:text-[#1A1A1A] transition-all duration-200 uppercase tracking-wider text-sm",children:"Quick View"})}),s.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx("button",{onClick:I=>{I.preventDefault(),v({type:"success",message:"Added to wishlist",auto_dismiss:!0,duration:3e3})},className:"p-2 bg-[#2D2D2D]/90 backdrop-blur-sm rounded-full hover:bg-[#D4AF37] hover:text-[#1A1A1A] transition-all duration-200","aria-label":"Add to wishlist",children:s.jsx("svg",{className:"h-5 w-5 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})})]}),s.jsxs(V,{to:`/products/${N.product_id}`,className:"block p-5 group/link",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx(Ie.h3,{className:"text-base font-serif text-[#F5F5F0] mb-1",style:{fontFamily:"Playfair Display, serif"},whileHover:{color:"#D4AF37"},transition:{duration:.3},children:N.product_name}),s.jsxs("p",{className:"text-xs text-[#F5F5F0]/50 uppercase tracking-wider",children:[N.concentration,"  ",N.gender_category]})]}),s.jsx("div",{className:"mb-3",children:N.sale_price?s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-lg font-medium text-[#D4AF37]",children:["$",Number(N.sale_price).toFixed(2)]}),s.jsxs("span",{className:"text-sm text-[#F5F5F0]/40 line-through",children:["$",Number(N.base_price).toFixed(2)]})]}):s.jsxs("span",{className:"text-lg font-medium text-[#D4AF37]",children:["$",Number(N.base_price).toFixed(2)]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:N.fragrance_families.split(",").slice(0,2).map((I,k)=>{const B=p.find(z=>z.value===I.trim());return B?s.jsxs("span",{className:"text-xs text-[#F5F5F0]/50 uppercase tracking-widest",children:[B.label.toUpperCase(),k<Math.min(N.fragrance_families.split(",").length-1,1)?" ":""]},I):null})}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-800",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex text-[#D4AF37]",children:[1,2,3,4,5].map(I=>s.jsx("svg",{className:"h-3 w-3 fill-current",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},I))}),s.jsx("span",{className:"ml-1 text-xs text-[#F5F5F0]/40",children:"(24)"})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full uppercase tracking-wide font-medium ${N.availability_status==="in_stock"?"bg-transparent border border-green-500/50 text-green-400":"bg-transparent border border-red-500/50 text-red-400"}`,children:N.availability_status==="in_stock"?"In Stock":"Out of Stock"})]})]})]})},N.product_id))}),O&&O.total_pages>1&&s.jsxs("div",{className:"mt-12 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-[#F5F5F0]/60",children:["Showing ",(O.page-1)*O.per_page+1," to"," ",Math.min(O.page*O.per_page,O.total)," of"," ",O.total," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{O.has_prev&&i(a-1)},disabled:!O.has_prev,className:"px-4 py-2 text-sm font-medium text-[#F5F5F0] bg-[#2D2D2D] border border-gray-700 rounded-md hover:border-[#D4AF37] hover:text-[#D4AF37] disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"Previous"}),Array.from({length:Math.min(O.total_pages,5)},(N,F)=>{const I=F+1;return s.jsx("button",{onClick:()=>i(I),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${a===I?"bg-[#D4AF37] text-[#1A1A1A] border border-[#D4AF37]":"text-[#F5F5F0] bg-[#2D2D2D] border border-gray-700 hover:border-[#D4AF37] hover:text-[#D4AF37]"}`,children:I},I)}),s.jsx("button",{onClick:()=>{O.has_next&&i(a+1)},disabled:!O.has_next,className:"px-4 py-2 text-sm font-medium text-[#F5F5F0] bg-[#2D2D2D] border border-gray-700 rounded-md hover:border-[#D4AF37] hover:text-[#D4AF37] disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"Next"})]})]}),O&&O.has_next&&s.jsx("div",{className:"mt-8 text-center",children:s.jsx("button",{onClick:()=>i(N=>N+1),className:"px-8 py-3 bg-transparent border-2 border-[#D4AF37] text-[#D4AF37] rounded-md hover:bg-[#D4AF37] hover:text-[#1A1A1A] transition-all duration-200 font-medium uppercase tracking-wider",children:"Load More Products"})})]})})]})})]})})};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...xC,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:s1("lucide",a),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=(e,t)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(gC,{ref:i,iconNode:t,className:s1(`lucide-${fC(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Zi("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Zi("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=Zi("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Zi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Zi("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),n1=({products:e,title:t="Complete Your Olfactory Ritual",onQuickAdd:r,className:n})=>{const a=j.useRef(null),[i,o]=j.useState(!1),[l,c]=j.useState(!0),d=f=>{const p=[];if(f.top_notes){const y=f.top_notes.split(",")[0].trim();y&&p.push(y)}if(f.middle_notes&&p.length<2){const y=f.middle_notes.split(",")[0].trim();y&&p.push(y)}if(f.base_notes&&p.length<2){const y=f.base_notes.split(",")[0].trim();y&&p.push(y)}return p.join("  ")},u=f=>{var y,x,_;const p=(y=f.images)==null?void 0:y.find(w=>w.is_primary);return(p==null?void 0:p.image_url)||((_=(x=f.images)==null?void 0:x[0])==null?void 0:_.image_url)||"/api/placeholder/400/400"},m=f=>!f.sizes||f.sizes.length===0?null:f.sizes.find(y=>y.size_ml===50&&y.stock_quantity>0)||f.sizes.find(y=>y.stock_quantity>0)||f.sizes[0],h=f=>{const p=m(f);return p?p.sale_price||p.price:f.sale_price||f.base_price},v=()=>{if(!a.current)return;const{scrollLeft:f,scrollWidth:p,clientWidth:y}=a.current;o(f>0),c(f<p-y-10)},g=f=>{if(!a.current)return;const p=a.current.clientWidth*.8,y=f==="left"?a.current.scrollLeft-p:a.current.scrollLeft+p;a.current.scrollTo({left:y,behavior:"smooth"}),setTimeout(v,300)},b=(f,p)=>{f.preventDefault(),f.stopPropagation();const y=m(p);y&&r&&r(p.product_id,y.size_id)};return ut.useEffect(()=>{v();const f=a.current;if(f)return f.addEventListener("scroll",v),window.addEventListener("resize",v),()=>{f.removeEventListener("scroll",v),window.removeEventListener("resize",v)}},[e]),!e||e.length===0?null:s.jsxs("section",{className:je("w-full py-16 md:py-20 lg:py-24","bg-[var(--nocturne-onyx)]",n),children:[s.jsxs("div",{className:"nocturne-container",children:[s.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[s.jsx("h2",{className:je("text-h2","text-[var(--nocturne-porcelain)]","mb-4"),children:t}),s.jsx("div",{className:"w-24 h-px bg-[var(--nocturne-champagne)] mx-auto",style:{opacity:.6}})]}),s.jsxs("div",{className:"relative",children:[i&&s.jsx("button",{onClick:()=>g("left"),className:je("absolute left-0 top-1/2 -translate-y-1/2 z-10","w-10 h-10 flex items-center justify-center","bg-[var(--nocturne-onyx)]/80 backdrop-blur-sm","border border-[var(--nocturne-champagne)]","rounded-full","transition-all duration-normal","hover:bg-[var(--nocturne-champagne)] hover:border-[var(--nocturne-champagne)]","group","-ml-5"),"aria-label":"Scroll left",children:s.jsx(yC,{className:"w-5 h-5 text-[var(--nocturne-champagne)] group-hover:text-[var(--nocturne-onyx)] transition-colors"})}),l&&s.jsx("button",{onClick:()=>g("right"),className:je("absolute right-0 top-1/2 -translate-y-1/2 z-10","w-10 h-10 flex items-center justify-center","bg-[var(--nocturne-onyx)]/80 backdrop-blur-sm","border border-[var(--nocturne-champagne)]","rounded-full","transition-all duration-normal","hover:bg-[var(--nocturne-champagne)] hover:border-[var(--nocturne-champagne)]","group","-mr-5"),"aria-label":"Scroll right",children:s.jsx(vC,{className:"w-5 h-5 text-[var(--nocturne-champagne)] group-hover:text-[var(--nocturne-onyx)] transition-colors"})}),s.jsx("div",{ref:a,className:je("flex gap-6 overflow-x-auto","scrollbar-hide","pb-4 -mb-4"),style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:e.map(f=>{const p=m(f),y=h(f),x=d(f);return s.jsx(V,{to:`/products/${f.product_id}`,className:"flex-shrink-0 w-[280px] md:w-[300px] group",children:s.jsxs("div",{className:je("relative","bg-[var(--nocturne-slate)]","rounded-lg overflow-hidden","transition-all duration-normal","hover:-translate-y-2","shadow-[0_4px_12px_rgba(0,0,0,0.3)]","hover:shadow-[0_8px_24px_rgba(0,0,0,0.5)]"),children:[s.jsxs("div",{className:"relative overflow-hidden bg-[var(--nocturne-slate)]",children:[s.jsx("div",{className:je("transition-transform duration-slow","group-hover:scale-105"),children:s.jsx(rt,{src:u(f),alt:f.product_name,productName:f.product_name,category:f.fragrance_families,aspectRatio:"3:4",objectFit:"cover"})}),s.jsx("div",{className:je("absolute inset-x-0 bottom-0 p-4","transition-all duration-normal","opacity-0 translate-y-2","group-hover:opacity-100 group-hover:translate-y-0"),children:p&&p.stock_quantity>0&&r&&s.jsxs("button",{onClick:_=>b(_,f),className:je("w-full py-2.5 px-4","bg-transparent","border border-[var(--nocturne-champagne)]","text-[var(--nocturne-champagne)]","font-[var(--font-body)]","text-sm font-medium","rounded-md","transition-all duration-[var(--duration-fast)]","hover:bg-[var(--nocturne-champagne)]","hover:text-[var(--nocturne-onyx)]","flex items-center justify-center gap-2"),children:[s.jsx(r1,{className:"w-4 h-4"}),"Quick Add"]})})]}),s.jsxs("div",{className:"p-5",children:[f.brand_name&&s.jsx("p",{className:"text-caption text-[var(--color-fg-muted)] uppercase mb-2",children:f.brand_name}),s.jsx("h3",{className:je("font-[var(--font-heading)]","text-lg","text-[var(--nocturne-porcelain)]","mb-2","line-clamp-2","min-h-[3.5rem]"),children:f.product_name}),x&&s.jsx("p",{className:je("text-caption","text-[var(--color-fg-muted)]","mb-3","line-clamp-1"),children:x}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:je("font-[var(--font-body)]","text-base font-medium","text-[var(--nocturne-champagne)]"),children:["",y.toFixed(2)]}),p&&s.jsxs("p",{className:"text-caption text-[var(--color-fg-muted)]",children:[p.size_ml,"ml"]})]})]})]})},f.product_id)})})]})]}),s.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `})]})},wC=()=>{var eo,kh,Sh;const{product_id:e}=Mm(),t=bs(),[r,n]=j.useState(null),[a,i]=j.useState(1),[o,l]=j.useState("description"),[c,d]=j.useState(0),[u,m]=j.useState(!1),[h,v]=j.useState(!1),[g,b]=j.useState(!1),[f,p]=j.useState({rating:5,title:"",review_text:"",longevity_rating:5,sillage_rating:5}),[y,x]=j.useState(!1),[_,w]=j.useState(null),[S,P]=j.useState(!1),C=q(K=>K.authentication_state.authentication_status.is_authenticated),R=q(K=>K.authentication_state.current_user),$=q(K=>K.add_to_cart),Y=q(K=>K.show_notification),O=async K=>(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/products/${K}`)).data,D=async K=>(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/products/${K}/sizes`)).data,Z=async K=>{var We;return((We=(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/reviews",{params:{product_id:K,moderation_status:"approved",per_page:20}})).data)==null?void 0:We.data)||[]},G=async K=>(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/products/${K}/recommendations`,{params:{type:"similar",limit:8}})).data||[],N=async K=>(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/brands/${K}`)).data,{data:F,isLoading:I,error:k}=ce({queryKey:["product",e],queryFn:()=>O(e),enabled:!!e,select:K=>({...K,base_price:Number(K.base_price||0),sale_price:K.sale_price?Number(K.sale_price):null,longevity_hours:K.longevity_hours?Number(K.longevity_hours):null,sillage_rating:K.sillage_rating?Number(K.sillage_rating):null}),staleTime:6e4,refetchOnWindowFocus:!1}),{data:B}=ce({queryKey:["brand",F==null?void 0:F.brand_id],queryFn:()=>N(F.brand_id),enabled:!!(F!=null&&F.brand_id),staleTime:3e5,refetchOnWindowFocus:!1}),{data:z=[]}=ce({queryKey:["wishlists",R==null?void 0:R.user_id],queryFn:async()=>(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/wishlists",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${q.getState().authentication_state.auth_token}`}})).data,enabled:C&&!!R,staleTime:6e4,refetchOnWindowFocus:!1}),{data:L=[],isLoading:J}=ce({queryKey:["productSizes",e],queryFn:()=>D(e),enabled:!!e,select:K=>K.map(oe=>({...oe,price:Number(oe.price||0),sale_price:oe.sale_price?Number(oe.sale_price):null,sample_price:oe.sample_price?Number(oe.sample_price):null})),staleTime:6e4,refetchOnWindowFocus:!1}),A=(F==null?void 0:F.images)||[],{data:H=[]}=ce({queryKey:["productReviews",e],queryFn:()=>Z(e),enabled:!!e,staleTime:6e4,refetchOnWindowFocus:!1}),{data:ae=[]}=ce({queryKey:["productRecommendations",e],queryFn:()=>G(e),enabled:!!e,select:K=>K.map(oe=>({...oe,base_price:Number(oe.base_price||0),sale_price:oe.sale_price?Number(oe.sale_price):null})),staleTime:3e5,refetchOnWindowFocus:!1}),[ye,De]=j.useState(!1),Qe=q(K=>K.toggle_cart_dropdown),X=ve({mutationFn:async()=>{if(!F||!r)throw new Error("Product or size not selected");await $({product_id:F.product_id,product_name:F.product_name,brand_name:(B==null?void 0:B.brand_name)||"Unknown Brand",size_ml:r.size_ml,quantity:a,unit_price:r.sale_price||r.price,gift_wrap:h,sample_included:g})},onSuccess:()=>{De(!0),setTimeout(()=>De(!1),2e3),setTimeout(()=>{Qe()},800),Y({type:"success",message:"Added to cart successfully!",auto_dismiss:!0,duration:3e3})},onError:K=>{Y({type:"error",message:K.message||"Failed to add to cart",auto_dismiss:!0,duration:5e3})}}),E=ve({mutationFn:async K=>{if(!C||!F)throw new Error("Authentication required");return(await ee.post(`https://123luxury-fragrance-brand.launchpulse.ai/api/wishlists/${K}/items`,{product_id:F.product_id,size_ml:(r==null?void 0:r.size_ml)||null,notes:null},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${q.getState().authentication_state.auth_token}`}})).data},onSuccess:()=>{t.invalidateQueries({queryKey:["wishlists"]}),P(!1),Y({type:"success",message:"Added to wishlist!",auto_dismiss:!0,duration:3e3})},onError:K=>{var oe,We;Y({type:"error",message:((We=(oe=K.response)==null?void 0:oe.data)==null?void 0:We.message)||"Failed to add to wishlist",auto_dismiss:!0,duration:5e3})}}),te=ve({mutationFn:async()=>{if(!C||!F)throw new Error("Authentication required");return(await ee.post("https://123luxury-fragrance-brand.launchpulse.ai/api/reviews",{product_id:F.product_id,rating:f.rating,title:f.title||null,review_text:f.review_text||null,longevity_rating:f.longevity_rating,sillage_rating:f.sillage_rating},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${q.getState().authentication_state.auth_token}`}})).data},onSuccess:()=>{Y({type:"success",message:"Review submitted successfully!",auto_dismiss:!0,duration:3e3}),x(!1),p({rating:5,title:"",review_text:"",longevity_rating:5,sillage_rating:5}),t.invalidateQueries({queryKey:["productReviews",e]})},onError:K=>{var oe,We;Y({type:"error",message:((We=(oe=K.response)==null?void 0:oe.data)==null?void 0:We.message)||"Failed to submit review",auto_dismiss:!0,duration:5e3})}});ut.useEffect(()=>{L.length>0&&!r&&n(L[0])},[L,r]);const ne=j.useMemo(()=>H.length===0?0:H.reduce((oe,We)=>oe+We.rating,0)/H.length,[H]),Q=r?r.sale_price||r.price:0,M=r!=null&&r.sale_price?r.price:null,U=!!M&&M>Q,_e=()=>{if(!r){Y({type:"error",message:"Please select a size",auto_dismiss:!0,duration:3e3});return}X.mutate()},$e=()=>{if(!C){Y({type:"info",message:"Please sign in to add to wishlist",auto_dismiss:!0,duration:3e3});return}if(z.length>0){if(P(!0),!_){const K=z.find(oe=>oe.is_default)||z[0];w(K.wishlist_id)}}else Y({type:"info",message:"Please create a wishlist first",auto_dismiss:!0,duration:3e3})},ka=()=>{_&&E.mutate(_)},ht=K=>{if(K.preventDefault(),!C){Y({type:"info",message:"Please sign in to submit a review",auto_dismiss:!0,duration:3e3});return}te.mutate()},wt=(K,oe="w-4 h-4")=>s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(We=>s.jsx("svg",{className:`${oe} ${We<=K?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},We))});return e?I?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):k||!F?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The product you're looking for doesn't exist."}),s.jsx(V,{to:"/products",className:"text-purple-600 hover:text-purple-500",children:"Browse All Products"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(V,{to:"/",className:"hover:text-purple-600",children:"Home"}),s.jsx("span",{children:"/"}),s.jsx(V,{to:"/products",className:"hover:text-purple-600",children:"Products"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-gray-900",children:F.product_name})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:[s.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-x-8 lg:items-start",children:[s.jsxs("div",{className:"flex flex-col-reverse",children:[A.length>1&&s.jsx("div",{className:"hidden mt-6 w-full max-w-2xl mx-auto sm:block lg:max-w-none",children:s.jsx("div",{className:"grid grid-cols-4 gap-6",children:A.map((K,oe)=>s.jsxs("button",{className:`relative h-24 bg-white rounded-md flex items-center justify-center text-sm font-medium uppercase text-gray-900 cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring focus:ring-offset-4 focus:ring-purple-500 ${oe===c?"ring-2 ring-purple-500":""}`,onClick:()=>d(oe),children:[s.jsx("span",{className:"sr-only",children:K.alt_text}),s.jsx("span",{className:"absolute inset-0 rounded-md overflow-hidden",children:s.jsx(rt,{src:K.image_url,alt:K.alt_text||"",productName:F.product_name,category:F.fragrance_families,aspectRatio:"square",objectFit:"cover"})})]},K.image_id))})}),s.jsx("div",{className:"w-full",children:s.jsx(rt,{src:(eo=A[c])==null?void 0:eo.image_url,alt:((kh=A[c])==null?void 0:kh.alt_text)||F.product_name,productName:F.product_name,category:F.fragrance_families,aspectRatio:"3:4",objectFit:"cover",className:"sm:rounded-lg"})})]}),s.jsxs("div",{className:"mt-10 px-4 sm:px-0 sm:mt-16 lg:mt-0",children:[s.jsxs("div",{className:"mb-6",children:[B&&s.jsx("h1",{className:"text-lg font-medium text-gray-600 mb-2",children:B.brand_name}),s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:F.product_name}),F.short_description&&s.jsx("p",{className:"mt-4 text-lg text-gray-600",children:F.short_description})]}),s.jsxs("div",{className:"flex items-center mb-6",children:[wt(Math.round(ne),"w-5 h-5"),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[ne.toFixed(1)," (",H.length," reviews)"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",Q.toFixed(2)]}),U&&M&&s.jsxs("p",{className:"text-xl text-gray-500 line-through",children:["$",M.toFixed(2)]}),U&&s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Sale"})]}),r&&s.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["$",(Q/r.size_ml).toFixed(2)," per ml"]})]}),!J&&L.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Size"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:L.map(K=>s.jsxs("button",{onClick:()=>n(K),className:`relative border rounded-lg px-4 py-3 flex flex-col items-center text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 ${(r==null?void 0:r.size_id)===K.size_id?"border-purple-500 ring-2 ring-purple-500":"border-gray-300"}`,children:[s.jsxs("span",{className:"text-lg font-bold",children:[K.size_ml,"ml"]}),s.jsxs("span",{className:"text-gray-600",children:["$",(K.sale_price||K.price).toFixed(2)]}),K.stock_quantity<=K.low_stock_threshold&&s.jsx("span",{className:"text-xs text-red-600 mt-1",children:"Low Stock"})]},K.size_id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-900 mb-2",children:"Quantity"}),s.jsx("select",{id:"quantity",value:a,onChange:K=>i(Number(K.target.value)),className:"block w-20 border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",children:[...Array(10)].map((K,oe)=>s.jsx("option",{value:oe+1,children:oe+1},oe+1))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>m(!u),className:"flex items-center text-sm font-medium text-purple-600 hover:text-purple-500",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Gift Options"]}),u&&s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"gift-wrap",type:"checkbox",checked:h,onChange:K=>v(K.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"gift-wrap",className:"ml-2 text-sm text-gray-700",children:"Gift wrap (+$5.00)"})]}),(r==null?void 0:r.is_sample_available)&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"sample-included",type:"checkbox",checked:g,onChange:K=>b(K.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsxs("label",{htmlFor:"sample-included",className:"ml-2 text-sm text-gray-700",children:["Include sample (+$",((Sh=r.sample_price)==null?void 0:Sh.toFixed(2))||"0.00",")"]})]})]})]}),s.jsxs("div",{className:"flex space-x-4 mb-8",children:[s.jsx(mr,{onClick:_e,disabled:X.isPending||!r,className:"flex-1 py-3 px-8 flex items-center justify-center text-base font-medium",size:"lg",variant:"primary",magnetic:!0,children:s.jsx(dn,{mode:"wait",children:X.isPending?s.jsxs(Ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding..."]},"loading"):ye?s.jsxs(Ie.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"flex items-center text-[#D4AF37]",children:[s.jsx(SS,{size:20,className:"mr-2"}),"Added!"]},"success"):s.jsx(Ie.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:"Add to Cart"},"default")})}),s.jsx("button",{onClick:$e,disabled:E.isPending,className:"flex-shrink-0 bg-white border border-gray-300 rounded-md py-3 px-4 flex items-center justify-center text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${F.availability_status==="in_stock"?"bg-green-400":"bg-red-400"}`}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.availability_status==="in_stock"?"In Stock":"Out of Stock"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Free shipping on orders over $75. Ships within 1-2 business days."})]})]})]}),B&&B.heritage_story&&s.jsx("div",{className:"mt-16 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-8",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[B.logo_url&&s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(rt,{src:B.logo_url,alt:`${B.brand_name} logo`,productName:B.brand_name,aspectRatio:"auto",objectFit:"contain",className:"w-full h-auto max-w-[250px]"})}),s.jsxs("div",{className:B.logo_url?"md:col-span-2":"md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["About ",B.brand_name]}),B.is_niche_brand&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Niche Brand"})]}),B.country_origin&&s.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[s.jsx("span",{className:"font-semibold",children:"Origin:"})," ",B.country_origin]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:B.heritage_story}),B.description&&s.jsx("p",{className:"text-gray-600 leading-relaxed italic",children:B.description}),s.jsxs(V,{to:`/brands/${B.brand_id}`,className:"inline-flex items-center mt-4 text-purple-600 hover:text-purple-700 font-medium text-sm",children:["View all ",B.brand_name," products",s.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),s.jsxs("div",{className:"mt-16",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Fragrance Profile"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[F.top_notes&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-b from-yellow-400 to-yellow-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"TOP"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Top Notes"}),s.jsx("p",{className:"text-sm text-gray-600",children:F.top_notes}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0-15 minutes"})]}),F.middle_notes&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-b from-pink-400 to-pink-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"MID"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Middle Notes"}),s.jsx("p",{className:"text-sm text-gray-600",children:F.middle_notes}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"15 minutes - 3 hours"})]}),F.base_notes&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-b from-purple-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"BASE"})}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Base Notes"}),s.jsx("p",{className:"text-sm text-gray-600",children:F.base_notes}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3+ hours"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[F.longevity_hours&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Longevity"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${F.longevity_hours/24*100}%`}})}),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[F.longevity_hours,"h"]})]})]}),F.sillage_rating&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Sillage"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${F.sillage_rating/10*100}%`}})}),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[F.sillage_rating,"/10"]})]})]}),F.intensity_level&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Intensity"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:F.intensity_level})]})]})]}),s.jsxs("div",{className:"mt-16",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"description",label:"Description"},{id:"ingredients",label:"Ingredients"},{id:"care",label:"Care & Storage"},{id:"shipping",label:"Shipping & Returns"}].map(K=>s.jsx("button",{onClick:()=>l(K.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${o===K.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:K.label},K.id))})}),s.jsxs("div",{className:"py-8",children:[o==="description"&&s.jsxs("div",{className:"prose max-w-none",children:[F.description?s.jsx("p",{className:"text-gray-600 leading-relaxed",children:F.description}):s.jsx("p",{className:"text-gray-600",children:"No description available."}),F.fragrance_families&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Fragrance Family"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:F.fragrance_families.split(",").map((K,oe)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:K.trim()},oe))})]}),(F.occasion_tags||F.season_suitability)&&s.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[F.occasion_tags&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Perfect For"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:F.occasion_tags.split(",").map((K,oe)=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800",children:K.trim()},oe))})]}),F.season_suitability&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Best Seasons"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:F.season_suitability.split(",").map((K,oe)=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:K.trim()},oe))})]})]})]}),o==="ingredients"&&s.jsxs("div",{children:[F.ingredients_list?s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Complete Ingredients List"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:F.ingredients_list})]}):s.jsx("p",{className:"text-gray-600",children:"Ingredients information not available."}),F.complete_notes_list&&s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Complete Notes"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:F.complete_notes_list})]})]}),o==="care"&&s.jsx("div",{children:F.care_instructions?s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Care Instructions"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:F.care_instructions})]}):s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"General Care Guidelines"}),s.jsxs("ul",{className:"text-gray-600 space-y-2",children:[s.jsx("li",{children:" Store in a cool, dry place away from direct sunlight"}),s.jsx("li",{children:" Keep bottle upright and tightly closed when not in use"}),s.jsx("li",{children:" Avoid extreme temperature changes"}),s.jsx("li",{children:" Apply to pulse points for best projection"})]})]})}),o==="shipping"&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Shipping Information"}),s.jsxs("ul",{className:"text-gray-600 space-y-2 mb-6",children:[s.jsx("li",{children:" Free shipping on orders over $75"}),s.jsx("li",{children:" Standard shipping: 3-5 business days"}),s.jsx("li",{children:" Express shipping: 1-2 business days (additional cost)"}),s.jsx("li",{children:" Same-day delivery available in select cities"})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Returns Policy"}),s.jsxs("ul",{className:"text-gray-600 space-y-2",children:[s.jsx("li",{children:" 30-day return policy for unopened items"}),s.jsx("li",{children:" 100% authenticity guarantee"}),s.jsx("li",{children:" Free returns with prepaid label"}),s.jsx("li",{children:" Refund processed within 5-7 business days"})]})]})]})]}),s.jsxs("div",{className:"mt-16",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Customer Reviews"}),C&&s.jsx("button",{onClick:()=>x(!y),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Write a Review"})]}),H.length>0&&s.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-gray-900 mr-4",children:ne.toFixed(1)}),s.jsxs("div",{children:[wt(Math.round(ne),"w-6 h-6"),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Based on ",H.length," reviews"]})]})]}),s.jsx("div",{className:"hidden md:block",children:[5,4,3,2,1].map(K=>{const oe=H.filter(gn=>gn.rating===K).length,We=H.length>0?oe/H.length*100:0;return s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsxs("span",{className:"w-8",children:[K,""]}),s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mx-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${We}%`}})}),s.jsx("span",{className:"w-8 text-gray-600",children:oe})]},K)})})]})}),y&&C&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Write Your Review"}),s.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Rating"}),s.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(K=>s.jsx("button",{type:"button",onClick:()=>p(oe=>({...oe,rating:K})),className:`w-8 h-8 ${K<=f.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`,children:""},K))})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longevity (1-10)"}),s.jsx("input",{type:"range",min:"1",max:"10",value:f.longevity_rating,onChange:K=>p(oe=>({...oe,longevity_rating:Number(K.target.value)})),className:"w-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[f.longevity_rating,"/10"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sillage (1-10)"}),s.jsx("input",{type:"range",min:"1",max:"10",value:f.sillage_rating,onChange:K=>p(oe=>({...oe,sillage_rating:Number(K.target.value)})),className:"w-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[f.sillage_rating,"/10"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"review-title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title (Optional)"}),s.jsx("input",{type:"text",id:"review-title",value:f.title,onChange:K=>p(oe=>({...oe,title:K.target.value})),className:"w-full border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Summarize your experience"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"review-text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review (Optional)"}),s.jsx("textarea",{id:"review-text",rows:4,value:f.review_text,onChange:K=>p(oe=>({...oe,review_text:K.target.value})),className:"w-full border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Share your thoughts about this fragrance"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"submit",disabled:te.isPending,className:"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50",children:te.isPending?"Submitting...":"Submit Review"}),s.jsx("button",{type:"button",onClick:()=>x(!1),className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-md hover:bg-gray-400",children:"Cancel"})]})]})]}),s.jsx("div",{className:"space-y-6",children:H.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product!"})}):H.map(K=>s.jsx("div",{className:"border-b border-gray-200 pb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2",children:[wt(K.rating),K.is_verified_purchase&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Verified Purchase"})]}),K.title&&s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:K.title}),K.review_text&&s.jsx("p",{className:"text-gray-600 mb-3",children:K.review_text}),(K.longevity_rating||K.sillage_rating)&&s.jsxs("div",{className:"flex space-x-6 text-sm text-gray-600 mb-3",children:[K.longevity_rating&&s.jsxs("span",{children:["Longevity: ",K.longevity_rating,"/10"]}),K.sillage_rating&&s.jsxs("span",{children:["Sillage: ",K.sillage_rating,"/10"]})]})]}),s.jsxs("div",{className:"text-right text-sm text-gray-500",children:[s.jsx("p",{children:new Date(K.created_at).toLocaleDateString()}),K.helpful_votes>0&&s.jsxs("p",{className:"mt-1",children:[K.helpful_votes," found helpful"]})]})]})},K.review_id))})]})]})]}),ae.length>0&&s.jsx(n1,{products:ae,title:"Connoisseurs Also Explored",onQuickAdd:(K,oe)=>{var Ch;const We=ae.find(Sa=>Sa.product_id===K);if(!We)return;const gn=(Ch=We.sizes)==null?void 0:Ch.find(Sa=>Sa.size_id===oe);gn&&$({product_id:K,product_name:We.product_name,brand_name:We.brand_name||"Unknown Brand",size_ml:gn.size_ml,quantity:1,unit_price:gn.sale_price||gn.price,gift_wrap:!1,sample_included:!1}).then(()=>{Y({type:"success",message:"Added to cart successfully!",auto_dismiss:!0,duration:3e3})}).catch(Sa=>{Y({type:"error",message:Sa.message||"Failed to add to cart",auto_dismiss:!0,duration:5e3})})}}),S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add to Wishlist"}),s.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Wishlist"}),s.jsx("select",{value:_||"",onChange:K=>w(K.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:z.map(K=>s.jsxs("option",{value:K.wishlist_id,children:[K.wishlist_name," ",K.is_default?"(Default)":""]},K.wishlist_id))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:ka,disabled:E.isPending,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:E.isPending?"Adding...":"Add to Wishlist"})]})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),s.jsx(V,{to:"/products",className:"text-purple-600 hover:text-purple-500",children:"Browse All Products"})]})})},NC=()=>{const e=q(N=>N.cart_state.items),t=q(N=>N.cart_state.item_count),r=q(N=>N.cart_state.subtotal),n=q(N=>N.cart_state.shipping_cost),a=q(N=>N.cart_state.tax_amount),i=q(N=>N.cart_state.total),o=q(N=>N.cart_state.applied_promotions),l=q(N=>N.cart_state.free_shipping_threshold),c=q(N=>N.update_cart_item),d=q(N=>N.remove_from_cart),u=q(N=>N.apply_promotion),m=q(N=>N.load_cart),h=q(N=>N.show_notification),[v,g]=j.useState(""),[b,f]=j.useState(""),[p,y]=j.useState(""),[x,_]=j.useState(!1),[w,S]=j.useState([]);j.useEffect(()=>{m()},[m]);const{data:P=[]}=ce({queryKey:["shipping-methods",v,r],queryFn:async()=>v?(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/shipping-methods",{params:{is_active:!0,destination_postal_code:v,order_total:r}})).data.map(F=>({...F,cost:parseFloat(F.calculated_cost||F.cost||0),free_threshold:F.free_threshold?parseFloat(F.free_threshold):null})):[],enabled:!!v&&r>0,staleTime:3e5,retry:1}),{data:C=[]}=ce({queryKey:["cart-recommendations",e],queryFn:async()=>{var F;return((F=(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/products",{params:{is_featured:!0,per_page:8,page:1}})).data)==null?void 0:F.data)||[]},enabled:e.length>0,staleTime:3e5,retry:1}),R=ve({mutationFn:async({cartItemId:N,quantity:F})=>{await c(N,{quantity:F})},onError:()=>{h({type:"error",message:"Failed to update quantity",auto_dismiss:!0,duration:3e3})}}),$=ve({mutationFn:async N=>{const F=e.find(I=>I.cart_item_id===N);F&&S(I=>[...I,{item:F,timestamp:Date.now()}]),await d(N)},onSuccess:()=>{h({type:"success",message:"Item removed from cart",auto_dismiss:!0,duration:3e3})}}),Y=async()=>{if(p.trim()){_(!0);try{await u(p.trim()),y("")}catch{}finally{_(!1)}}},O=Math.min(r/l*100,100),D=Math.max(l-r,0),Z=(N,F)=>{F<1||R.mutate({cartItemId:N,quantity:F})},G=async N=>{try{await q.getState().add_to_cart({product_id:N.item.product_id,product_name:N.item.product_name,brand_name:N.item.brand_name,size_ml:N.item.size_ml,quantity:N.item.quantity,unit_price:N.item.unit_price,gift_wrap:N.item.gift_wrap,sample_included:N.item.sample_included}),S(F=>F.filter(I=>I.timestamp!==N.timestamp))}catch{}};return e.length===0?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-purple-100 to-pink-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-16 h-16 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})})}),s.jsx("h1",{className:"text-3xl font-light text-gray-900 mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-md mx-auto",children:"Discover our curated collection of luxury fragrances and find your perfect scent"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(V,{to:"/products",className:"inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Continue Shopping"}),s.jsx("div",{className:"block",children:s.jsx(V,{to:"/fragrance-finder",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Take our fragrance quiz to find your perfect match"})})]})]}),w.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recently Removed"}),s.jsx("div",{className:"space-y-3",children:w.slice(0,3).map((N,F)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:N.item.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:N.item.brand_name})]})]}),s.jsx("button",{onClick:()=>G(N),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Restore"})]},F))})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-light text-gray-900",children:"Shopping Cart"}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[t," ",t===1?"item":"items"," in your cart"]})]}),s.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r<l&&s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Free shipping progress"}),s.jsxs("span",{className:"text-gray-900 font-medium",children:["$",D.toFixed(2)," away from free shipping"]})]})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${O}%`}})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b border-gray-200 bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-900",children:"Product"}),s.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-900",children:"Size"}),s.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-900",children:"Price"}),s.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-900",children:"Quantity"}),s.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-900",children:"Total"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-6 px-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex-shrink-0"}),s.jsxs("div",{children:[s.jsx(V,{to:`/products/${N.product_id}`,className:"font-medium text-gray-900 hover:text-purple-600",children:N.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:N.brand_name}),N.gift_wrap&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mt-1",children:"Gift Wrapped"}),N.sample_included&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1 ml-2",children:"Sample Included"})]})]})}),s.jsxs("td",{className:"py-6 px-6 text-sm text-gray-900",children:[N.size_ml,"ml"]}),s.jsxs("td",{className:"py-6 px-6 text-sm text-gray-900",children:["$",Number(N.unit_price||0).toFixed(2)]}),s.jsx("td",{className:"py-6 px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Z(N.cart_item_id,N.quantity-1),disabled:N.quantity<=1||R.isPending,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50",children:"-"}),s.jsx("span",{className:"w-12 text-center text-sm font-medium",children:N.quantity}),s.jsx("button",{onClick:()=>Z(N.cart_item_id,N.quantity+1),disabled:R.isPending,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50",children:"+"})]})}),s.jsxs("td",{className:"py-6 px-6 text-sm font-medium text-gray-900",children:["$",(Number(N.unit_price||0)*N.quantity).toFixed(2)]}),s.jsx("td",{className:"py-6 px-6",children:s.jsx("button",{onClick:()=>$.mutate(N.cart_item_id),disabled:$.isPending,className:"text-red-600 hover:text-red-700 disabled:opacity-50",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},N.cart_item_id))})]})})]}),w.length>0&&s.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recently Removed"}),s.jsx("div",{className:"space-y-3",children:w.slice(0,3).map((N,F)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:N.item.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:N.item.brand_name})]})]}),s.jsx("button",{onClick:()=>G(N),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Restore"})]},F))})]})]}),s.jsx("div",{className:"lg:col-span-4 mt-8 lg:mt-0",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-8",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Order Summary"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Estimate"}),s.jsx("input",{type:"text",value:v,onChange:N=>g(N.target.value),placeholder:"Enter ZIP code",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),v&&P.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:P.map(N=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"shipping",value:N.shipping_method_id,checked:b===N.shipping_method_id,onChange:F=>f(F.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:N.method_name}),s.jsx("span",{className:"text-sm",children:N.cost===0?"Free":`$${N.cost.toFixed(2)}`})]}),s.jsxs("p",{className:"text-xs text-gray-600",children:[N.estimated_days_min,"-",N.estimated_days_max," business days"]})]})]},N.shipping_method_id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promotion Code"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:p,onChange:N=>y(N.target.value),placeholder:"Enter code",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),s.jsx("button",{onClick:Y,disabled:!p.trim()||x,className:"px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-md hover:bg-purple-700 disabled:opacity-50",children:x?"...":"Apply"})]}),o.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:o.map((N,F)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-md",children:[s.jsx("span",{className:"text-sm text-green-800 font-medium",children:N.promotion_code}),s.jsxs("span",{className:"text-sm text-green-800",children:["-$",Number(N.discount_amount||0).toFixed(2)]})]},F))})]}),s.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:["Subtotal (",t," items)"]}),s.jsxs("span",{className:"text-gray-900",children:["$",Number(r||0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{className:"text-gray-900",children:n>0?`$${Number(n||0).toFixed(2)}`:"Free"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Tax"}),s.jsxs("span",{className:"text-gray-900",children:["$",Number(a||0).toFixed(2)]})]}),o.map((N,F)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-green-600",children:N.promotion_code}),s.jsxs("span",{className:"text-green-600",children:["-$",Number(N.discount_amount||0).toFixed(2)]})]},F)),s.jsxs("div",{className:"flex justify-between text-lg font-medium border-t border-gray-200 pt-3",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",Number(i||0).toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{className:"w-full py-2 px-3 bg-yellow-400 text-black text-sm font-medium rounded-md hover:bg-yellow-500 transition-colors",children:"PayPal"}),s.jsx("button",{className:"w-full py-2 px-3 bg-black text-white text-sm font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Apple Pay"}),s.jsx("button",{className:"w-full py-2 px-3 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors",children:"Google Pay"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),s.jsx(V,{to:"/checkout",className:"w-full bg-purple-600 text-white py-3 px-4 rounded-md font-medium hover:bg-purple-700 transition-colors text-center block",children:"Proceed to Checkout"}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Secure checkout with SSL encryption"})]})]})})]})]})}),C.length>0&&s.jsx(n1,{products:C,title:"Complete Your Olfactory Ritual",onQuickAdd:(N,F)=>{var z;const I=C.find(L=>L.product_id===N);if(!I)return;const k=(z=I.sizes)==null?void 0:z.find(L=>L.size_id===F);if(!k)return;const B=q.getState().add_to_cart;B({product_id:N,product_name:I.product_name,brand_name:I.brand_name||"Unknown Brand",size_ml:k.size_ml,quantity:1,unit_price:k.sale_price||k.price,gift_wrap:!1,sample_included:!1}).then(()=>{h({type:"success",message:"Added to cart successfully!",auto_dismiss:!0,duration:3e3})}).catch(L=>{h({type:"error",message:L.message||"Failed to add to cart",auto_dismiss:!0,duration:5e3})})}})]})},_C=()=>{const e=fn(),t=bs(),r=q(M=>M.authentication_state.current_user),n=q(M=>M.authentication_state.authentication_status.is_authenticated),a=q(M=>M.authentication_state.auth_token),i=q(M=>M.cart_state.items),o=q(M=>M.cart_state.subtotal),l=q(M=>M.cart_state.item_count),c=q(M=>M.cart_state.applied_promotions),d=q(M=>M.show_notification),[u,m]=j.useState("shipping"),[h,v]=j.useState(!1),[g,b]=j.useState({email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone_number)||"",first_name:(r==null?void 0:r.first_name)||"",last_name:(r==null?void 0:r.last_name)||"",company:"",address_line_1:"",address_line_2:"",city:"",state_province:"",postal_code:"",country:"United States",use_as_billing:!0}),[f,p]=j.useState({first_name:"",last_name:"",company:"",address_line_1:"",address_line_2:"",city:"",state_province:"",postal_code:"",country:"United States"}),[y,x]=j.useState(""),[_,w]=j.useState(""),[S,P]=j.useState(""),[C,R]=j.useState({gift_wrap:!1,gift_message:"",gift_receipt:!1,special_delivery_date:""}),[$,Y]=j.useState({card_number:"",exp_month:"",exp_year:"",cvv:"",cardholder_name:"",payment_type:"card"}),[O,D]=j.useState({}),[Z,G]=j.useState(!1),[N,F]=j.useState(!1);j.useEffect(()=>{l===0&&e("/cart")},[l,e]);const I=()=>"https://123luxury-fragrance-brand.launchpulse.ai",{data:k=[]}=ce({queryKey:["user-addresses"],queryFn:async()=>!n||!a?[]:(await ee.get(`${I()}/api/addresses`,{headers:{Authorization:`Bearer ${a}`}})).data,enabled:n&&!!a,staleTime:5*60*1e3,retry:1}),{data:B=[]}=ce({queryKey:["shipping-methods",o],queryFn:async()=>(await ee.get(`${I()}/api/shipping-methods`,{params:{is_active:!0,order_total:o}})).data.map(U=>({...U,cost:parseFloat(U.calculated_cost||U.cost||0),free_threshold:U.free_threshold?parseFloat(U.free_threshold):null})),staleTime:5*60*1e3,retry:1}),z=ve({mutationFn:async M=>(await ee.post(`${I()}/api/addresses`,M,{headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}})).data,onSuccess:()=>{t.invalidateQueries({queryKey:["user-addresses"]}),d({type:"success",message:"Address saved successfully",auto_dismiss:!0,duration:3e3})},onError:M=>{var _e,$e;const U=(($e=(_e=M.response)==null?void 0:_e.data)==null?void 0:$e.message)||"Failed to save address";d({type:"error",message:U,auto_dismiss:!0,duration:5e3})}}),L=ve({mutationFn:async M=>(await ee.post(`${I()}/api/orders`,M,{headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}})).data,onSuccess:M=>{d({type:"success",message:"Order placed successfully!",auto_dismiss:!0,duration:5e3}),e("/order-confirmation",{state:{order:M}})},onError:M=>{var _e,$e;const U=(($e=(_e=M.response)==null?void 0:_e.data)==null?void 0:$e.message)||"Failed to create order";d({type:"error",message:U,auto_dismiss:!0,duration:5e3}),v(!1)}}),J=B.find(M=>M.shipping_method_id===S),A=(J==null?void 0:J.cost)||0,H=c.reduce((M,U)=>M+U.discount_amount,0),ae=Math.round((o-H)*.07*100)/100,ye=o+A+ae-H,De=()=>{const M={};return g.email||(M.email="Email is required"),y||(g.first_name||(M.first_name="First name is required"),g.last_name||(M.last_name="Last name is required"),g.address_line_1||(M.address_line_1="Address is required"),g.city||(M.city="City is required"),g.state_province||(M.state_province="State/Province is required"),g.postal_code||(M.postal_code="Postal code is required"),g.country||(M.country="Country is required")),!g.use_as_billing&&!_&&(f.first_name||(M.billing_first_name="Billing first name is required"),f.last_name||(M.billing_last_name="Billing last name is required"),f.address_line_1||(M.billing_address_line_1="Billing address is required"),f.city||(M.billing_city="Billing city is required"),f.state_province||(M.billing_state_province="Billing state is required"),f.postal_code||(M.billing_postal_code="Billing postal code is required")),S||(M.shipping_method="Please select a shipping method"),D(M),Object.keys(M).length===0},Qe=()=>{const M={};return $.payment_type==="card"&&($.card_number||(M.card_number="Card number is required"),$.exp_month||(M.exp_month="Expiration month is required"),$.exp_year||(M.exp_year="Expiration year is required"),$.cvv||(M.cvv="CVV is required"),$.cardholder_name||(M.cardholder_name="Cardholder name is required")),Z||(M.terms="You must accept the terms and conditions"),D(M),Object.keys(M).length===0},X=async()=>{if(!De()){d({type:"error",message:"Please fill in all required fields",auto_dismiss:!0,duration:5e3});return}try{let M=y,U=_;M||(M=(await z.mutateAsync({address_type:"shipping",first_name:g.first_name,last_name:g.last_name,company:g.company||void 0,address_line_1:g.address_line_1,address_line_2:g.address_line_2||void 0,city:g.city,state_province:g.state_province,postal_code:g.postal_code,country:g.country,phone_number:g.phone||void 0,is_default:!1})).address_id),U||(g.use_as_billing?U=M:U=(await z.mutateAsync({address_type:"billing",first_name:f.first_name,last_name:f.last_name,company:f.company||void 0,address_line_1:f.address_line_1,address_line_2:f.address_line_2||void 0,city:f.city,state_province:f.state_province,postal_code:f.postal_code,country:f.country,is_default:!1})).address_id),x(M),w(U),m("payment"),D({})}catch(M){console.error("Error submitting shipping information:",M)}},E=()=>{Qe()&&m("review")},te=async()=>{v(!0);const M={user_id:(r==null?void 0:r.user_id)||void 0,subtotal:o,tax_amount:ae,shipping_cost:A,discount_amount:H,total_amount:ye,currency:"USD",shipping_address_id:y,billing_address_id:_,shipping_method_id:S,payment_method_id:$.payment_type,gift_message:C.gift_message||void 0,special_instructions:C.special_delivery_date||void 0,customer_email:g.email,customer_phone:g.phone||void 0};L.mutate(M)},ne=["shipping","payment","review"],Q={shipping:"Shipping",payment:"Payment",review:"Review"};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("nav",{"aria-label":"Progress",children:s.jsx("ol",{className:"flex items-center justify-center space-x-5",children:ne.map((M,U)=>{const _e=M===u,$e=ne.indexOf(u)>U;return s.jsxs("li",{className:"flex items-center",children:[U>0&&s.jsx("div",{className:`flex-auto border-t-2 transition-colors duration-200 ${$e?"border-purple-600":"border-gray-300"}`}),s.jsx("button",{onClick:()=>{($e||M==="payment"&&u!=="shipping")&&m(M)},className:`relative flex h-8 w-8 items-center justify-center rounded-full transition-colors duration-200 ${_e?"bg-purple-600 text-white ring-2 ring-purple-600 ring-offset-2":$e?"bg-purple-600 text-white hover:bg-purple-700":"bg-white border-2 border-gray-300 text-gray-500 hover:border-gray-400"}`,disabled:!$e&&!_e&&M!=="payment",children:$e?s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):s.jsx("span",{className:"text-sm font-medium",children:U+1})}),s.jsx("span",{className:`ml-2 text-sm font-medium ${_e||$e?"text-purple-600":"text-gray-500"}`,children:Q[M]}),U<ne.length-1&&s.jsx("div",{className:`flex-auto border-t-2 transition-colors duration-200 ${$e?"border-purple-600":"border-gray-300"}`})]},M)})})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[u==="shipping"&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Account & Contact"}),!n&&s.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-purple-900",children:"Already have an account?"}),s.jsx("p",{className:"text-sm text-purple-700",children:"Sign in for faster checkout and order tracking"})]}),s.jsx(V,{to:"/login?redirect_to=/checkout",className:"bg-purple-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-purple-700 transition-colors",children:"Sign In"})]})}),n&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 text-green-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-green-900",children:["Welcome back, ",r==null?void 0:r.first_name,"!"]}),s.jsx("p",{className:"text-sm text-green-700",children:"You're signed in to your account"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",value:g.email,onChange:M=>{b(U=>({...U,email:M.target.value})),O.email&&D(U=>({...U,email:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.email?"border-red-300":"border-gray-300"}`,placeholder:"your@email.com"}),O.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone",value:g.phone,onChange:M=>b(U=>({...U,phone:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"(555) 123-4567"})]})]})]}),u==="shipping"&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Shipping Address"}),n&&k.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Choose from saved addresses"}),s.jsx("div",{className:"space-y-2",children:k.filter(M=>M.address_type!=="billing").map(M=>s.jsxs("label",{className:"flex items-start space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"saved_shipping_address",value:M.address_id,checked:y===M.address_id,onChange:U=>x(U.target.value),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[M.first_name," ",M.last_name]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[M.address_line_1,M.address_line_2&&`, ${M.address_line_2}`]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[M.city,", ",M.state_province," ",M.postal_code]})]})]},M.address_id))}),s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",name:"saved_shipping_address",value:"",checked:y==="",onChange:()=>x(""),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use a new address"})]})})]}),(!n||y==="")&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",id:"first_name",value:g.first_name,onChange:M=>{b(U=>({...U,first_name:M.target.value})),O.first_name&&D(U=>({...U,first_name:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.first_name?"border-red-300":"border-gray-300"}`}),O.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.first_name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",id:"last_name",value:g.last_name,onChange:M=>{b(U=>({...U,last_name:M.target.value})),O.last_name&&D(U=>({...U,last_name:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.last_name?"border-red-300":"border-gray-300"}`}),O.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.last_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company (Optional)"}),s.jsx("input",{type:"text",id:"company",value:g.company,onChange:M=>b(U=>({...U,company:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address_line_1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),s.jsx("input",{type:"text",id:"address_line_1",value:g.address_line_1,onChange:M=>{b(U=>({...U,address_line_1:M.target.value})),O.address_line_1&&D(U=>({...U,address_line_1:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.address_line_1?"border-red-300":"border-gray-300"}`,placeholder:"123 Main St"}),O.address_line_1&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.address_line_1})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"address_line_2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Apartment, suite, etc. (Optional)"}),s.jsx("input",{type:"text",id:"address_line_2",value:g.address_line_2,onChange:M=>b(U=>({...U,address_line_2:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Apt 4B"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",id:"city",value:g.city,onChange:M=>{b(U=>({...U,city:M.target.value})),O.city&&D(U=>({...U,city:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.city?"border-red-300":"border-gray-300"}`}),O.city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.city})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"state_province",className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province *"}),s.jsx("input",{type:"text",id:"state_province",value:g.state_province,onChange:M=>{b(U=>({...U,state_province:M.target.value})),O.state_province&&D(U=>({...U,state_province:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.state_province?"border-red-300":"border-gray-300"}`}),O.state_province&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.state_province})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),s.jsx("input",{type:"text",id:"postal_code",value:g.postal_code,onChange:M=>{b(U=>({...U,postal_code:M.target.value})),O.postal_code&&D(U=>({...U,postal_code:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.postal_code?"border-red-300":"border-gray-300"}`}),O.postal_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.postal_code})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),s.jsxs("select",{id:"country",value:g.country,onChange:M=>b(U=>({...U,country:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",children:[s.jsx("option",{value:"United States",children:"United States"}),s.jsx("option",{value:"Canada",children:"Canada"}),s.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),s.jsx("option",{value:"France",children:"France"}),s.jsx("option",{value:"Germany",children:"Germany"}),s.jsx("option",{value:"Italy",children:"Italy"}),s.jsx("option",{value:"Spain",children:"Spain"}),s.jsx("option",{value:"Australia",children:"Australia"}),s.jsx("option",{value:"Japan",children:"Japan"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Billing Address"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",name:"billing_option",checked:g.use_as_billing,onChange:()=>b(M=>({...M,use_as_billing:!0})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Same as shipping address"})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",name:"billing_option",checked:!g.use_as_billing,onChange:()=>b(M=>({...M,use_as_billing:!1})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Use different billing address"})]})]}),!g.use_as_billing&&s.jsxs("div",{className:"mt-4 space-y-4 pl-7",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),s.jsx("input",{type:"text",value:f.first_name,onChange:M=>{p(U=>({...U,first_name:M.target.value})),O.billing_first_name&&D(U=>({...U,billing_first_name:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.billing_first_name?"border-red-300":"border-gray-300"}`}),O.billing_first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.billing_first_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:f.last_name,onChange:M=>{p(U=>({...U,last_name:M.target.value})),O.billing_last_name&&D(U=>({...U,billing_last_name:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.billing_last_name?"border-red-300":"border-gray-300"}`}),O.billing_last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.billing_last_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),s.jsx("input",{type:"text",value:f.address_line_1,onChange:M=>{p(U=>({...U,address_line_1:M.target.value})),O.billing_address_line_1&&D(U=>({...U,billing_address_line_1:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.billing_address_line_1?"border-red-300":"border-gray-300"}`}),O.billing_address_line_1&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.billing_address_line_1})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:f.city,onChange:M=>{p(U=>({...U,city:M.target.value})),O.billing_city&&D(U=>({...U,billing_city:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.billing_city?"border-red-300":"border-gray-300"}`}),O.billing_city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.billing_city})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province *"}),s.jsx("input",{type:"text",value:f.state_province,onChange:M=>{p(U=>({...U,state_province:M.target.value})),O.billing_state_province&&D(U=>({...U,billing_state_province:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.billing_state_province?"border-red-300":"border-gray-300"}`}),O.billing_state_province&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.billing_state_province})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),s.jsx("input",{type:"text",value:f.postal_code,onChange:M=>{p(U=>({...U,postal_code:M.target.value})),O.billing_postal_code&&D(U=>({...U,billing_postal_code:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.billing_postal_code?"border-red-300":"border-gray-300"}`}),O.billing_postal_code&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.billing_postal_code})]})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Shipping Method"}),B.length>0?s.jsx("div",{className:"space-y-3",children:B.map(M=>s.jsxs("label",{className:"flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"radio",name:"shipping_method",value:M.shipping_method_id,checked:S===M.shipping_method_id,onChange:U=>{P(U.target.value),O.shipping_method&&D(_e=>({..._e,shipping_method:""}))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center",children:[M.method_name,M.is_express&&s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Express"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:M.estimated_days_min===M.estimated_days_max?`${M.estimated_days_min} business day${M.estimated_days_min>1?"s":""}`:`${M.estimated_days_min}-${M.estimated_days_max} business days`}),M.description&&s.jsx("div",{className:"text-sm text-gray-500",children:M.description})]})]}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.cost===0?"Free":`$${M.cost.toFixed(2)}`})]},M.shipping_method_id))}):s.jsx("div",{className:"text-sm text-gray-500",children:"Loading shipping methods..."}),O.shipping_method&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:O.shipping_method})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gift Options"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:C.gift_wrap,onChange:M=>R(U=>({...U,gift_wrap:M.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gift wrapping (+$5.00)"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gift_message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Message (Optional)"}),s.jsx("textarea",{id:"gift_message",rows:3,value:C.gift_message,onChange:M=>R(U=>({...U,gift_message:M.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",placeholder:"Your personal message here...",maxLength:200}),s.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[C.gift_message.length,"/200 characters"]})]}),s.jsxs("label",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:C.gift_receipt,onChange:M=>R(U=>({...U,gift_receipt:M.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Include gift receipt (hide prices)"})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx("button",{type:"button",onClick:X,disabled:z.isPending,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:z.isPending?"Saving...":"Continue to Payment"})})]}),u==="payment"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Payment Information"}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-green-900",children:"Secure Checkout"}),s.jsx("p",{className:"text-sm text-green-700",children:"Your payment information is encrypted and secure"})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"SSL"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"PCI Compliant"})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Choose Payment Method"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"payment_type",value:"card",checked:$.payment_type==="card",onChange:M=>Y(U=>({...U,payment_type:M.target.value})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Credit or Debit Card"}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-8 h-5 bg-blue-600 rounded text-white text-xs flex items-center justify-center",children:"VISA"}),s.jsx("div",{className:"w-8 h-5 bg-red-600 rounded text-white text-xs flex items-center justify-center",children:"MC"}),s.jsx("div",{className:"w-8 h-5 bg-blue-500 rounded text-white text-xs flex items-center justify-center",children:"AMEX"})]})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"payment_type",value:"paypal",checked:$.payment_type==="paypal",onChange:M=>Y(U=>({...U,payment_type:M.target.value})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"PayPal"}),s.jsx("div",{className:"w-16 h-5 bg-blue-600 rounded text-white text-xs flex items-center justify-center",children:"PayPal"})]}),s.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"payment_type",value:"apple_pay",checked:$.payment_type==="apple_pay",onChange:M=>Y(U=>({...U,payment_type:M.target.value})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Apple Pay"}),s.jsx("div",{className:"w-16 h-5 bg-black rounded text-white text-xs flex items-center justify-center",children:" Pay"})]})]})]}),$.payment_type==="card"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"card_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),s.jsx("input",{type:"text",id:"card_number",value:$.card_number,onChange:M=>{Y(U=>({...U,card_number:M.target.value})),O.card_number&&D(U=>({...U,card_number:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.card_number?"border-red-300":"border-gray-300"}`,placeholder:"1234 5678 9012 3456",maxLength:19}),O.card_number&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.card_number})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cardholder_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),s.jsx("input",{type:"text",id:"cardholder_name",value:$.cardholder_name,onChange:M=>{Y(U=>({...U,cardholder_name:M.target.value})),O.cardholder_name&&D(U=>({...U,cardholder_name:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.cardholder_name?"border-red-300":"border-gray-300"}`,placeholder:"John Doe"}),O.cardholder_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.cardholder_name})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"exp_month",className:"block text-sm font-medium text-gray-700 mb-2",children:"Month *"}),s.jsxs("select",{id:"exp_month",value:$.exp_month,onChange:M=>{Y(U=>({...U,exp_month:M.target.value})),O.exp_month&&D(U=>({...U,exp_month:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.exp_month?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"MM"}),Array.from({length:12},(M,U)=>U+1).map(M=>s.jsx("option",{value:M.toString().padStart(2,"0"),children:M.toString().padStart(2,"0")},M))]}),O.exp_month&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.exp_month})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"exp_year",className:"block text-sm font-medium text-gray-700 mb-2",children:"Year *"}),s.jsxs("select",{id:"exp_year",value:$.exp_year,onChange:M=>{Y(U=>({...U,exp_year:M.target.value})),O.exp_year&&D(U=>({...U,exp_year:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.exp_year?"border-red-300":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"YYYY"}),Array.from({length:10},(M,U)=>new Date().getFullYear()+U).map(M=>s.jsx("option",{value:M.toString(),children:M},M))]}),O.exp_year&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.exp_year})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),s.jsx("input",{type:"text",id:"cvv",value:$.cvv,onChange:M=>{Y(U=>({...U,cvv:M.target.value})),O.cvv&&D(U=>({...U,cvv:""}))},className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 ${O.cvv?"border-red-300":"border-gray-300"}`,placeholder:"123",maxLength:4}),O.cvv&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.cvv})]})]})]}),$.payment_type==="paypal"&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-blue-700",children:"You will be redirected to PayPal to complete your payment securely."})}),$.payment_type==="apple_pay"&&s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-700",children:"Use Touch ID or Face ID to pay with Apple Pay."})}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-start space-x-3",children:[s.jsx("input",{type:"checkbox",checked:Z,onChange:M=>{G(M.target.checked),O.terms&&D(U=>({...U,terms:""}))},className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsxs("div",{className:"text-sm text-gray-600",children:["I accept the"," ",s.jsx(V,{to:"/terms",className:"text-purple-600 hover:text-purple-500",children:"Terms and Conditions"})," ","and"," ",s.jsx(V,{to:"/privacy",className:"text-purple-600 hover:text-purple-500",children:"Privacy Policy"})]})]}),O.terms&&s.jsx("p",{className:"text-sm text-red-600",children:O.terms}),s.jsxs("label",{className:"flex items-start space-x-3",children:[s.jsx("input",{type:"checkbox",checked:N,onChange:M=>F(M.target.checked),className:"mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("div",{className:"text-sm text-gray-600",children:"I would like to receive email updates about new arrivals and exclusive offers"})]})]})}),s.jsx("div",{className:"mt-8",children:s.jsx("button",{type:"button",onClick:E,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors",children:"Review Order"})})]}),u==="review"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Review Your Order"}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Shipping Address"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{children:[g.first_name," ",g.last_name]}),s.jsx("div",{children:g.address_line_1}),g.address_line_2&&s.jsx("div",{children:g.address_line_2}),s.jsxs("div",{children:[g.city,", ",g.state_province," ",g.postal_code]}),s.jsx("div",{children:g.country})]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Shipping Method"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[J==null?void 0:J.method_name," - ",(J==null?void 0:J.cost)===0?"Free":`$${J==null?void 0:J.cost.toFixed(2)}`]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[$.payment_type==="card"&&`Card ending in ${$.card_number.slice(-4)}`,$.payment_type==="paypal"&&"PayPal",$.payment_type==="apple_pay"&&"Apple Pay",$.payment_type==="google_pay"&&"Google Pay"]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("button",{onClick:te,disabled:h||L.isPending,className:"w-full bg-purple-600 text-white py-4 px-4 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-lg",children:h||L.isPending?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Order..."]}):`Place Order - $${ye.toFixed(2)}`}),s.jsx("p",{className:"mt-3 text-xs text-gray-500 text-center",children:"By placing your order, you agree to our terms and conditions."})]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-6 sticky top-8",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-4 mb-6",children:i.map(M=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-md flex items-center justify-center",children:s.jsx("div",{className:"text-xs text-gray-500 text-center",children:M.product_name})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:M.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:M.brand_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[M.size_ml,"ml  Qty: ",M.quantity]}),M.gift_wrap&&s.jsx("p",{className:"text-xs text-purple-600",children:"Gift wrapped"})]}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",(M.unit_price*M.quantity).toFixed(2)]})]},M.cart_item_id))}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",o.toFixed(2)]})]}),c.map(M=>s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsx("span",{children:M.description}),s.jsxs("span",{children:["-$",M.discount_amount.toFixed(2)]})]},M.promotion_code)),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{children:A===0?"Free":`$${A.toFixed(2)}`})]}),C.gift_wrap&&s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Gift wrapping"}),s.jsx("span",{children:"$5.00"})]}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Tax"}),s.jsxs("span",{children:["$",ae.toFixed(2)]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between text-base font-semibold text-gray-900",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",(ye+(C.gift_wrap?5:0)).toFixed(2)]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),s.jsx("span",{children:"SSL Encrypted"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{children:"PCI Compliant"})]})]})}),s.jsx("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-md",children:s.jsx("p",{className:"text-xs text-amber-700",children:"By purchasing, you confirm you are 18+ years old as required for fragrance purchases."})})]})})]})]})})})},kC=()=>{const e=q(w=>w.authentication_state.current_user),t=q(w=>w.authentication_state.auth_token),r=q(w=>w.show_notification),n=bs(),a=()=>"https://123luxury-fragrance-brand.launchpulse.ai",i=()=>({Authorization:`Bearer ${t}`,"Content-Type":"application/json"}),{data:o}=ce({queryKey:["userProfile"],queryFn:async()=>(await ee.get(`${a()}/api/users/profile`,{headers:i()})).data,enabled:!!t,staleTime:5*60*1e3,retry:1}),{data:l,isLoading:c}=ce({queryKey:["recentOrders"],queryFn:async()=>(await ee.get(`${a()}/api/orders`,{headers:i(),params:{page:1,per_page:5,sort_by:"created_at",sort_order:"desc"}})).data.data.map(S=>({order_id:S.order_id,order_number:S.order_number,order_status:S.order_status,total_amount:Number(S.total_amount||0),created_at:S.created_at,item_count:S.items?S.items.length:0})),enabled:!!t,staleTime:2*60*1e3,retry:1}),{data:d}=ce({queryKey:["orderSummaryStats"],queryFn:async()=>{const S=(await ee.get(`${a()}/api/orders`,{headers:i(),params:{per_page:100,sort_by:"created_at"}})).data.data,P=S.reduce((C,R)=>C+Number(R.total_amount||0),0);return{total_orders:S.length,total_spent:P,favorite_brands:[],seasonal_patterns:[]}},enabled:!!t,staleTime:10*60*1e3,retry:1}),{data:u,isLoading:m}=ce({queryKey:["wishlistPreview"],queryFn:async()=>{const S=(await ee.get(`${a()}/api/wishlists`,{headers:i()})).data.find(C=>C.is_default);return S?((await ee.get(`${a()}/api/wishlists/${S.wishlist_id}`,{headers:i()})).data.items||[]).slice(0,6).map(C=>({wishlist_item_id:C.wishlist_item_id,product_id:C.product_id,product_name:C.product_name||"Unknown Product",brand_name:C.brand_name||"Unknown Brand",current_price:Number(C.current_price||0),image_url:C.image_url||""})):[]},enabled:!!t,staleTime:5*60*1e3,retry:1}),{data:h,isLoading:v}=ce({queryKey:["personalizedRecommendations"],queryFn:async()=>(await ee.get(`${a()}/api/products/recommendations`,{headers:i(),params:{based_on:"purchase_history",limit:8}})).data.map(S=>({product_id:S.product_id,product_name:S.product_name,brand_name:S.brand_name,base_price:Number(S.base_price||0),recommendation_reason:S.match_reason||"Based on your preferences",match_score:S.match_score||85})),enabled:!!t,staleTime:30*60*1e3,retry:1}),g=ve({mutationFn:async w=>(await ee.post(`${a()}/api/cart/items`,{product_id:w.product_id,size_ml:w.size_ml,quantity:1,unit_price:w.unit_price},{headers:i()})).data,onSuccess:()=>{r({type:"success",message:"Item added to cart successfully",auto_dismiss:!0,duration:3e3}),n.invalidateQueries({queryKey:["cart"]})},onError:w=>{var S,P;r({type:"error",message:((P=(S=w.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to add item to cart",auto_dismiss:!0,duration:5e3})}}),b=()=>{const w=(o==null?void 0:o.loyalty_tier)||(e==null?void 0:e.loyalty_tier)||null;return{tier:w,points:0,next_tier_points:0,tier_benefits:w?[`${w} tier benefits`]:[]}},f=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(w),p=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=w=>{const S={pending:{color:"bg-yellow-100 text-yellow-800",text:"Pending"},processing:{color:"bg-blue-100 text-blue-800",text:"Processing"},shipped:{color:"bg-purple-100 text-purple-800",text:"Shipped"},delivered:{color:"bg-green-100 text-green-800",text:"Delivered"},cancelled:{color:"bg-red-100 text-red-800",text:"Cancelled"},refunded:{color:"bg-gray-100 text-gray-800",text:"Refunded"}},P=S[w]||S.pending;return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.color}`,children:P.text})},x=b(),_=(o==null?void 0:o.first_name)||(e==null?void 0:e.first_name)||"User";return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",_,"!"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and discover new fragrances"})]}),x.tier&&s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg",children:[s.jsxs("div",{className:"text-sm font-medium",children:[x.tier.toUpperCase()," MEMBER"]}),s.jsxs("div",{className:"text-xs opacity-90",children:[x.points," points"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-8",children:[s.jsxs(V,{to:"/account/orders",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2 text-blue-600",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600",children:"View Orders"})]}),s.jsxs(V,{to:"/track-order",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2 text-green-600",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-green-600",children:"Track Package"})]}),s.jsxs(V,{to:"/account/profile",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2 text-purple-600",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-600",children:"Update Profile"})]}),s.jsxs(V,{to:"/wishlist",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2 text-red-600",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-red-600",children:"Wishlist"})]}),s.jsxs(V,{to:"/support",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2 text-yellow-600",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-yellow-600",children:"Customer Service"})]}),s.jsxs(V,{to:"/fragrance-finder",className:"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border border-gray-200 text-center group",children:[s.jsx("div",{className:"w-8 h-8 mx-auto mb-2 text-indigo-600",children:s.jsxs("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})]})}),s.jsx("div",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-600",children:"Find Fragrance"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),s.jsx(V,{to:"/account/orders",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]})}),s.jsx("div",{className:"p-6",children:c?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(w=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})},w))}):l&&l.length>0?s.jsx("div",{className:"space-y-4",children:l.map(w=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs(V,{to:`/orders/${w.order_id}`,className:"font-medium text-gray-900 hover:text-blue-600",children:["#",w.order_number]}),y(w.order_status)]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[p(w.created_at),"  ",w.item_count," item",w.item_count!==1?"s":""]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-gray-900",children:f(w.total_amount)}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(V,{to:`/orders/${w.order_id}`,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Track"}),s.jsx("button",{onClick:()=>g.mutate({product_id:w.order_id,size_ml:50,unit_price:w.total_amount}),disabled:g.isPending,className:"text-xs text-green-600 hover:text-green-700 font-medium disabled:opacity-50",children:"Reorder"})]})]})]})},w.order_id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Start shopping to see your orders here"}),s.jsx(V,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Start Shopping"})]})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Insights"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Orders"}),s.jsx("span",{className:"font-semibold text-gray-900",children:(d==null?void 0:d.total_orders)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Spent"}),s.jsx("span",{className:"font-semibold text-gray-900",children:f((d==null?void 0:d.total_spent)||0)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Member Since"}),s.jsx("span",{className:"font-semibold text-gray-900",children:o!=null&&o.created_at?p(o.created_at):"N/A"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Wishlist"}),s.jsx(V,{to:"/wishlist",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),m?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(w=>s.jsxs("div",{className:"animate-pulse flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},w))}):u&&u.length>0?s.jsx("div",{className:"space-y-3",children:u.slice(0,3).map(w=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex-shrink-0 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(V,{to:`/products/${w.product_id}`,className:"text-sm font-medium text-gray-900 hover:text-blue-600 truncate block",children:w.product_name}),s.jsx("p",{className:"text-xs text-gray-600",children:w.brand_name}),s.jsx("p",{className:"text-xs font-semibold text-gray-900",children:f(w.current_price)})]})]},w.wishlist_item_id))}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",children:s.jsx("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})}),s.jsx("p",{className:"text-sm text-gray-600",children:"No saved items yet"})]})]})]})]}),h&&h.length>0&&s.jsx("div",{className:"mt-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recommended for You"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Based on your purchase history and preferences"})]}),s.jsx("div",{className:"p-6",children:v?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(w=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg mb-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},w))}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:h.slice(0,4).map(w=>s.jsx("div",{className:"group",children:s.jsxs(V,{to:`/products/${w.product_id}`,children:[s.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center group-hover:bg-gray-200 transition-colors",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),s.jsx("h3",{className:"font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:w.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:w.brand_name}),s.jsx("p",{className:"font-semibold text-gray-900 mt-1",children:f(w.base_price)}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:w.recommendation_reason})]})},w.product_id))})})]})})]})]})})},SC=()=>{const[e,t]=j.useState(!1),r=j.useRef(null),n=q(p=>p.authentication_state.auth_token),a=bs(),i=()=>"https://123luxury-fragrance-brand.launchpulse.ai",o=()=>({Authorization:`Bearer ${n}`,"Content-Type":"application/json"}),{data:l,refetch:c}=ce({queryKey:["notifications"],queryFn:async()=>(await ee.get(`${i()}/api/notifications?limit=10`,{headers:o()})).data,enabled:!!n,refetchInterval:3e4}),{data:d}=ce({queryKey:["notifications-unread-count"],queryFn:async()=>(await ee.get(`${i()}/api/notifications/unread-count`,{headers:o()})).data,enabled:!!n,refetchInterval:1e4}),u=ve({mutationFn:async p=>{await ee.put(`${i()}/api/notifications/${p}/read`,{},{headers:o()})},onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]}),a.invalidateQueries({queryKey:["notifications-unread-count"]})}}),m=ve({mutationFn:async()=>{await ee.put(`${i()}/api/notifications/read-all`,{},{headers:o()})},onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]}),a.invalidateQueries({queryKey:["notifications-unread-count"]})}});j.useEffect(()=>{if(!n)return;const p=i().replace("https://","wss://").replace("http://","ws://"),y=new WebSocket(`${p}/ws`);return y.onopen=()=>{console.log("WebSocket connected for notifications"),y.send(JSON.stringify({type:"auth",token:n}))},y.onmessage=x=>{try{JSON.parse(x.data).type==="notification"&&(c(),a.invalidateQueries({queryKey:["notifications-unread-count"]}))}catch(_){console.error("WebSocket message error:",_)}},y.onerror=x=>{console.error("WebSocket error:",x)},y.onclose=()=>{console.log("WebSocket disconnected")},()=>{y.readyState===WebSocket.OPEN&&y.close()}},[n,c,a]),j.useEffect(()=>{const p=y=>{r.current&&!r.current.contains(y.target)&&t(!1)};return e&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[e]);const h=p=>{p.is_read||u.mutate(p.notification_id)},v=()=>{m.mutate()},g=p=>{const y=new Date(p),_=new Date().getTime()-y.getTime(),w=Math.floor(_/6e4),S=Math.floor(_/36e5),P=Math.floor(_/864e5);return w<1?"Just now":w<60?`${w}m ago`:S<24?`${S}h ago`:P<7?`${P}d ago`:y.toLocaleDateString()},b=(d==null?void 0:d.unread_count)||0,f=(l==null?void 0:l.notifications)||[];return s.jsxs("div",{className:"relative",ref:r,children:[s.jsxs("button",{onClick:()=>t(!e),className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[s.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),b>0&&s.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:b>99?"99+":b})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[600px] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),b>0&&s.jsx("button",{onClick:v,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Mark all as read"})]}),s.jsx("div",{className:"overflow-y-auto flex-1",children:f.length===0?s.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[s.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):s.jsx("div",{className:"divide-y divide-gray-100",children:f.map(p=>s.jsx("div",{onClick:()=>h(p),className:`px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors ${p.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${p.notification_type==="wishlist_activity"?"bg-purple-100":p.notification_type==="order_update"?"bg-green-100":"bg-blue-100"}`,children:p.notification_type==="wishlist_activity"?s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"})}):p.notification_type==="order_update"?s.jsxs("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),s.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}):s.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-0.5 line-clamp-2",children:p.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g(p.created_at)})]}),!p.is_read&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"inline-block w-2 h-2 bg-blue-600 rounded-full"})})]})},p.notification_id))})})]})]})},CC=()=>{const e=q(h=>h.authentication_state.current_user),t=q(h=>h.authentication_state.auth_token),r=()=>"https://123luxury-fragrance-brand.launchpulse.ai",n=()=>({Authorization:`Bearer ${t}`,"Content-Type":"application/json"}),{data:a}=ce({queryKey:["hostProfile"],queryFn:async()=>(await ee.get(`${r()}/api/users/profile`,{headers:n()})).data,enabled:!!t,staleTime:5*60*1e3}),i=[{villa_id:"villa_001",name:"Sunset Villa",location:"Malibu, CA",status:"active",nightly_rate:850,total_bookings:12},{villa_id:"villa_002",name:"Ocean View Estate",location:"Miami, FL",status:"active",nightly_rate:1200,total_bookings:8}],o=[{reservation_id:"res_001",villa_name:"Sunset Villa",guest_name:"John Doe",check_in:"2025-12-15",check_out:"2025-12-20",status:"confirmed",total_amount:4250},{reservation_id:"res_002",villa_name:"Ocean View Estate",guest_name:"Jane Smith",check_in:"2025-12-18",check_out:"2025-12-25",status:"pending",total_amount:8400}],l={total_revenue:45600,current_month_revenue:12650,completed_bookings:20,active_villas:2},c=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),d=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=h=>{const v={active:{color:"bg-green-100 text-green-800",text:"Active"},inactive:{color:"bg-gray-100 text-gray-800",text:"Inactive"},confirmed:{color:"bg-blue-100 text-blue-800",text:"Confirmed"},pending:{color:"bg-yellow-100 text-yellow-800",text:"Pending"},completed:{color:"bg-green-100 text-green-800",text:"Completed"},cancelled:{color:"bg-red-100 text-red-800",text:"Cancelled"}},g=v[h]||v.pending;return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.color}`,children:g.text})},m=(a==null?void 0:a.first_name)||(e==null?void 0:e.first_name)||"Host";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Host Dashboard - Welcome, ",m,"!"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your villas, reservations, and revenue"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(SC,{}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg",children:[s.jsx("div",{className:"text-sm font-medium",children:"HOST ACCOUNT"}),s.jsx("div",{className:"text-xs opacity-90",children:"Premium Member"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(l.total_revenue)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsxs("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"This Month"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(l.current_month_revenue)})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Villas"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.active_villas})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed Bookings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.completed_bookings})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Villas"}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Add New Villa"})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:i.map(h=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:h.name}),u(h.status)]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[h.location,"  ",h.total_bookings," bookings"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-semibold text-gray-900",children:[c(h.nightly_rate),"/night"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Edit"}),s.jsx("button",{className:"text-xs text-gray-600 hover:text-gray-700 font-medium",children:"View Stats"})]})]})]})},h.villa_id))})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mt-6",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Reservations"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:o.map(h=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"font-medium text-gray-900",children:h.villa_name}),u(h.status)]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Guest: ",h.guest_name]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[d(h.check_in)," - ",d(h.check_out)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-semibold text-gray-900",children:c(h.total_amount)})})]})},h.reservation_id))})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full text-left px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Add New Villa"}),s.jsx("div",{className:"text-xs text-gray-600",children:"List a new property"})]}),s.jsxs("button",{className:"w-full text-left px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"View Calendar"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Check availability"})]}),s.jsxs(V,{to:"/account/profile",className:"block w-full text-left px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Update Profile"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Edit your information"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Occupancy Rate"}),s.jsx("span",{className:"font-semibold text-gray-900",children:"78%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Avg. Rating"}),s.jsx("span",{className:"font-semibold text-gray-900",children:"4.8 "})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Response Time"}),s.jsx("span",{className:"font-semibold text-gray-900",children:"2.5 hrs"})]})]})]})]})]})]})]})},FC=()=>{const e=q(r=>r.authentication_state.current_user);return((e==null?void 0:e.user_role)||(e==null?void 0:e.role)||"customer")==="host"?s.jsx(CC,{}):s.jsx(kC,{})},J0=()=>{const[e]=qs(),t=fn(),r=e.get("redirect_to")||"/account",n=e.get("action"),[a,i]=j.useState(n==="register"),[o,l]=j.useState(n==="reset"),[c,d]=j.useState({email:"",password:"",remember_me:!1}),[u,m]=j.useState({email:"",password:"",confirm_password:"",first_name:"",last_name:"",phone_number:"",date_of_birth:"",newsletter_consent:!1,terms_accepted:!1}),[h,v]=j.useState({email:null,password:null,confirm_password:null,first_name:null,last_name:null,phone_number:null,date_of_birth:null,general:null}),[g,b]=j.useState({score:"weak",requirements:{length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}}),[f,p]=j.useState({provider:null,is_processing:!1,error:null}),[y,x]=j.useState(""),[_,w]=j.useState(!1),S=q(E=>E.authentication_state.authentication_status.is_authenticated),P=q(E=>E.authentication_state.authentication_status.is_loading),C=q(E=>E.authentication_state.error_message),R=q(E=>E.authentication_state.current_user),$=q(E=>E.login_user),Y=q(E=>E.register_user);q(E=>E.logout_user);const O=q(E=>E.clear_auth_error);q(E=>E.show_notification);const D=e.get("force_logout")==="true";j.useEffect(()=>{S&&R&&!D&&t(r)},[S,R,t,r,D]),j.useEffect(()=>{O(),v({email:null,password:null,confirm_password:null,first_name:null,last_name:null,phone_number:null,date_of_birth:null,general:null})},[a,O]);const Z=E=>{const te={length:E.length>=8,uppercase:/[A-Z]/.test(E),lowercase:/[a-z]/.test(E),number:/\d/.test(E),special:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(E)},ne=Object.values(te).filter(Boolean).length;let Q="weak";return ne>=4?Q="strong":ne>=3?Q="good":ne>=2&&(Q="fair"),{score:Q,requirements:te}},G=E=>E?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)?null:"Please enter a valid email address":"Email is required",N=(E,te=!1)=>E?!te&&E.length<8?"Password must be at least 8 characters long":null:"Password is required",F=(E,te)=>te?E!==te?"Passwords do not match":null:"Please confirm your password",I=(E,te)=>E.trim()?E.trim().length<2?`${te} must be at least 2 characters long`:null:`${te} is required`,k=E=>E&&!/^\+?[\d\s\-()]+$/.test(E)?"Please enter a valid phone number":null,B=E=>{if(E){const te=new Date(E);if(new Date().getFullYear()-te.getFullYear()<13)return"You must be at least 13 years old to create an account"}return null},z=(E,te)=>{d(ne=>({...ne,[E]:te})),(E==="email"||E==="password")&&v(ne=>({...ne,[E]:null,general:null}))},L=(E,te)=>{if(m(ne=>({...ne,[E]:te})),E==="password"&&b(Z(te)),v(ne=>({...ne,[E]:null,general:null})),E==="email"&&te){const ne=G(te);ne&&v(Q=>({...Q,email:ne}))}if(E==="confirm_password"&&te){const ne=F(u.password,te);ne&&v(Q=>({...Q,confirm_password:ne}))}},J=async E=>{E.preventDefault(),O();const te=G(c.email),ne=N(c.password,!0);if(te||ne){v(Q=>({...Q,email:te,password:ne}));return}try{await $(c.email,c.password)}catch(Q){console.error("Login error:",Q)}},A=async E=>{E.preventDefault(),O();const te={email:G(u.email),password:N(u.password),confirm_password:F(u.password,u.confirm_password),first_name:I(u.first_name,"First name"),last_name:I(u.last_name,"Last name"),phone_number:k(u.phone_number),date_of_birth:B(u.date_of_birth),general:null};if(u.terms_accepted||(te.general="You must accept the Terms and Conditions to create an account"),Object.values(te).some(Q=>Q!==null)){v(te);return}try{await Y({email:u.email,password:u.password,first_name:u.first_name,last_name:u.last_name,phone_number:u.phone_number||void 0,date_of_birth:u.date_of_birth||void 0})}catch(Q){console.error("Registration error:",Q)}},H=async E=>{E.preventDefault();const te=G(y);if(te){v(ne=>({...ne,email:te}));return}try{w(!0),v(ne=>({...ne,email:null}))}catch{v(ne=>({...ne,general:"Failed to send reset email. Please try again."}))}},ae=E=>{p({provider:E,is_processing:!0,error:null}),setTimeout(()=>{p({provider:null,is_processing:!1,error:"Social login not yet implemented"})},2e3)},ye=()=>{i(!a),l(!1),w(!1),O()},De=()=>{l(!0),i(!1),w(!1),O()},Qe=()=>{l(!1),w(!1),i(!1),O()},X=()=>{const E=()=>{switch(g.score){case"weak":return"bg-red-500";case"fair":return"bg-yellow-500";case"good":return"bg-blue-500";case"strong":return"bg-green-500";default:return"bg-gray-300"}},te=()=>{switch(g.score){case"weak":return"w-1/4";case"fair":return"w-2/4";case"good":return"w-3/4";case"strong":return"w-full";default:return"w-0"}};return s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Password strength:"}),s.jsx("span",{className:`text-sm font-medium ${g.score==="strong"?"text-green-600":g.score==="good"?"text-blue-600":g.score==="fair"?"text-yellow-600":"text-red-600"}`,children:g.score.charAt(0).toUpperCase()+g.score.slice(1)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${E()} ${te()}`})}),s.jsx("div",{className:"mt-2 text-xs text-gray-600",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:`flex items-center ${g.requirements.length?"text-green-600":"text-gray-400"}`,children:[s.jsx("span",{className:"mr-1",children:g.requirements.length?"":""}),"8+ characters"]}),s.jsxs("div",{className:`flex items-center ${g.requirements.uppercase?"text-green-600":"text-gray-400"}`,children:[s.jsx("span",{className:"mr-1",children:g.requirements.uppercase?"":""}),"Uppercase letter"]}),s.jsxs("div",{className:`flex items-center ${g.requirements.lowercase?"text-green-600":"text-gray-400"}`,children:[s.jsx("span",{className:"mr-1",children:g.requirements.lowercase?"":""}),"Lowercase letter"]}),s.jsxs("div",{className:`flex items-center ${g.requirements.number?"text-green-600":"text-gray-400"}`,children:[s.jsx("span",{className:"mr-1",children:g.requirements.number?"":""}),"Number"]}),s.jsxs("div",{className:`flex items-center ${g.requirements.special?"text-green-600":"text-gray-400"}`,children:[s.jsx("span",{className:"mr-1",children:g.requirements.special?"":""}),"Special character"]})]})})]})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-primary-200/30 to-secondary-200/30 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-secondary-200/30 to-primary-200/30 rounded-full blur-3xl"})]}),s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md relative z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center shadow-large",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})}),s.jsx("h1",{className:"text-4xl font-display font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent mb-2",children:"LuxeScent"}),s.jsx("p",{className:"text-neutral-600 font-medium",children:"Discover Your Signature Scent"})]})}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md relative z-10",children:s.jsx("div",{className:"bg-white/80 backdrop-blur-xl py-10 px-6 shadow-large rounded-3xl border border-white/20 sm:px-12",children:o?s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:_?"Check your email for reset instructions":"Enter your email to receive reset instructions"})]}),_?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mb-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Email sent!"}),s.jsx("div",{className:"mt-2 text-sm text-green-700",children:s.jsxs("p",{children:["We've sent password reset instructions to ",y]})})]})]})}),s.jsx("button",{onClick:Qe,className:"text-purple-600 hover:text-purple-500 text-sm font-medium",children:"Back to sign in"})]}):s.jsxs("form",{onSubmit:H,className:"space-y-6",children:[h.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:s.jsx("p",{className:"text-sm",children:h.general})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"reset-email",name:"email",type:"email",autoComplete:"email",required:!0,value:y,onChange:E=>{x(E.target.value),v(te=>({...te,email:null}))},className:`appearance-none block w-full px-3 py-2 border ${h.email?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"Enter your email address"}),h.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:"Send Reset Instructions"})}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:Qe,className:"text-purple-600 hover:text-purple-500 text-sm font-medium",children:"Back to sign in"})})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-display font-bold text-neutral-900 mb-2",children:a?"Create Your Account":"Welcome Back"}),s.jsx("p",{className:"text-neutral-600",children:a?"Join our luxury fragrance community":"Sign in to your account"})]}),s.jsxs("div",{className:"space-y-3 mb-8",children:[s.jsxs("button",{onClick:()=>ae("google"),disabled:f.is_processing,className:"w-full flex justify-center items-center px-6 py-3 border border-neutral-200 rounded-2xl shadow-soft bg-white text-sm font-medium text-neutral-700 hover:bg-neutral-50 hover:shadow-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500/20 transition-all duration-200 disabled:opacity-50 group",children:[s.jsxs("svg",{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform duration-200",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),s.jsxs("button",{onClick:()=>ae("facebook"),disabled:f.is_processing,className:"w-full flex justify-center items-center px-6 py-3 border border-neutral-200 rounded-2xl shadow-soft bg-white text-sm font-medium text-neutral-700 hover:bg-neutral-50 hover:shadow-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500/20 transition-all duration-200 disabled:opacity-50 group",children:[s.jsx("svg",{className:"w-5 h-5 mr-3 group-hover:scale-110 transition-transform duration-200",fill:"#1877F2",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),f.error&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:s.jsx("p",{className:"text-sm",children:f.error})}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-neutral-200"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white text-neutral-500 font-medium",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:a?A:J,className:"space-y-6",children:[(C||h.general)&&s.jsx("div",{className:"bg-red-50 border border-red-400 text-red-800 px-4 py-3 rounded-md shadow-sm",role:"alert",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium",children:C||h.general})})]})}),a&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"First Name *"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"first-name",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:u.first_name,onChange:E=>L("first_name",E.target.value),className:`appearance-none block w-full px-3 py-2 border ${h.first_name?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"First name"}),h.first_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.first_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Last Name *"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"last-name",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:u.last_name,onChange:E=>L("last_name",E.target.value),className:`appearance-none block w-full px-3 py-2 border ${h.last_name?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"Last name"}),h.last_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.last_name})]})]})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a?u.email:c.email,onChange:E=>{a?L("email",E.target.value):z("email",E.target.value)},className:`appearance-none block w-full px-3 py-2 border ${h.email?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"Enter your email"}),h.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email})]})]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number (Optional)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:u.phone_number,onChange:E=>L("phone_number",E.target.value),className:`appearance-none block w-full px-3 py-2 border ${h.phone_number?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"+1 (555) 123-4567"}),h.phone_number&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.phone_number})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700",children:"Date of Birth (Optional)"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"dob",name:"dob",type:"date",value:u.date_of_birth,onChange:E=>L("date_of_birth",E.target.value),className:`appearance-none block w-full px-3 py-2 border ${h.date_of_birth?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`}),h.date_of_birth&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.date_of_birth})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:a?"new-password":"current-password",required:!0,value:a?u.password:c.password,onChange:E=>{a?L("password",E.target.value):z("password",E.target.value)},className:`appearance-none block w-full px-3 py-2 border ${h.password?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"Enter your password"}),h.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password})]}),a&&u.password&&s.jsx(X,{})]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("input",{id:"confirm-password",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:u.confirm_password,onChange:E=>L("confirm_password",E.target.value),className:`appearance-none block w-full px-3 py-2 border ${h.confirm_password?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm`,placeholder:"Confirm your password"}),h.confirm_password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.confirm_password})]})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-purple-900 mb-2",children:"Account Benefits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-purple-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Order tracking"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Save favorites"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Faster checkout"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Exclusive offers"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"newsletter",name:"newsletter",type:"checkbox",checked:u.newsletter_consent,onChange:E=>L("newsletter_consent",E.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"newsletter",className:"ml-2 block text-sm text-gray-700",children:"Subscribe to newsletter for exclusive offers and new arrivals"})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{id:"terms",name:"terms",type:"checkbox",checked:u.terms_accepted,onChange:E=>L("terms_accepted",E.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded mt-0.5"}),s.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I accept the"," ",s.jsx(V,{to:"/terms",className:"text-purple-600 hover:text-purple-500",children:"Terms and Conditions"})," ","and"," ",s.jsx(V,{to:"/privacy",className:"text-purple-600 hover:text-purple-500",children:"Privacy Policy"})," ","*"]})]})]})]}),!a&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:c.remember_me,onChange:E=>z("remember_me",E.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),s.jsx("div",{className:"text-sm",children:s.jsx("button",{type:"button",onClick:De,className:"text-purple-600 hover:text-purple-500",children:"Forgot password?"})})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:P,className:"w-full flex justify-center py-4 px-6 border border-transparent rounded-2xl shadow-medium text-sm font-semibold text-white bg-gradient-to-r from-primary-600 to-secondary-600 hover:from-primary-700 hover:to-secondary-700 hover:shadow-large focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",children:P?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a?"Creating account...":"Signing in..."]}):a?"Create Account":"Sign In"})}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:ye,className:"text-purple-600 hover:text-purple-500 text-sm font-medium",children:a?"Already have an account? Sign in":"Don't have an account? Create one"})})]})]})})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(V,{to:"/",className:"text-gray-600 hover:text-gray-900 text-sm",children:"Continue shopping as guest"})})]})})},PC=()=>{var X;const e=q(E=>E.authentication_state.current_user),t=q(E=>E.authentication_state.auth_token),r=q(E=>E.add_to_cart),n=q(E=>E.show_notification),[a,i]=j.useState(null),[o,l]=j.useState([]),[c,d]=j.useState(!1),[u,m]=j.useState(!1),[h,v]=j.useState(!1),[g,b]=j.useState(!1),[f,p]=j.useState(!1),[y,x]=j.useState(""),[_,w]=j.useState(""),[S,P]=j.useState(null),[C,R]=j.useState({public_url:null,share_token:null,is_sharing_enabled:!1,privacy_level:"private"}),$=bs(),Y=()=>"https://123luxury-fragrance-brand.launchpulse.ai",O=()=>({"Content-Type":"application/json",Authorization:`Bearer ${t}`}),{data:D=[],isLoading:Z,error:G}=ce({queryKey:["wishlists",e==null?void 0:e.user_id],queryFn:async()=>(await ee.get(`${Y()}/api/wishlists`,{headers:O()})).data.map(te=>({...te,item_count:te.items?te.items.length:0})),enabled:!!e&&!!t,staleTime:6e4,refetchOnWindowFocus:!1});j.useEffect(()=>{if(D.length>0&&!a){const E=D.find(te=>te.is_default)||D[0];i(E.wishlist_id)}},[D,a]);const{data:N,isLoading:F}=ce({queryKey:["wishlist",a],queryFn:async()=>{if(!a)throw new Error("No wishlist selected");return(await ee.get(`${Y()}/api/wishlists/${a}`,{headers:O()})).data},enabled:!!a&&!!t,staleTime:3e4,refetchOnWindowFocus:!1}),I=((X=N==null?void 0:N.items)==null?void 0:X.map(E=>{const te=E.product||E;return{wishlist_item_id:E.wishlist_item_id,product_id:E.product_id,product_name:te.product_name,brand_name:te.brand_name,current_price:Number(te.base_price||0),original_price:te.sale_price?Number(te.sale_price):null,size_ml:E.size_ml,stock_status:te.availability_status||"in_stock",price_change:null,added_at:E.added_at,notes:E.notes,product_image_url:te.image_url||te.product_image||"https://picsum.photos/300/300"}}))||[],k=ve({mutationFn:async E=>{await ee.delete(`${Y()}/api/wishlists/${a}/items/${E}`,{headers:O()})},onSuccess:()=>{$.invalidateQueries({queryKey:["wishlist",a]}),$.invalidateQueries({queryKey:["wishlists",e==null?void 0:e.user_id]}),n({type:"success",message:"Item removed from wishlist",auto_dismiss:!0,duration:3e3})},onError:E=>{var te,ne;n({type:"error",message:((ne=(te=E.response)==null?void 0:te.data)==null?void 0:ne.message)||"Failed to remove item",auto_dismiss:!0,duration:5e3})}}),B=ve({mutationFn:async E=>{await r({product_id:E.product_id,product_name:E.product_name,brand_name:E.brand_name,size_ml:E.size_ml||50,quantity:1,unit_price:E.current_price,gift_wrap:!1,sample_included:!1})},onSuccess:()=>{n({type:"success",message:"Item added to cart",auto_dismiss:!0,duration:3e3})},onError:()=>{n({type:"error",message:"Failed to add item to cart",auto_dismiss:!0,duration:5e3})}}),z=ve({mutationFn:async E=>(await ee.post(`${Y()}/api/wishlists`,{wishlist_name:E,is_public:!1,is_default:!1},{headers:O()})).data,onSuccess:E=>{$.invalidateQueries({queryKey:["wishlists",e==null?void 0:e.user_id]}),v(!1),x(""),i(E.wishlist_id),n({type:"success",message:"New wishlist created successfully",auto_dismiss:!0,duration:3e3})},onError:E=>{var te,ne;n({type:"error",message:((ne=(te=E.response)==null?void 0:te.data)==null?void 0:ne.message)||"Failed to create wishlist",auto_dismiss:!0,duration:5e3})}}),L=ve({mutationFn:async({wishlist_id:E,wishlist_name:te,is_public:ne})=>(await ee.put(`${Y()}/api/wishlists/${E}`,{wishlist_name:te,is_public:ne},{headers:O()})).data,onSuccess:()=>{$.invalidateQueries({queryKey:["wishlists",e==null?void 0:e.user_id]}),$.invalidateQueries({queryKey:["wishlist",a]}),b(!1),w(""),n({type:"success",message:"Wishlist updated successfully",auto_dismiss:!0,duration:3e3})},onError:E=>{var te,ne;n({type:"error",message:((ne=(te=E.response)==null?void 0:te.data)==null?void 0:ne.message)||"Failed to update wishlist",auto_dismiss:!0,duration:5e3})}}),J=ve({mutationFn:async E=>{await ee.delete(`${Y()}/api/wishlists/${E}`,{headers:O()})},onSuccess:()=>{$.invalidateQueries({queryKey:["wishlists",e==null?void 0:e.user_id]}),p(!1),P(null),S===a&&i(null),n({type:"success",message:"Wishlist deleted successfully",auto_dismiss:!0,duration:3e3})},onError:E=>{var te,ne;n({type:"error",message:((ne=(te=E.response)==null?void 0:te.data)==null?void 0:ne.message)||"Failed to delete wishlist",auto_dismiss:!0,duration:5e3})}}),A=ve({mutationFn:async()=>(await ee.post(`${Y()}/api/wishlists/${a}/share`,{},{headers:O()})).data,onSuccess:E=>{R({public_url:E.public_url,share_token:E.share_token,is_sharing_enabled:!0,privacy_level:"link_only"}),m(!0),n({type:"success",message:"Share link generated successfully",auto_dismiss:!0,duration:3e3})},onError:E=>{var te,ne;n({type:"error",message:((ne=(te=E.response)==null?void 0:te.data)==null?void 0:ne.message)||"Failed to generate share link",auto_dismiss:!0,duration:5e3})}}),H=E=>{l(te=>te.includes(E)?te.filter(ne=>ne!==E):[...te,E])},ae=async()=>{for(const E of o)await k.mutateAsync(E);l([]),d(!1)},ye=()=>{const E=D.find(te=>te.wishlist_id===a);E&&(w(E.wishlist_name),b(!0))},De=E=>{P(E),p(!0)},Qe=async()=>{if(C.public_url)try{await navigator.clipboard.writeText(C.public_url),n({type:"success",message:"Share link copied to clipboard",auto_dismiss:!0,duration:3e3})}catch{n({type:"error",message:"Failed to copy link",auto_dismiss:!0,duration:3e3})}};return Z?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your wishlists..."})]})}):G?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unable to Load Wishlists"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Refresh Page"})]})})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wishlists"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[I.length," ",I.length===1?"item":"items"," in current list"]})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-wrap gap-3",children:[I.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>d(!c),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:c?"Cancel Selection":"Select Items"}),s.jsx("button",{onClick:()=>A.mutate(),disabled:A.isPending,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 transition-colors",children:A.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share Wishlist"]})})]}),s.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Wishlist"]})]})]}),D.length>0&&s.jsx("div",{className:"mt-6 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto flex-1",children:D.map(E=>s.jsxs("button",{onClick:()=>i(E.wishlist_id),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors ${a===E.wishlist_id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[E.wishlist_name,s.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:E.item_count||0})]},E.wishlist_id))}),a&&s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:ye,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"Edit wishlist name",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>De(a),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete wishlist",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),c&&o.length>0&&s.jsxs("div",{className:"mt-4 bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-purple-900",children:[o.length," ",o.length===1?"item":"items"," selected"]}),s.jsx("button",{onClick:ae,disabled:k.isPending,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 transition-colors",children:k.isPending?"Removing...":"Remove Selected"})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:F?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading wishlist items..."})]}):I.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-6",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your wishlist is empty"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Start adding your favorite fragrances to keep track of scents you love and want to try."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(V,{to:"/products?is_new_arrival=true",className:"inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Browse New Arrivals"}),s.jsx(V,{to:"/fragrance-finder",className:"inline-flex items-center px-6 py-3 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Take Fragrance Quiz"}),s.jsx(V,{to:"/products?is_featured=true",className:"inline-flex items-center px-6 py-3 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Featured Products"})]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(E=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden group hover:shadow-md transition-shadow",children:[c&&s.jsx("div",{className:"p-3 border-b border-gray-100",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:o.includes(E.wishlist_item_id),onChange:()=>H(E.wishlist_item_id),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Select"})]})}),s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"group-hover:scale-105 transition-transform duration-300",children:s.jsx(rt,{src:E.product_image_url,alt:E.product_name,productName:E.product_name,category:E.fragrance_family,aspectRatio:"3:4",objectFit:"cover"})}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.stock_status==="in_stock"?"bg-green-100 text-green-800":E.stock_status==="out_of_stock"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:E.stock_status==="in_stock"?"In Stock":E.stock_status==="out_of_stock"?"Out of Stock":"Limited"})}),E.original_price&&E.original_price!==E.current_price&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Sale"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:s.jsx(V,{to:`/products/${E.product_id}`,className:"hover:text-purple-600 transition-colors",children:E.product_name})}),s.jsx("p",{className:"text-sm text-gray-500",children:E.brand_name})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",E.current_price.toFixed(2)]}),E.original_price&&E.original_price!==E.current_price&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",E.original_price.toFixed(2)]})]}),E.size_ml&&s.jsxs("p",{className:"text-xs text-gray-500",children:[E.size_ml,"ml"]})]}),s.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["Added ",new Date(E.added_at).toLocaleDateString()]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>B.mutate(E),disabled:B.isPending||E.stock_status==="out_of_stock",className:"flex-1 bg-purple-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:B.isPending?"Adding...":"Add to Cart"}),s.jsx("button",{onClick:()=>k.mutate(E.wishlist_item_id),disabled:k.isPending,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors",title:"Remove from wishlist",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]},E.wishlist_item_id))})}),u&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Share Wishlist"}),s.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Link"}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"text",value:C.public_url||"",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md bg-gray-50 text-sm"}),s.jsx("button",{onClick:Qe,className:"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-white hover:bg-gray-50 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Anyone with this link can view your wishlist. They won't be able to edit it."}),s.jsx("div",{className:"flex justify-end space-x-3",children:s.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Close"})})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Wishlist"}),s.jsx("button",{onClick:()=>{v(!1),x("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:E=>{E.preventDefault(),y.trim()&&z.mutate(y.trim())},children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wishlist Name"}),s.jsx("input",{type:"text",value:y,onChange:E=>x(E.target.value),placeholder:"e.g., Holiday Gifts, Date Night Scents",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",maxLength:255,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{v(!1),x("")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:z.isPending||!y.trim(),className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 transition-colors",children:z.isPending?"Creating...":"Create Wishlist"})]})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Wishlist"}),s.jsx("button",{onClick:()=>{b(!1),w("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:E=>{if(E.preventDefault(),_.trim()&&a){const te=D.find(ne=>ne.wishlist_id===a);L.mutate({wishlist_id:a,wishlist_name:_.trim(),is_public:(te==null?void 0:te.is_public)||!1})}},children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wishlist Name"}),s.jsx("input",{type:"text",value:_,onChange:E=>w(E.target.value),placeholder:"Enter wishlist name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",maxLength:255,required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{b(!1),w("")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:L.isPending||!_.trim(),className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 transition-colors",children:L.isPending?"Updating...":"Update Wishlist"})]})]})]})}),f&&S&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Wishlist"}),s.jsx("button",{onClick:()=>{p(!1),P(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto mb-4 bg-red-100 rounded-full",children:s.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("p",{className:"text-center text-gray-700",children:"Are you sure you want to delete this wishlist? This action cannot be undone and will remove all items in the wishlist."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{p(!1),P(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>J.mutate(S),disabled:J.isPending,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 transition-colors",children:J.isPending?"Deleting...":"Delete Wishlist"})]})]})})]})})},AC=()=>{const[e,t]=qs(),[r,n]=j.useState({status:e.get("results")==="true"?"results":a.started_at?"questions":"intro",current_question:parseInt(e.get("step")||a.current_question.toString()||"0"),total_questions:15,can_navigate_back:a.current_question>0}),a=q(L=>L.user_preferences.quiz_in_progress),i=q(L=>L.update_quiz_progress),o=q(L=>L.clear_quiz_progress),[l,c]=j.useState(a.answers||{}),[d,u]=j.useState({percentage:0,completed_questions:0,estimated_time_remaining:300}),[m,h]=j.useState(null),[v,g]=j.useState([]),[b,f]=j.useState({is_saved:!1,save_attempted:!1,save_error:null}),p=q(L=>L.authentication_state.authentication_status.is_authenticated),y=q(L=>L.authentication_state.current_user),x=q(L=>L.authentication_state.auth_token),_=q(L=>L.update_quiz_results),w=q(L=>L.show_notification),S=async()=>(await ee.get("https://123luxury-fragrance-brand.launchpulse.ai/api/fragrance-quiz/questions")).data.map(J=>({question_id:J.question_id,question_text:J.question_text,question_type:J.question_type,options:J.options.map(A=>({option_id:A.option_id,option_text:A.option_text,image_url:A.image_url||"https://picsum.photos/200/200",value:A.value})),step:J.step,is_required:!0})),P=async L=>(await ee.post("https://123luxury-fragrance-brand.launchpulse.ai/api/fragrance-quiz/submit",L,{headers:{"Content-Type":"application/json"}})).data,C=async L=>{if(!x||!y)throw new Error("Authentication required");await ee.post("https://123luxury-fragrance-brand.launchpulse.ai/api/quiz/results/save",{quiz_result_id:L,user_id:y.user_id},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`}})},{data:R=[],isLoading:$,error:Y}=ce({queryKey:["quiz-questions"],queryFn:S,staleTime:3e5,retry:2}),O=ve({mutationFn:P,onSuccess:L=>{const J={quiz_result_id:L.quiz_result_id,personality_type:L.personality_type,recommended_families:JSON.parse(L.recommended_families),intensity_preference:L.intensity_preference,occasion_preferences:JSON.parse(L.occasion_preferences||"[]"),season_preferences:JSON.parse(L.season_preferences||"[]"),confidence_score:L.confidence_score||85};h(J),g(L.recommended_products||[]),n(A=>({...A,status:"results"})),t({results:"true"}),_({personality_type:J.personality_type,recommended_families:J.recommended_families,completed_at:new Date().toISOString()}),o(),w({type:"success",message:"Quiz completed! Your personalized recommendations are ready.",auto_dismiss:!0,duration:5e3})},onError:L=>{var J,A;w({type:"error",message:((A=(J=L.response)==null?void 0:J.data)==null?void 0:A.message)||"Failed to process quiz results. Please try again.",auto_dismiss:!0,duration:5e3})}}),D=ve({mutationFn:C,onSuccess:()=>{f({is_saved:!0,save_attempted:!0,save_error:null}),w({type:"success",message:"Quiz results saved to your profile for personalized recommendations!",auto_dismiss:!0,duration:5e3})},onError:L=>{f({is_saved:!1,save_attempted:!0,save_error:L.message||"Failed to save results"}),w({type:"error",message:"Failed to save results to your profile. Please try again.",auto_dismiss:!0,duration:5e3})}});j.useEffect(()=>{R.length>0&&(n(L=>({...L,total_questions:R.length})),a.started_at&&Object.keys(a.answers).length>0&&w({type:"info",message:"Your quiz progress has been restored. Continue where you left off!",auto_dismiss:!0,duration:5e3}))},[R]),j.useEffect(()=>{const L=Object.keys(l).length,J=R.length,A=J>0?L/J*100:0,H=Math.max(0,(J-L)*20);u({percentage:A,completed_questions:L,estimated_time_remaining:H})},[l,R.length]);const Z=L=>{const J=["romantic_dreamer","confident_leader","creative_explorer","sophisticated_classic"],A=["floral","oriental","fresh","woody"],H=["light","moderate","strong"],ae=["office","evening","casual","special_events"],ye=["spring","summer","fall","winter"],De=Object.values(L),Qe=J[De.length%J.length],X=A.slice(0,2+De.length%3),E=H[De.length%H.length],te=ae.slice(0,2+De.length%3),ne=ye.slice(0,2+De.length%3);return{personality_type:Qe,quiz_answers:JSON.stringify(L),recommended_families:JSON.stringify(X),intensity_preference:E,occasion_preferences:JSON.stringify(te),season_preferences:JSON.stringify(ne)}},G=(L,J)=>{const A={...l,[L]:J};if(c(A),r.current_question<R.length-1){const H=r.current_question+1;n(ae=>({...ae,current_question:H,can_navigate_back:!0})),t({step:H.toString()}),i(A,H)}else i(A,r.current_question)},N=()=>{if(Object.keys(l).length<R.length){w({type:"warning",message:"Please answer all questions before submitting.",auto_dismiss:!0,duration:3e3});return}n(J=>({...J,status:"processing"}));const L=Z(l);O.mutate(L)},F=L=>{n(J=>({...J,current_question:L,can_navigate_back:L>0})),t({step:L.toString()}),i(l,L)},I=()=>{n({status:"intro",current_question:0,total_questions:R.length,can_navigate_back:!1}),c({}),u({percentage:0,completed_questions:0,estimated_time_remaining:300}),h(null),g([]),f({is_saved:!1,save_attempted:!1,save_error:null}),t({}),o()},k=()=>{if(!p){w({type:"info",message:"Please log in to save your quiz results.",auto_dismiss:!0,duration:3e3});return}if(!(m!=null&&m.quiz_result_id)){w({type:"error",message:"No quiz results to save.",auto_dismiss:!0,duration:3e3});return}D.mutate(m.quiz_result_id)},B=R[r.current_question],z=r.current_question===R.length-1;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Fragrance Discovery Quiz"}),r.status==="questions"&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Question ",r.current_question+1," of ",r.total_questions]})]}),r.status==="questions"&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[s.jsxs("span",{children:[d.completed_questions," questions completed"]}),s.jsxs("span",{children:[Math.ceil(d.estimated_time_remaining/60)," min remaining"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${d.percentage}%`}})})]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[$&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading quiz questions..."})]}),Y&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Unable to Load Quiz"}),s.jsx("p",{className:"text-red-600 mb-4",children:"There was an error loading the quiz questions. Please try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]}),r.status==="intro"&&!$&&!Y&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Discover Your Perfect Fragrance"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Take our personalized quiz to find fragrances that match your unique style and preferences. Get expert recommendations tailored just for you."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Personalized Recommendations"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Get fragrances matched to your personality and lifestyle"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Quick & Easy"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Only 3-5 minutes to complete with visual questions"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Expert Matching"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Algorithm based on fragrance expert knowledge"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Privacy Protected"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Your responses are secure and never shared"})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("button",{onClick:()=>{const L=a.started_at&&Object.keys(a.answers).length>0;n(J=>({...J,status:"questions",current_question:L?a.current_question:0,can_navigate_back:L&&a.current_question>0})),t({step:L?a.current_question.toString():"0"})},className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 transform hover:scale-105",children:a.started_at&&Object.keys(a.answers).length>0?"Continue Quiz":"Start Quiz"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[R.length," questions  ~",Math.ceil(R.length*20/60)," minutes",a.started_at&&Object.keys(a.answers).length>0&&s.jsxs("span",{className:"block text-purple-600 font-medium mt-1",children:[Object.keys(a.answers).length," questions already answered"]})]})]})]}),r.status==="questions"&&B&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:B.question_text}),B.question_type==="scale"&&s.jsx("p",{className:"text-gray-600 text-sm",children:"Rate from 1 (strongly disagree) to 5 (strongly agree)"})]}),(B.question_type==="single_choice"||B.question_type==="multiple_choice")&&s.jsx("div",{className:"space-y-3",children:B.options.map(L=>s.jsx("button",{onClick:()=>G(B.question_id,L.value),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${l[B.question_id]===L.value?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${l[B.question_id]===L.value?"border-purple-500 bg-purple-500":"border-gray-300"}`,children:l[B.question_id]===L.value&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})}),s.jsx("span",{className:"font-medium text-gray-900",children:L.option_text})]})},L.option_id))}),B.question_type==="image_selection"&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:B.options.map(L=>s.jsxs("button",{onClick:()=>G(B.question_id,L.value),className:`relative rounded-lg overflow-hidden border-4 transition-all duration-200 ${l[B.question_id]===L.value?"border-purple-500 transform scale-105":"border-gray-200 hover:border-purple-300"}`,children:[s.jsx(rt,{src:L.image_url,alt:L.option_text,productName:L.option_text,aspectRatio:"auto",objectFit:"cover",className:"w-full h-32"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-end",children:s.jsx("div",{className:"p-3 text-white",children:s.jsx("p",{className:"text-sm font-medium",children:L.option_text})})}),l[B.question_id]===L.value&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},L.option_id))}),B.question_type==="scale"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-between items-center",children:[1,2,3,4,5].map(L=>s.jsx("button",{onClick:()=>G(B.question_id,L),className:`w-12 h-12 rounded-full border-2 font-medium transition-all duration-200 ${l[B.question_id]===L?"border-purple-500 bg-purple-500 text-white":"border-gray-300 text-gray-700 hover:border-purple-300"}`,children:L},L))}),s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Strongly Disagree"}),s.jsx("span",{children:"Strongly Agree"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{r.current_question>0&&F(r.current_question-1)},disabled:!r.can_navigate_back,className:"px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{const L=r.current_question+1;L<R.length&&F(L)},disabled:!l[B.question_id],className:"px-4 py-2 text-purple-600 hover:text-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip"}),z?s.jsx("button",{onClick:N,disabled:!l[B.question_id],className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Complete Quiz"}):s.jsx("button",{onClick:()=>{const L=r.current_question+1;F(L)},disabled:!l[B.question_id],className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Next "})]})]})]}),r.status==="processing"&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analyzing Your Preferences"}),s.jsx("p",{className:"text-gray-600",children:"We're creating your personalized fragrance profile..."})]}),r.status==="results"&&m&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl shadow-lg p-8 text-white",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Your Fragrance Profile"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Personality Type"}),s.jsx("p",{className:"text-purple-100 capitalize",children:m.personality_type.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Recommended Families"}),s.jsx("p",{className:"text-purple-100 capitalize",children:m.recommended_families.join(", ")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Confidence Score"}),s.jsxs("p",{className:"text-purple-100",children:[m.confidence_score,"% match accuracy"]})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[p&&!b.is_saved&&s.jsx("button",{onClick:k,disabled:D.isPending,className:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:D.isPending?"Saving...":"Save to Profile"}),b.is_saved&&s.jsx("div",{className:"px-4 py-2 bg-green-500 text-white rounded-lg",children:" Saved to Profile"}),s.jsx("button",{onClick:I,className:"px-4 py-2 bg-white bg-opacity-20 text-white rounded-lg hover:bg-opacity-30",children:"Retake Quiz"})]})]}),v.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Perfect Matches"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.slice(0,6).map(L=>s.jsxs(V,{to:`/products/${L.product_id}`,className:"group border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"group-hover:scale-105 transition-transform duration-200",children:s.jsx(rt,{src:L.image_url,alt:L.product_name,productName:L.product_name,category:L.fragrance_families,aspectRatio:"3:4",objectFit:"cover",className:"h-48"})}),s.jsxs("div",{className:"absolute top-2 right-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:[L.match_percentage,"% match"]})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:L.product_name}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:L.brand_name}),s.jsxs("p",{className:"text-purple-600 font-medium",children:["$",L.base_price]}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:L.match_reason})]})]},L.product_id))}),s.jsx("div",{className:"text-center mt-8",children:s.jsxs(V,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:["View All Recommendations",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 text-center",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Want to Try Before You Buy?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Order sample sets of your recommended fragrances to find your perfect match risk-free."}),s.jsxs(V,{to:"/samples",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:["Explore Sample Sets",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})]})})},EC=()=>{const[e]=qs(),t=bs(),r=e.get("set_type"),n=e.get("fragrance_family"),a=q(k=>k.authentication_state.current_user),i=q(k=>k.authentication_state.authentication_status.is_authenticated),o=q(k=>k.authentication_state.auth_token),l=q(k=>k.user_preferences.fragrance_profile),c=q(k=>k.user_preferences.quiz_results),d=q(k=>k.show_notification),[u,m]=j.useState({items:[],subtotal:0,shipping_cost:0,total:0}),[h,v]=j.useState({selected_samples:[],set_size_limit:12,total_price:0,discount_percentage:0,set_name:""}),[g,b]=j.useState("individual"),[f,p]=j.useState({brand_id:"",fragrance_family:n||"",price_range:""}),y=()=>"https://123luxury-fragrance-brand.launchpulse.ai",x=k=>{const B=k.reduce((z,L)=>z+L.quantity,0);return B===0?0:B<=3?5:B<=6?8:12},_=k=>k>=10?15:k>=8?10:k>=5?5:0,{data:w=[],isLoading:S}=ce({queryKey:["sample-sets",r,n],queryFn:async()=>{const k={};return r&&(k.set_type=r),n&&(k.fragrance_family=n),(await ee.get(`${y()}/api/samples`,{params:k})).data.map(z=>{var L;return{set_id:z.set_id,set_name:z.set_name,description:z.description,set_type:z.set_type,sample_count:z.sample_count,price:z.price,savings_amount:z.savings_amount||0,products:((L=z.products)==null?void 0:L.map(J=>({product_id:J.product_id,product_name:J.product_name,brand_name:J.brand_name,sample_size_ml:J.sample_size_ml||2})))||[],image_url:z.image_url||"https://picsum.photos/400/300"}})},staleTime:5*60*1e3}),{data:P=[],isLoading:C}=ce({queryKey:["individual-samples",f.brand_id],queryFn:async()=>{var z;const k={per_page:20,page:1};return f.brand_id&&(k.brand_id=f.brand_id),((z=(await ee.get(`${y()}/api/samples/individual`,{params:k})).data.data)==null?void 0:z.map(L=>({product_id:L.product.product_id,product_name:L.product.product_name,brand_name:L.product.brand_name,fragrance_families:L.product.fragrance_families?L.product.fragrance_families.split(","):[],concentration:L.product.concentration,sample_sizes:[{size_ml:L.sample_size_ml,price:L.sample_price}],is_available:L.is_available,product_image_url:L.product.image_url||"https://picsum.photos/300/300",notes_preview:`${L.product.top_notes||""}, ${L.product.middle_notes||""}`.substring(0,100)})))||[]},staleTime:5*60*1e3}),{data:R=[]}=ce({queryKey:["sample-order-history"],queryFn:async()=>{var B;return((B=(await ee.get(`${y()}/api/sample-orders`,{params:{page:1,per_page:10},headers:{Authorization:`Bearer ${o}`}})).data.data)==null?void 0:B.map(z=>({sample_order_id:z.sample_order_id,sample_order_number:z.sample_order_number,order_status:z.order_status,total_amount:z.total_amount,created_at:z.created_at,items_count:z.items?z.items.length:0,tracking_number:z.tracking_number})))||[]},enabled:i&&!!o,staleTime:5*60*1e3}),{data:$=[]}=ce({queryKey:["sample-recommendations",a==null?void 0:a.user_id],queryFn:async()=>{var L;const k={sample_only:!0,limit:6};(l||c)&&(k.based_on="user_profile");const B={};return o&&(B.Authorization=`Bearer ${o}`),((L=(await ee.get(`${y()}/api/products/recommendations`,{params:k,headers:B})).data)==null?void 0:L.map(J=>({product_id:J.product_id,product_name:J.product_name,brand_name:J.brand_name,match_reason:J.recommendation_reason||"Recommended for you",sample_price:J.sample_price||5,match_score:J.match_score||80})))||[]},enabled:i&&(!!l||!!c),staleTime:10*60*1e3}),Y=ve({mutationFn:async k=>{const B={"Content-Type":"application/json"};return o&&(B.Authorization=`Bearer ${o}`),(await ee.post(`${y()}/api/sample-orders`,k,{headers:B})).data},onSuccess:()=>{m({items:[],subtotal:0,shipping_cost:0,total:0}),v({selected_samples:[],set_size_limit:12,total_price:0,discount_percentage:0,set_name:""}),d({type:"success",message:"Sample order placed successfully! You'll receive tracking information via email.",auto_dismiss:!0,duration:5e3}),i&&t.invalidateQueries({queryKey:["sample-order-history"]})},onError:k=>{var B,z;d({type:"error",message:((z=(B=k.response)==null?void 0:B.data)==null?void 0:z.message)||"Failed to place sample order",auto_dismiss:!0,duration:5e3})}}),O=k=>{const B={type:k.type,product_id:k.product_id||null,set_id:k.set_id||null,product_name:k.product_name,brand_name:k.brand_name,sample_size_ml:k.sample_size_ml,quantity:1,unit_price:k.unit_price,total_price:k.unit_price};m(z=>{const L=[...z.items,B],J=L.reduce((H,ae)=>H+ae.total_price,0),A=x(L);return{items:L,subtotal:J,shipping_cost:A,total:J+A}}),d({type:"success",message:"Sample added to cart",auto_dismiss:!0,duration:3e3})},D=k=>{m(B=>{const z=B.items.filter((A,H)=>H!==k),L=z.reduce((A,H)=>A+H.total_price,0),J=x(z);return{items:z,subtotal:L,shipping_cost:J,total:L+J}})},Z=k=>{if(h.selected_samples.length>=h.set_size_limit){d({type:"warning",message:`Custom set limit of ${h.set_size_limit} samples reached`,auto_dismiss:!0,duration:3e3});return}const B={product_id:k.product_id,product_name:k.product_name,brand_name:k.brand_name,sample_size_ml:k.sample_sizes[0].size_ml,price:k.sample_sizes[0].price,image_url:k.product_image_url};v(z=>{const L=[...z.selected_samples,B],J=L.reduce((H,ae)=>H+ae.price,0),A=_(L.length);return{...z,selected_samples:L,total_price:J*(1-A/100),discount_percentage:A,set_name:z.set_name||"My Custom Discovery Set"}})},G=k=>{v(B=>{const z=B.selected_samples.filter(A=>A.product_id!==k),L=z.reduce((A,H)=>A+H.price,0),J=_(z.length);return{...B,selected_samples:z,total_price:L*(1-J/100),discount_percentage:J}})},N=()=>{if(h.selected_samples.length===0){d({type:"warning",message:"Please add samples to your custom set first",auto_dismiss:!0,duration:3e3});return}O({type:"set",set_id:"custom_"+Date.now(),product_name:h.set_name,brand_name:"Custom Set",sample_size_ml:2,unit_price:h.total_price}),v({selected_samples:[],set_size_limit:12,total_price:0,discount_percentage:0,set_name:""})},F={testing_guide:{steps:["Apply sample to clean skin (wrist or inner elbow)","Wait 15 minutes for top notes to develop","Check scent after 1 hour for heart notes","Evaluate after 4-6 hours for base notes","Test at different times of day","Try on different weather conditions"],tips:["Don't test more than 3 fragrances per day","Avoid wearing other scented products","Test on skin, not paper strips","Give each fragrance time to develop","Keep notes on your reactions"]},fragrance_families:[{family:"Fresh",description:"Clean, light, and energizing scents",example_notes:["Citrus","Marine","Green"]},{family:"Floral",description:"Romantic and feminine flower-based scents",example_notes:["Rose","Jasmine","Peony"]},{family:"Oriental",description:"Warm, exotic, and sensual scents",example_notes:["Vanilla","Amber","Spices"]},{family:"Woody",description:"Warm, dry, and sophisticated scents",example_notes:["Sandalwood","Cedar","Vetiver"]}]},I=()=>{if(u.items.length===0){d({type:"warning",message:"Your sample cart is empty",auto_dismiss:!0,duration:3e3});return}const k=(a==null?void 0:a.email)||"guest@example.com";Y.mutate({items:u.items,customer_email:k,shipping_address_id:"default_address"})};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-900 via-purple-800 to-indigo-900 text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Discover Before You Commit"}),s.jsx("p",{className:"text-xl text-purple-100 mb-8 max-w-3xl mx-auto",children:"Try luxury fragrances risk-free with our comprehensive sample program. From individual 2ml vials to curated discovery sets, find your perfect scent without the commitment."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-200",children:"2ml"}),s.jsx("div",{className:"text-sm",children:"Sample Size"}),s.jsx("div",{className:"text-xs text-purple-300",children:"~30 applications"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-200",children:"$3-5"}),s.jsx("div",{className:"text-sm",children:"Sample Price"}),s.jsx("div",{className:"text-xs text-purple-300",children:"Credit toward full size"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-200",children:"15%"}),s.jsx("div",{className:"text-sm",children:"Bulk Discount"}),s.jsx("div",{className:"text-xs text-purple-300",children:"On 10+ samples"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"border-b border-gray-200 mb-8",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"individual",label:"Individual Samples",count:P.length},{id:"sets",label:"Discovery Sets",count:w.length},{id:"custom",label:"Custom Set Builder",count:h.selected_samples.length},{id:"education",label:"Testing Guide",count:null}].map(k=>s.jsxs("button",{onClick:()=>b(k.id),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${g===k.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[k.label,k.count!==null&&s.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:k.count})]},k.id))})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-3",children:[$.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg p-6 mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recommended for You"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.slice(0,3).map(k=>s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:k.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:k.brand_name}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:k.match_reason}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",k.sample_price]}),s.jsx("button",{onClick:()=>O({type:"individual",product_id:k.product_id,product_name:k.product_name,brand_name:k.brand_name,sample_size_ml:2,unit_price:k.sample_price}),className:"text-xs bg-purple-600 text-white px-3 py-1 rounded hover:bg-purple-700",children:"Add Sample"})]})]},k.product_id))})]}),g==="individual"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Individual Samples"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("select",{value:f.brand_id,onChange:k=>p(B=>({...B,brand_id:k.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[s.jsx("option",{value:"",children:"All Brands"}),s.jsx("option",{value:"brand_001",children:"Chanel"}),s.jsx("option",{value:"brand_002",children:"Dior"}),s.jsx("option",{value:"brand_003",children:"Tom Ford"})]}),s.jsxs("select",{value:f.fragrance_family,onChange:k=>p(B=>({...B,fragrance_family:k.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md text-sm",children:[s.jsx("option",{value:"",children:"All Families"}),s.jsx("option",{value:"fresh",children:"Fresh"}),s.jsx("option",{value:"floral",children:"Floral"}),s.jsx("option",{value:"oriental",children:"Oriental"}),s.jsx("option",{value:"woody",children:"Woody"})]})]})]}),C?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((k,B)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-200 aspect-square rounded-lg mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},B))}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(k=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rt,{src:k.product_image_url,alt:k.product_name,productName:k.product_name,category:k.fragrance_families.join(", "),aspectRatio:"3:4",objectFit:"cover"}),!k.is_available&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium",children:"Out of Stock"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:k.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:k.brand_name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.concentration}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:k.fragrance_families.slice(0,2).map(B=>s.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:B},B))}),s.jsx("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2",children:k.notes_preview}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",k.sample_sizes[0].price]}),s.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",k.sample_sizes[0].size_ml,"ml)"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>Z(k),disabled:!k.is_available||h.selected_samples.length>=h.set_size_limit,className:"text-xs text-purple-600 hover:text-purple-700 disabled:text-gray-400",children:"+ Custom Set"}),s.jsx("button",{onClick:()=>O({type:"individual",product_id:k.product_id,product_name:k.product_name,brand_name:k.brand_name,sample_size_ml:k.sample_sizes[0].size_ml,unit_price:k.sample_sizes[0].price}),disabled:!k.is_available,className:"bg-purple-600 text-white text-xs px-3 py-1 rounded hover:bg-purple-700 disabled:bg-gray-300",children:"Add Sample"})]})]}),s.jsx(V,{to:`/products/${k.product_id}`,className:"text-xs text-blue-600 hover:text-blue-700 mt-2 inline-block",children:"View Full Size "})]})]},k.product_id))})]}),g==="sets"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discovery Sets"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(V,{to:"/samples?set_type=discovery",className:`px-3 py-1 rounded text-sm ${r==="discovery"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Discovery"}),s.jsx(V,{to:"/samples?set_type=brand",className:`px-3 py-1 rounded text-sm ${r==="brand"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"}`,children:"By Brand"}),s.jsx(V,{to:"/samples?set_type=seasonal",className:`px-3 py-1 rounded text-sm ${r==="seasonal"?"bg-purple-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Seasonal"})]})]}),S?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((k,B)=>s.jsxs("div",{className:"animate-pulse bg-white rounded-lg p-6",children:[s.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"})]},B))}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(k=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rt,{src:k.image_url,alt:k.set_name,productName:k.set_name,category:k.set_type,aspectRatio:"3:4",objectFit:"cover",className:"h-48"}),k.savings_amount>0&&s.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded",children:["Save $",k.savings_amount]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.set_name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:[k.sample_count," samples"]}),s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded ml-2",children:k.set_type})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Includes:"}),s.jsxs("div",{className:"space-y-1",children:[k.products.slice(0,3).map(B=>s.jsxs("div",{className:"text-xs text-gray-600",children:[B.brand_name," - ",B.product_name]},B.product_id)),k.products.length>3&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",k.products.length-3," more"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",k.price]}),k.savings_amount>0&&s.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(Save $",k.savings_amount,")"]})]}),s.jsx("button",{onClick:()=>O({type:"set",set_id:k.set_id,product_name:k.set_name,brand_name:"Discovery Set",sample_size_ml:2,unit_price:k.price}),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Add Set"})]})]})]},k.set_id))})]}),g==="custom"&&s.jsxs("div",{children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Custom Set Builder"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Create your own personalized discovery set. Select up to ",h.set_size_limit," samples and enjoy bulk discounts on larger sets."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[h.selected_samples.length,"/",h.set_size_limit]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Samples Selected"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[h.discount_percentage,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Bulk Discount"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",h.total_price.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Price"})]})]}),h.selected_samples.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Selected Samples"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.selected_samples.map(k=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(rt,{src:k.image_url,alt:k.product_name,productName:k.product_name,category:"",aspectRatio:"square",objectFit:"cover",className:"w-12 h-12 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.product_name}),s.jsx("div",{className:"text-xs text-gray-600",children:k.brand_name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["$",k.price]})]})]}),s.jsx("button",{onClick:()=>G(k.product_id),className:"text-red-600 hover:text-red-700",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},k.product_id))}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsx("input",{type:"text",value:h.set_name,onChange:k=>v(B=>({...B,set_name:k.target.value})),placeholder:"Name your custom set",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"}),s.jsx("button",{onClick:N,className:"bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700",children:"Add Custom Set to Cart"})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-4 text-center text-xs text-gray-600 mb-6",children:[s.jsx("div",{children:"5+ samples: 5% off"}),s.jsx("div",{children:"8+ samples: 10% off"}),s.jsx("div",{children:"10+ samples: 15% off"}),s.jsx("div",{children:"Free shipping on 6+"}),s.jsx("div",{children:"Custom gift packaging"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Samples to Your Set"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:P.slice(0,8).map(k=>{const B=h.selected_samples.some(L=>L.product_id===k.product_id),z=h.selected_samples.length>=h.set_size_limit;return s.jsxs("div",{className:`border rounded-lg p-3 ${B?"border-purple-500 bg-purple-50":"border-gray-200"}`,children:[s.jsxs("div",{className:"rounded mb-2 relative",children:[s.jsx(rt,{src:k.product_image_url,alt:k.product_name,productName:k.product_name,category:k.fragrance_families.join(", "),aspectRatio:"square",objectFit:"cover",className:"rounded"}),B&&s.jsx("div",{className:"absolute top-1 right-1 bg-purple-600 text-white rounded-full w-6 h-6 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),s.jsx("h4",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:k.product_name}),s.jsx("p",{className:"text-xs text-gray-600",children:k.brand_name}),s.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:["$",k.sample_sizes[0].price]}),s.jsx("button",{onClick:()=>B?G(k.product_id):Z(k),disabled:!B&&z,className:`w-full text-xs py-1 px-2 rounded mt-2 ${B?"bg-purple-600 text-white hover:bg-purple-700":z?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:B?"Remove":"Add"})]},k.product_id)})})]})]}),g==="education"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Fragrance Testing Guide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Testing Steps"}),s.jsx("ol",{className:"space-y-3",children:F.testing_guide.steps.map((k,B)=>s.jsxs("li",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-purple-600 text-white text-sm rounded-full flex items-center justify-center",children:B+1}),s.jsx("span",{className:"text-gray-700",children:k})]},B))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pro Tips"}),s.jsx("ul",{className:"space-y-3",children:F.testing_guide.tips.map((k,B)=>s.jsxs("li",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-purple-400 rounded-full mt-2"}),s.jsx("span",{className:"text-gray-700",children:k})]},B))})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Fragrance Families"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:F.fragrance_families.map(k=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:k.family}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.description}),s.jsx("div",{className:"flex flex-wrap gap-2",children:k.example_notes.map(B=>s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:B},B))})]},k.family))})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ready to Start Testing?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Take our fragrance quiz to get personalized sample recommendations based on your preferences."}),s.jsx(V,{to:"/fragrance-finder",className:"inline-block bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700",children:"Take Fragrance Quiz"})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Sample Cart (",u.items.length,")"]}),u.items.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Your sample cart is empty"}):s.jsxs("div",{className:"space-y-4",children:[u.items.map((k,B)=>s.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:k.product_name}),s.jsx("p",{className:"text-xs text-gray-600",children:k.brand_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[k.sample_size_ml,"ml"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",k.total_price]}),s.jsx("button",{onClick:()=>D(B),className:"text-red-600 hover:text-red-700",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]},B)),s.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["$",u.subtotal.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Shipping:"}),s.jsxs("span",{children:["$",u.shipping_cost.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",u.total.toFixed(2)]})]}),u.shipping_cost===0&&u.items.length>0&&s.jsx("p",{className:"text-xs text-green-600",children:"Free shipping applied!"})]}),s.jsx("button",{onClick:I,disabled:Y.isPending,className:"w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700 disabled:bg-gray-300",children:Y.isPending?"Processing...":"Checkout"})]})]}),i&&R.length>0&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Sample Orders"}),s.jsx("div",{className:"space-y-3",children:R.slice(0,3).map(k=>s.jsxs("div",{className:"border border-gray-100 rounded p-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",k.sample_order_number]}),s.jsxs("p",{className:"text-xs text-gray-600",children:[k.items_count," samples"]}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(k.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",k.total_amount]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${k.order_status==="delivered"?"bg-green-100 text-green-700":k.order_status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:k.order_status})]})]}),k.tracking_number&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tracking: ",k.tracking_number]})]},k.sample_order_id))}),s.jsx(V,{to:"/account/orders",className:"text-sm text-purple-600 hover:text-purple-700 mt-3 inline-block",children:"View all orders "})]})]})})]})]})]})})},TC=()=>{const[e,t]=qs(),r=e.get("recipient"),n=e.get("occasion"),a=e.get("price_range"),[i,o]=j.useState(r),[l,c]=j.useState(n),[d,u]=j.useState(a),[m,h]=j.useState({initial_amount:0,recipient_email:"",recipient_name:"",gift_message:"",delivery_date:""}),v=q(D=>D.authentication_state.current_user),g=q(D=>D.add_to_cart),b=q(D=>D.show_notification),f=()=>"https://123luxury-fragrance-brand.launchpulse.ai",{data:p=[],isLoading:y,error:x}=ce({queryKey:["gift-guides",i,l,d],queryFn:async()=>{const D=new URLSearchParams;return i&&D.append("recipient",i),l&&D.append("occasion",l),d&&D.append("price_range",d),(await ee.get(`${f()}/api/gifts/guides?${D.toString()}`)).data},staleTime:5*60*1e3,retry:1}),{data:_=[],isLoading:w,error:S}=ce({queryKey:["gift-sets",l,d],queryFn:async()=>{const D=new URLSearchParams;if(l&&D.append("occasion",l),d)switch(d){case"under_50":D.append("price_max","50");break;case"50_100":D.append("price_min","50"),D.append("price_max","100");break;case"100_200":D.append("price_min","100"),D.append("price_max","200");break;case"luxury":D.append("price_min","200");break}return(await ee.get(`${f()}/api/gifts/sets?${D.toString()}`)).data},staleTime:5*60*1e3,retry:1}),P=ve({mutationFn:async D=>(await ee.post(`${f()}/api/gift-cards`,D,{headers:{"Content-Type":"application/json"}})).data,onSuccess:()=>{b({type:"success",message:"Gift card created successfully!",auto_dismiss:!0,duration:5e3}),h({initial_amount:0,recipient_email:"",recipient_name:"",gift_message:"",delivery_date:""})},onError:D=>{var G,N;const Z=((N=(G=D.response)==null?void 0:G.data)==null?void 0:N.message)||"Failed to create gift card";b({type:"error",message:Z,auto_dismiss:!0,duration:5e3})}});j.useEffect(()=>{const D=new URLSearchParams;i&&D.set("recipient",i),l&&D.set("occasion",l),d&&D.set("price_range",d),t(D,{replace:!0})},[i,l,d,t]);const C=(D,Z)=>{switch(D){case"recipient":o(Z);break;case"occasion":c(Z);break;case"price_range":u(Z);break}},R=D=>{if(D.preventDefault(),!(v!=null&&v.email)){b({type:"error",message:"Please sign in to purchase gift cards",auto_dismiss:!0,duration:5e3});return}if(m.initial_amount<=0){b({type:"error",message:"Please enter a valid amount",auto_dismiss:!0,duration:5e3});return}const Z={initial_amount:m.initial_amount,purchaser_email:v.email,recipient_email:m.recipient_email||void 0,recipient_name:m.recipient_name||void 0,gift_message:m.gift_message||void 0,delivery_date:m.delivery_date||void 0};P.mutate(Z)},$=async D=>{try{await g({product_id:D.product_id,product_name:D.product_name,brand_name:"Unknown Brand",size_ml:50,quantity:1,unit_price:D.sale_price||D.base_price,gift_wrap:!0,sample_included:!1})}catch(Z){console.error("Failed to add to cart:",Z)}},Y=y||w,O=x||S;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-900 via-purple-800 to-purple-900 text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"The Art of Luxury Gifting"}),s.jsx("p",{className:"text-xl md:text-2xl mb-8 text-purple-100 max-w-3xl mx-auto",children:"Discover the perfect fragrance gift with our expert curation and personalized service. Every gift tells a story, wrapped in elegance and delivered with care."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("button",{className:"bg-white text-purple-900 px-8 py-3 rounded-lg font-semibold hover:bg-purple-50 transition-colors",children:"Expert Consultation"}),s.jsx("button",{className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-purple-900 transition-colors",children:"Gift Cards"})]})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift For"}),s.jsxs("select",{value:i||"",onChange:D=>C("recipient",D.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[s.jsx("option",{value:"",children:"All Recipients"}),s.jsx("option",{value:"her",children:"For Her"}),s.jsx("option",{value:"him",children:"For Him"}),s.jsx("option",{value:"anyone",children:"For Anyone"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occasion"}),s.jsxs("select",{value:l||"",onChange:D=>C("occasion",D.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[s.jsx("option",{value:"",children:"All Occasions"}),s.jsx("option",{value:"birthday",children:"Birthday"}),s.jsx("option",{value:"anniversary",children:"Anniversary"}),s.jsx("option",{value:"holiday",children:"Holiday"}),s.jsx("option",{value:"wedding",children:"Wedding"}),s.jsx("option",{value:"graduation",children:"Graduation"}),s.jsx("option",{value:"christmas",children:"Christmas"}),s.jsx("option",{value:"valentines",children:"Valentine's Day"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),s.jsxs("select",{value:d||"",onChange:D=>C("price_range",D.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[s.jsx("option",{value:"",children:"All Prices"}),s.jsx("option",{value:"under_50",children:"Thoughtful Under $50"}),s.jsx("option",{value:"50_100",children:"Mid-range $50-$100"}),s.jsx("option",{value:"100_200",children:"Premium $100-$200"}),s.jsx("option",{value:"luxury",children:"Luxury $200+"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16",children:[Y&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading gift recommendations..."})]}),O&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:s.jsx("p",{className:"text-red-700",children:"Failed to load gift recommendations. Please try again."})}),!Y&&!O&&p.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Curated Gift Guides"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our fragrance experts have carefully selected these collections to match every personality and occasion."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(D=>s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:D.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:D.description}),s.jsx("div",{className:"space-y-3 mb-6",children:D.products.slice(0,3).map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Z.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:Z.concentration})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-gray-900",children:["$",Z.sale_price||Z.base_price]}),s.jsx("button",{onClick:()=>$(Z),className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:"Add to Cart"})]})]},Z.product_id))}),D.products.length>3&&s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["+",D.products.length-3," more items in this guide"]}),s.jsx(V,{to:`/products?guide=${D.guide_id}`,className:"block w-full bg-purple-600 text-white text-center py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"View Complete Guide"})]})},D.guide_id))})]}),!Y&&!O&&_.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Exclusive Gift Sets"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Pre-curated collections that make gifting effortless, beautifully packaged with exclusive savings."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:_.map(D=>s.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:D.set_name}),s.jsx("p",{className:"text-gray-600",children:D.description})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:["Save $",D.savings_amount]})})]}),s.jsx("div",{className:"space-y-3 mb-6",children:D.products.map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Z.product_name}),s.jsx("p",{className:"text-sm text-gray-600",children:Z.concentration})]}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["$",Z.sale_price||Z.base_price]})]},Z.product_id))}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",D.price]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Value: $",D.products.reduce((Z,G)=>Z+(G.sale_price||G.base_price),0)]})]}),s.jsx("button",{onClick:()=>{D.products.forEach(Z=>$(Z))},className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Add Set to Cart"})]})]})},D.gift_set_id))})]}),s.jsxs("section",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Digital Gift Cards"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The perfect gift when you want them to choose their own perfect fragrance. Delivered instantly or scheduled for the perfect moment."})]}),s.jsxs("form",{onSubmit:R,className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gift Card Amount *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-600",children:"$"}),s.jsx("input",{type:"number",min:"25",max:"1000",step:"5",value:m.initial_amount||"",onChange:D=>h(Z=>({...Z,initial_amount:Number(D.target.value)})),className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"100",required:!0})]}),s.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,100,200,500].map(D=>s.jsxs("button",{type:"button",onClick:()=>h(Z=>({...Z,initial_amount:D})),className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50",children:["$",D]},D))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Email"}),s.jsx("input",{type:"email",value:m.recipient_email,onChange:D=>h(Z=>({...Z,recipient_email:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"recipient@email.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to email to yourself"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipient Name"}),s.jsx("input",{type:"text",value:m.recipient_name,onChange:D=>h(Z=>({...Z,recipient_name:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Recipient's full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Date"}),s.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],value:m.delivery_date,onChange:D=>h(Z=>({...Z,delivery_date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank for immediate delivery"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personal Message"}),s.jsx("textarea",{value:m.gift_message,onChange:D=>h(Z=>({...Z,gift_message:D.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Add a personal message to your gift...",maxLength:500}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.gift_message.length,"/500 characters"]})]}),s.jsx("button",{type:"submit",disabled:P.isPending||!v,className:"w-full bg-purple-600 text-white py-3 rounded-lg font-medium hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Gift Card..."]}):v?`Purchase Gift Card ($${m.initial_amount||0})`:"Sign In to Purchase Gift Card"}),!v&&s.jsxs("p",{className:"text-center text-sm text-gray-600 mt-3",children:[s.jsx(V,{to:"/login",className:"text-purple-600 hover:text-purple-800 font-medium",children:"Sign in"})," ","to purchase gift cards"]})]})]}),s.jsxs("section",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Expert Gift Services"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-2-2V10a2 2 0 012-2h2V6a2 2 0 012-2h6a2 2 0 012 2v2z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Personal Consultation"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"One-on-one guidance from our fragrance experts to find the perfect gift based on personality and preferences."}),s.jsx("button",{className:"text-purple-600 hover:text-purple-800 font-medium",children:"Book Consultation"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Custom Gift Sets"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create bespoke gift collections tailored to the recipient's taste with our expert curation service."}),s.jsx("button",{className:"text-purple-600 hover:text-purple-800 font-medium",children:"Create Custom Set"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"White Glove Delivery"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Premium delivery service with hand-written notes, luxury packaging, and precise timing coordination."}),s.jsx("button",{className:"text-purple-600 hover:text-purple-800 font-medium",children:"Learn More"})]})]})]})]})]})},Co=[{value:"orders",label:"Orders & Shipping",icon:""},{value:"returns",label:"Returns & Exchanges",icon:""},{value:"products",label:"Product Information",icon:""},{value:"account",label:"Account Management",icon:""},{value:"payment",label:"Payment & Billing",icon:""},{value:"general",label:"General Inquiry",icon:""}],LC=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],MC=()=>{var ne;const[e]=qs(),t=Vs(),r=e.get("topic"),n=e.get("order_id"),a=q(Q=>Q.authentication_state.current_user),i=q(Q=>Q.authentication_state.auth_token),o=q(Q=>Q.show_notification),[l,c]=j.useState(r||null),[d,u]=j.useState(n||null),[m,h]=j.useState(""),[v,g]=j.useState(((ne=t.state)==null?void 0:ne.activeTab)||"faq"),[b,f]=j.useState({customer_email:(a==null?void 0:a.email)||"",customer_name:a?`${a.first_name} ${a.last_name}`:"",subject:"",message:"",category:"general",priority:"medium",order_id:d||""}),[p,y]=j.useState(null),[x,_]=j.useState([]),[w,S]=j.useState(""),[P,C]=j.useState(!1),[R,$]=j.useState(!1),[Y,O]=j.useState(!1),D=j.useRef(null),Z=j.useRef(null),G=j.useRef(null);j.useEffect(()=>{a&&f(Q=>({...Q,customer_email:a.email,customer_name:`${a.first_name} ${a.last_name}`}))},[a]),j.useEffect(()=>{d!==n&&(u(n),f(Q=>({...Q,order_id:n||""})))},[n,d]);const N=async()=>{const Q=new URLSearchParams;return l&&Q.append("category",l),m&&Q.append("query",m),(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/support/faq?${Q}`,{headers:{"Content-Type":"application/json"}})).data},F=async Q=>{const M={"Content-Type":"application/json"};return i&&(M.Authorization=`Bearer ${i}`),(await ee.post("https://123luxury-fragrance-brand.launchpulse.ai/api/support/tickets",{customer_email:Q.customer_email,customer_name:Q.customer_name,subject:Q.subject,message:Q.message,category:Q.category,priority:Q.priority,order_id:Q.order_id||void 0},{headers:M})).data},{data:I=[],isLoading:k,error:B}=ce({queryKey:["faqs",l,m],queryFn:N,staleTime:3e5,retry:1}),z=ve({mutationFn:F,onSuccess:Q=>{o({type:"success",title:"Support Ticket Created",message:`Your ticket #${Q.ticket_number} has been created. We'll respond within 24 hours.`,auto_dismiss:!0,duration:5e3}),f({customer_email:(a==null?void 0:a.email)||"",customer_name:a?`${a.first_name} ${a.last_name}`:"",subject:"",message:"",category:"general",priority:"medium",order_id:d||""})},onError:Q=>{var U,_e;const M=((_e=(U=Q.response)==null?void 0:U.data)==null?void 0:_e.message)||Q.message||"Failed to create support ticket";o({type:"error",title:"Ticket Creation Failed",message:M,auto_dismiss:!0,duration:5e3})}}),L=Q=>{c(Q),h("")},J=Q=>{h(Q)},A=Q=>{if(Q.preventDefault(),!b.customer_email||!b.customer_name||!b.subject||!b.message){o({type:"error",title:"Validation Error",message:"Please fill in all required fields.",auto_dismiss:!0,duration:3e3});return}z.mutate(b)},H=(Q,M)=>{f(U=>({...U,[Q]:M}))},ae=async Q=>{const M={"Content-Type":"application/json"};return i&&(M.Authorization=`Bearer ${i}`),(await ee.post("https://123luxury-fragrance-brand.launchpulse.ai/api/chat/start",{topic:l||"general",message:Q},{headers:M})).data},ye=Q=>{const U="https://123luxury-fragrance-brand.launchpulse.ai".replace("https://","wss://").replace("http://","ws://"),_e=new URLSearchParams;_e.append("session_id",Q),i&&_e.append("token",i);const $e=new WebSocket(`${U}/ws?${_e.toString()}`);return $e.onopen=()=>{console.log("WebSocket connected"),C(!1)},$e.onmessage=ka=>{try{const ht=JSON.parse(ka.data);switch(ht.type){case"connected":y(wt=>wt?{...wt,status:"waiting"}:null);break;case"agent_connected":y(wt=>wt?{...wt,status:"active",agent_name:ht.agent_name}:null);break;case"message":{const wt={id:ht.message_id,message_id:ht.message_id,session_id:ht.session_id,sender_type:ht.sender_type,sender_name:ht.sender_name,message:ht.message,timestamp:ht.timestamp};_(eo=>[...eo,wt]),O(!1);break}case"typing":ht.sender_type==="agent"&&O(ht.is_typing);break;case"session_ended":y(wt=>wt?{...wt,status:"ended"}:null);break}}catch(ht){console.error("WebSocket message error:",ht)}},$e.onclose=()=>{console.log("WebSocket disconnected"),C(!1)},$e.onerror=ka=>{console.error("WebSocket error:",ka),C(!1),o({type:"error",title:"Connection Error",message:"Failed to connect to chat service. Please try again.",auto_dismiss:!0,duration:5e3})},$e},De=async()=>{var Q,M;if(!(P||p)){C(!0);try{const U=await ae(),_e={session_id:U.session_id,status:"waiting"};y(_e),_([]),D.current=ye(U.session_id),o({type:"success",title:"Chat Started",message:U.message,auto_dismiss:!0,duration:3e3})}catch(U){C(!1);const _e=((M=(Q=U.response)==null?void 0:Q.data)==null?void 0:M.message)||"Failed to start chat session";o({type:"error",title:"Chat Error",message:_e,auto_dismiss:!0,duration:5e3})}}},Qe=()=>{!w.trim()||!D.current||D.current.readyState!==WebSocket.OPEN||(D.current.send(JSON.stringify({type:"chat_message",message:w.trim()})),S(""),$(!1),G.current&&clearTimeout(G.current))},X=Q=>{S(Q),!(!D.current||D.current.readyState!==WebSocket.OPEN)&&(!R&&Q.trim()&&($(!0),D.current.send(JSON.stringify({type:"typing",is_typing:!0}))),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{D.current&&D.current.readyState===WebSocket.OPEN&&R&&(D.current.send(JSON.stringify({type:"typing",is_typing:!1})),$(!1))},1e3))},E=async()=>{if(p)try{await ee.post(`https://123luxury-fragrance-brand.launchpulse.ai/api/chat/${p.session_id}/end`,{},{headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}}}),D.current&&(D.current.close(),D.current=null),y(null),_([]),o({type:"info",title:"Chat Ended",message:"Chat session has been ended successfully.",auto_dismiss:!0,duration:3e3})}catch(Q){console.error("End chat error:",Q)}},te=()=>{var Q;(Q=Z.current)==null||Q.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{te()},[x]),j.useEffect(()=>()=>{D.current&&D.current.close(),G.current&&clearTimeout(G.current)},[]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Customer Support"}),s.jsx("p",{className:"text-xl opacity-90 mb-8",children:"We're here to help with your luxury fragrance experience"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("h3",{className:"font-semibold mb-1",children:"Live Chat"}),s.jsx("p",{className:"text-sm opacity-80",children:"Available Mon-Fri 9AM-6PM EST"}),s.jsxs("p",{className:"text-sm opacity-80 flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),"Currently: Online"]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("h3",{className:"font-semibold mb-1",children:"Phone Support"}),s.jsx("p",{className:"text-sm opacity-80",children:"1-800-LUXE-SCENT"}),s.jsx("p",{className:"text-sm opacity-80",children:"Mon-Fri 9AM-7PM EST"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("h3",{className:"font-semibold mb-1",children:"Email Support"}),s.jsx("p",{className:"text-sm opacity-80",children:"Response within 24 hours"}),s.jsx("p",{className:"text-sm opacity-80",children:"support@luxescent.com"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>g("faq"),className:`py-2 px-1 border-b-2 font-medium text-sm ${v==="faq"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Help Center & FAQ"}),s.jsx("button",{onClick:()=>g("contact"),className:`py-2 px-1 border-b-2 font-medium text-sm ${v==="contact"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Contact Support"}),s.jsx("button",{onClick:()=>g("chat"),className:`py-2 px-1 border-b-2 font-medium text-sm ${v==="chat"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:" Live Chat"})]})})}),v==="faq"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Search Help Articles"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"text",placeholder:"Search for help articles...",value:m,onChange:Q=>J(Q.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:l||"",onChange:Q=>L(Q.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[s.jsx("option",{value:"",children:"All Categories"}),Co.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))]})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>L(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${l===null?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Topics"}),Co.map(Q=>s.jsxs("button",{onClick:()=>L(Q.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${l===Q.value?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[Q.icon," ",Q.label]},Q.value))]}),s.jsx("div",{className:"bg-white rounded-lg shadow-md",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:m?`Search Results for "${m}"`:"Frequently Asked Questions"}),k&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}),B&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Failed to load help articles. Please try again."})}),!k&&!B&&I.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:m?"No articles found matching your search.":"No articles available."})}),!k&&!B&&I.length>0&&s.jsx("div",{className:"space-y-4",children:I.map(Q=>{var M;return s.jsx("div",{className:"border border-gray-200 rounded-lg",children:s.jsxs("details",{className:"group",children:[s.jsxs("summary",{className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50",children:[s.jsx("h4",{className:"font-medium text-gray-900 pr-4",children:Q.question}),s.jsx("svg",{className:"w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("div",{className:"text-gray-700 border-t pt-4",children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:Q.answer}}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:((M=Co.find(U=>U.value===Q.category))==null?void 0:M.label)||Q.category}),s.jsxs("span",{children:[Q.helpful_votes," people found this helpful"]})]})]})})]})},Q.faq_id)})})]})})]}),v==="contact"&&s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Support"}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsx("input",{id:"customer_name",type:"text",required:!0,value:b.customer_name,onChange:Q=>H("customer_name",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customer_email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),s.jsx("input",{id:"customer_email",type:"email",required:!0,value:b.customer_email,onChange:Q=>H("customer_email",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),s.jsx("select",{id:"category",required:!0,value:b.category,onChange:Q=>H("category",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:Co.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),s.jsx("select",{id:"priority",value:b.priority,onChange:Q=>H("priority",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:LC.map(Q=>s.jsx("option",{value:Q.value,children:Q.label},Q.value))})]})]}),d&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"order_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),s.jsx("input",{id:"order_id",type:"text",value:b.order_id,onChange:Q=>H("order_id",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., LS240001234"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),s.jsx("input",{id:"subject",type:"text",required:!0,value:b.subject,onChange:Q=>H("subject",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Brief description of your inquiry"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),s.jsx("textarea",{id:"message",required:!0,rows:6,value:b.message,onChange:Q=>H("message",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Please provide detailed information about your inquiry..."})]}),s.jsx("button",{type:"submit",disabled:z.isPending,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:z.isPending?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Ticket..."]}):"Submit Support Ticket"})]})]})}),v==="chat"&&s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-lg shadow-md",children:p?s.jsxs("div",{className:"flex flex-col h-96",children:[s.jsx("div",{className:"bg-purple-600 text-white p-4 rounded-t-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Live Chat Support"}),s.jsxs("p",{className:"text-sm opacity-90",children:[p.status==="waiting"&&"Connecting you to an agent...",p.status==="active"&&p.agent_name&&`Connected with ${p.agent_name}`,p.status==="ended"&&"Chat session ended"]})]}),s.jsx("button",{onClick:E,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors",title:"End Chat",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:s.jsxs("div",{className:"space-y-4",children:[x.map(Q=>s.jsx("div",{className:`flex ${Q.sender_type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Q.sender_type==="user"?"bg-purple-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[Q.sender_type==="agent"&&Q.sender_name&&s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:Q.sender_name}),s.jsx("p",{className:"text-sm",children:Q.message}),s.jsx("p",{className:`text-xs mt-1 ${Q.sender_type==="user"?"text-purple-100":"text-gray-400"}`,children:new Date(Q.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},Q.message_id)),Y&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-white text-gray-900 border border-gray-200 px-4 py-2 rounded-lg max-w-xs",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"Agent is typing..."})]})})}),s.jsx("div",{ref:Z})]})}),p.status!=="ended"&&s.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 rounded-b-lg",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:w,onChange:Q=>X(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&Qe(),placeholder:"Type your message...",disabled:p.status==="waiting",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:opacity-50 disabled:cursor-not-allowed"}),s.jsx("button",{onClick:Qe,disabled:!w.trim()||p.status==="waiting",className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),R&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You are typing..."})]})]}):s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Live Chat Support"}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Start Live Chat"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Connect with our customer service team for immediate assistance with your fragrance questions."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:De,disabled:P,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):"Start Live Chat"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("button",{onClick:()=>g("contact"),className:"flex-1 bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Use Contact Form"}),s.jsx("a",{href:"tel:1-800-LUXE-SCENT",className:"flex-1 bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors text-center",children:"Call Us Now"})]})]})]})]})})}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Self-Service Tools"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(V,{to:"/track-order",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Track Your Order"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Check the status of your fragrance order and delivery."})]}),s.jsxs(V,{to:"/account",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Manage Account"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Update your profile, addresses, and preferences."})]}),s.jsxs(V,{to:"/login?action=reset",className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Password Reset"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Reset your password or recover your account."})]})]})]})]})]})})},X0=()=>{var P,C;const{order_id:e}=Mm(),[t]=qs(),[r,n]=j.useState({order_number:t.get("order_number")||"",email:t.get("email")||""}),[a,i]=j.useState(null),o=q(R=>R.authentication_state.auth_token),l=q(R=>R.authentication_state.authentication_status.is_authenticated),c=()=>"https://123luxury-fragrance-brand.launchpulse.ai",d=async R=>(await ee.get(`${c()}/api/orders/${R}`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})).data,u=async(R,$)=>(await ee.get(`${c()}/api/orders/track`,{params:{order_number:R,email:$},headers:{"Content-Type":"application/json"}})).data,m=ce({queryKey:["order",e],queryFn:()=>d(e),enabled:!!e&&!!o,staleTime:3e4,retry:1}),[h,v]=j.useState(!1),g=ce({queryKey:["guestOrder",r.order_number,r.email],queryFn:()=>u(r.order_number,r.email),enabled:h&&!e&&r.order_number.length>0&&r.email.length>0,staleTime:3e4,retry:1}),b=R=>{if(R.preventDefault(),i(null),!r.order_number.trim()){i("Please enter your order number");return}if(!r.email.trim()){i("Please enter your email address");return}if(!/\S+@\S+\.\S+/.test(r.email)){i("Please enter a valid email address");return}v(!0)},f=e?m.data:(P=g.data)==null?void 0:P.order,p=e?[]:((C=g.data)==null?void 0:C.tracking_events)||[],y=e?m.isLoading:g.isLoading,x=e?m.error:g.error,_=[{key:"pending",label:"Order Placed",status:"completed"},{key:"processing",label:"Processing",status:(f==null?void 0:f.order_status)==="pending"?"pending":"completed"},{key:"shipped",label:"Shipped",status:["shipped","delivered"].includes((f==null?void 0:f.order_status)||"")?"completed":"pending"},{key:"delivered",label:"Delivered",status:(f==null?void 0:f.order_status)==="delivered"?"completed":"pending"}],w=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R),S=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return j.useEffect(()=>{e&&h&&v(!1)},[e,h]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:s.jsxs("div",{className:"px-6 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Tracking"}),s.jsx("p",{className:"text-gray-600",children:"Track your order status and delivery progress"}),!e&&s.jsxs("div",{className:"mt-8",children:[s.jsx("form",{onSubmit:b,className:"max-w-md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"order_number",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),s.jsx("input",{type:"text",id:"order_number",value:r.order_number,onChange:R=>{i(null),n($=>({...$,order_number:R.target.value}))},placeholder:"Enter your order number",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500","aria-describedby":"order-number-help"}),s.jsx("p",{id:"order-number-help",className:"mt-1 text-xs text-gray-500",children:'Your order number starts with "LS" followed by numbers'})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:r.email,onChange:R=>{i(null),n($=>({...$,email:R.target.value}))},placeholder:"Enter your email address",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),a&&s.jsx("div",{className:"text-red-600 text-sm",role:"alert",children:a}),s.jsx("button",{type:"submit",disabled:y,className:"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Tracking Order..."]}):"Track Order"})]})}),l&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:s.jsxs("p",{className:"text-blue-700 text-sm",children:[s.jsx("strong",{children:"Logged in users:"})," Visit your"," ",s.jsx(V,{to:"/account/orders",className:"underline hover:no-underline",children:"order history"})," ","to track all your orders."]})})]})]})}),x&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"h-5 w-5 text-red-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-red-700 text-sm",children:x instanceof Error?x.message:"Unable to find order. Please check your order number and email address."})]})}),y&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin h-8 w-8 text-purple-600 mr-3",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"text-gray-600",children:"Loading order details..."})]})}),f&&!y&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:s.jsxs("div",{className:"px-6 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Order Number"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:f.order_number})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Order Date"}),s.jsx("p",{className:"text-lg text-gray-900",children:S(f.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:w(f.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${f.payment_status==="paid"?"bg-green-100 text-green-800":f.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.payment_status.charAt(0).toUpperCase()+f.payment_status.slice(1)})]})]}),f.tracking_number&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Tracking Number"}),s.jsx("p",{className:"text-lg font-mono text-gray-900",children:f.tracking_number})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order Progress"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex items-center justify-between",children:_.map((R,$)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${R.status==="completed"?"bg-green-500 text-white":f.order_status===R.key?"bg-purple-500 text-white":"bg-gray-200 text-gray-400"}`,children:R.status==="completed"?s.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("span",{className:"text-sm font-medium",children:$+1})}),s.jsx("p",{className:`mt-2 text-sm font-medium ${R.status==="completed"||f.order_status===R.key?"text-gray-900":"text-gray-400"}`,children:R.label}),R.key==="shipped"&&f.shipped_at&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S(f.shipped_at)}),R.key==="delivered"&&f.delivered_at&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:S(f.delivered_at)})]},R.key))}),s.jsx("div",{className:"absolute top-5 left-5 right-5 h-0.5 bg-gray-200 -z-10",children:s.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${(_.filter(R=>R.status==="completed").length-1)*(100/(_.length-1))}%`}})})]})]})}),p.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tracking History"}),s.jsx("div",{className:"space-y-4",children:p.map((R,$)=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-md",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R.location,"  ",S(R.timestamp)]})]})]},$))})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"px-6 py-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"text-gray-900",children:w(f.subtotal)})]}),f.discount_amount>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Discount"}),s.jsxs("span",{className:"text-green-600",children:["-",w(f.discount_amount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{className:"text-gray-900",children:f.shipping_cost>0?w(f.shipping_cost):"Free"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tax"}),s.jsx("span",{className:"text-gray-900",children:w(f.tax_amount)})]}),s.jsx("div",{className:"border-t border-gray-200 pt-4",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:w(f.total_amount)})]})})]}),f.gift_message&&s.jsxs("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Gift Message:"}),s.jsx("p",{className:"text-sm text-purple-700 mt-1",children:f.gift_message})]}),f.special_instructions&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Special Instructions:"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:f.special_instructions})]})]})}),s.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[l&&s.jsxs(V,{to:"/account/orders",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 rounded-md shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"View All Orders"]}),s.jsxs(V,{to:"/support",className:"inline-flex items-center justify-center px-6 py-3 border border-purple-300 rounded-md shadow-sm bg-purple-600 text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-4.906-1.436L3 21l2.436-5.094A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z"})}),"Need Help?"]})]})]})]})})})},RC=()=>{var ye,De,Qe;const[e,t]=qs(),r=q(X=>X.search_state.current_query),n=q(X=>X.add_to_cart),a=q(X=>X.update_search_query),i=q(X=>X.update_search_filters),o=e.get("query")||"",l=e.get("price_min")?Number(e.get("price_min")):null,c=e.get("price_max")?Number(e.get("price_max")):null,d=j.useMemo(()=>{var X;return((X=e.get("brand_ids"))==null?void 0:X.split(",").filter(Boolean))||[]},[e]),u=j.useMemo(()=>{var X;return((X=e.get("fragrance_families"))==null?void 0:X.split(",").filter(Boolean))||[]},[e]),m=e.get("sort_by")||"best_selling",h=Number(e.get("page"))||1,[v,g]=j.useState("grid"),[b,f]=j.useState({min:l,max:c}),[p,y]=j.useState(d),[x,_]=j.useState(u),[w,S]=j.useState(!1),P=()=>"https://123luxury-fragrance-brand.launchpulse.ai",C=ce({queryKey:["searchProducts",o,l,c,d,u,m,h],queryFn:async()=>{const X=new URLSearchParams;return o&&X.append("query",o),l&&X.append("price_min",l.toString()),c&&X.append("price_max",c.toString()),d.length>0&&X.append("brand_ids",d.join(",")),u.length>0&&X.append("fragrance_families",u.join(",")),X.append("sort_by",m),X.append("page",h.toString()),X.append("per_page","20"),(await ee.get(`${P()}/api/products?${X.toString()}`)).data},enabled:!!o,staleTime:3e4,retry:1}),R=ce({queryKey:["searchSuggestions",o],queryFn:async()=>(await ee.get(`${P()}/api/search/suggestions`,{params:{query:o,limit:10}})).data,enabled:!!o&&o.length>2,staleTime:6e4,retry:1}),$=ce({queryKey:["brands"],queryFn:async()=>(await ee.get(`${P()}/api/brands`,{params:{is_active:!0,sort_by:"brand_name"}})).data,staleTime:3e5,retry:1});j.useEffect(()=>{o!==r&&a(o)},[o,r,a]),j.useEffect(()=>{i({price_min:l,price_max:c,brand_ids:d,fragrance_families:u,size_options:[],occasion_tags:[],season_suitability:[],availability_status:[]})},[l,c,d,u,i]);const Y=j.useCallback(X=>{const E=new URLSearchParams(e);Object.entries(X).forEach(([te,ne])=>{ne===null||ne===""?E.delete(te):E.set(te,ne)}),t(E)},[e,t]),O=(X,E)=>{f({min:X,max:E}),Y({price_min:(X==null?void 0:X.toString())||null,price_max:(E==null?void 0:E.toString())||null,page:"1"})},D=X=>{const E=p.includes(X)?p.filter(te=>te!==X):[...p,X];y(E),Y({brand_ids:E.length>0?E.join(","):null,page:"1"})},Z=X=>{const E=x.includes(X)?x.filter(te=>te!==X):[...x,X];_(E),Y({fragrance_families:E.length>0?E.join(","):null,page:"1"})},G=X=>{Y({sort_by:X,page:"1"})},N=X=>{Y({page:X.toString()}),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{f({min:null,max:null}),y([]),_([]),Y({price_min:null,price_max:null,brand_ids:null,fragrance_families:null,page:"1"})},I=async X=>{try{await n({product_id:X.product_id,product_name:X.product_name,brand_name:"Brand Name",size_ml:50,quantity:1,unit_price:X.sale_price||X.base_price,gift_wrap:!1,sample_included:!1})}catch(E){console.error("Failed to add to cart:",E)}},k=["Floral","Fresh","Oriental","Woody","Citrus","Fruity","Gourmand","Marine","Green","Spicy"],B=((ye=C.data)==null?void 0:ye.data)||[],z=(De=C.data)==null?void 0:De.pagination,L=((Qe=C.data)==null?void 0:Qe.search_time)||0,J=R.data,A=$.data||[],H=C.isLoading,ae=C.isError;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Search Results",o&&s.jsxs("span",{className:"text-purple-600",children:[' for "',o,'"']})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx("button",{onClick:()=>g(v==="grid"?"list":"grid"),className:"p-2 border border-gray-300 rounded-md hover:bg-gray-50",children:v==="grid"?s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[z&&s.jsxs("span",{children:[z.total," products found",L>0&&` in ${L}ms`]}),(p.length>0||x.length>0||b.min||b.max)&&s.jsx("button",{onClick:F,className:"text-purple-600 hover:text-purple-700 font-medium",children:"Clear all filters"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("label",{htmlFor:"sort",className:"text-gray-700",children:"Sort by:"}),s.jsxs("select",{id:"sort",value:m,onChange:X=>G(X.target.value),className:"border border-gray-300 rounded-md px-3 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"best_selling",children:"Best Selling"}),s.jsx("option",{value:"product_name",children:"Name A-Z"}),s.jsx("option",{value:"base_price",children:"Price: Low to High"}),s.jsx("option",{value:"created_at",children:"Newest"})]})]})]}),(p.length>0||x.length>0||b.min||b.max)&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.min&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Min: $",b.min,s.jsx("button",{onClick:()=>O(null,b.max),className:"ml-2 text-purple-600 hover:text-purple-700",children:""})]}),b.max&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Max: $",b.max,s.jsx("button",{onClick:()=>O(b.min,null),className:"ml-2 text-purple-600 hover:text-purple-700",children:""})]}),p.map(X=>{const E=A.find(te=>te.brand_id===X);return E?s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[E.brand_name,s.jsx("button",{onClick:()=>D(X),className:"ml-2 text-blue-600 hover:text-blue-700",children:""})]},X):null}),x.map(X=>s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[X,s.jsx("button",{onClick:()=>Z(X),className:"ml-2 text-green-600 hover:text-green-700",children:""})]},X))]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"lg:w-1/4",children:[s.jsx("div",{className:"lg:hidden mb-4",children:s.jsxs("button",{onClick:()=>S(!w),className:"w-full flex items-center justify-between px-4 py-2 border border-gray-300 rounded-md bg-white",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Filters"}),s.jsx("svg",{className:`w-5 h-5 transform ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),s.jsxs("div",{className:`space-y-6 ${w?"block":"hidden lg:block"}`,children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Price Range"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"number",placeholder:"Min",value:b.min||"",onChange:X=>f(E=>({...E,min:X.target.value?Number(X.target.value):null})),className:"w-1/2 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),s.jsx("input",{type:"number",placeholder:"Max",value:b.max||"",onChange:X=>f(E=>({...E,max:X.target.value?Number(X.target.value):null})),className:"w-1/2 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsx("button",{onClick:()=>O(b.min,b.max),className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Apply Price Filter"})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Brands"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.map(X=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:p.includes(X.brand_id),onChange:()=>D(X.brand_id),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:X.brand_name})]},X.brand_id))})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Fragrance Families"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:k.map(X=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:x.includes(X),onChange:()=>Z(X),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:X})]},X))})]})]})]}),s.jsx("div",{className:"lg:w-3/4",children:H?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Searching..."})]}):ae?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-red-600 mb-4",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Search Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Sorry, we encountered an error while searching. Please try again."}),s.jsx("button",{onClick:()=>C.refetch(),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Try Again"})]}):B.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:[`We couldn't find any products matching "`,o,'". Try adjusting your search or filters.']}),(J==null?void 0:J.popular_searches)&&J.popular_searches.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Popular searches:"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:J.popular_searches.slice(0,5).map(X=>s.jsx(V,{to:`/search?query=${encodeURIComponent(X)}`,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-gray-200",children:X},X))})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(V,{to:"/fragrance-finder",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:["Try our Fragrance Finder",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:v==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:B.map(X=>s.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow ${v==="list"?"flex":""}`,children:[s.jsx("div",{className:v==="list"?"w-32 flex-shrink-0":"aspect-w-1 aspect-h-1",children:s.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),s.jsxs("div",{className:"p-4 flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:s.jsx(V,{to:`/products/${X.product_id}`,className:"hover:text-purple-600",dangerouslySetInnerHTML:{__html:X.product_name.replace(new RegExp(`(${o})`,"gi"),'<mark class="bg-yellow-200">$1</mark>')}})}),s.jsx("p",{className:"text-xs text-gray-600 mb-1",children:X.concentration}),s.jsx("p",{className:"text-xs text-gray-500",children:typeof X.fragrance_families=="string"?X.fragrance_families.split(",").map(E=>E.trim()).join(", "):X.fragrance_families})]}),X.is_new_arrival&&s.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded",children:"New"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:X.sale_price?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-lg font-bold text-purple-600",children:["$",Number(X.sale_price).toFixed(2)]}),s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",Number(X.base_price).toFixed(2)]})]}):s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",Number(X.base_price).toFixed(2)]})}),s.jsx("button",{onClick:()=>I(X),disabled:X.availability_status!=="in_stock",className:"px-3 py-1 bg-purple-600 text-white text-sm rounded-md hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:X.availability_status==="in_stock"?"Add to Cart":"Out of Stock"})]})]})]},X.product_id))}),z&&z.total_pages>1&&s.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(z.page-1)*z.per_page+1," to ",Math.min(z.page*z.per_page,z.total)," of ",z.total," results"]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>N(z.page-1),disabled:!z.has_prev,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,z.total_pages)},(X,E)=>{const te=Math.max(1,z.page-2)+E;return te>z.total_pages?null:s.jsx("button",{onClick:()=>N(te),className:`px-3 py-2 border text-sm font-medium rounded-md ${te===z.page?"bg-purple-600 text-white border-purple-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:te},te)}),s.jsx("button",{onClick:()=>N(z.page+1),disabled:!z.has_next,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed",children:"Next"})]})]})]})})]})})]})})},DC=()=>{var S;const[e]=qs(),t=e.get("order_id"),r=q(P=>P.authentication_state.authentication_status.is_authenticated),n=q(P=>P.register_user),a=q(P=>P.clear_cart),i=q(P=>P.show_notification),[o,l]=j.useState(!1),[c,d]=j.useState({first_name:"",last_name:"",password:"",confirm_password:"",newsletter_consent:!1,terms_accepted:!1}),[u,m]=j.useState(!1),[h,v]=j.useState({}),{data:g,isLoading:b,error:f}=ce({queryKey:["order",t],queryFn:async()=>{if(!t)throw new Error("Order ID is required");return(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/orders/${t}`)).data},enabled:!!t,staleTime:6e4,retry:1}),{data:p,isLoading:y}=ce({queryKey:["address",g==null?void 0:g.shipping_address_id],queryFn:async()=>{if(!(g!=null&&g.shipping_address_id))throw new Error("Shipping address ID is required");return(await ee.get(`https://123luxury-fragrance-brand.launchpulse.ai/api/addresses/${g.shipping_address_id}`)).data},enabled:!!(g!=null&&g.shipping_address_id),staleTime:6e4,retry:1});j.useEffect(()=>{g&&!b&&a()},[g,b,a]),j.useEffect(()=>{g&&p&&!r&&(d(P=>({...P,first_name:p.first_name,last_name:p.last_name})),l(!r))},[g,p,r]);const x=async P=>{P.preventDefault(),v({});const C={};if(c.first_name.trim()||(C.first_name="First name is required"),c.last_name.trim()||(C.last_name="Last name is required"),c.password.length<8&&(C.password="Password must be at least 8 characters"),c.password!==c.confirm_password&&(C.confirm_password="Passwords do not match"),c.terms_accepted||(C.terms_accepted="You must accept the terms and conditions"),Object.keys(C).length>0){v(C);return}m(!0);try{await n({email:g.customer_email,password:c.password,first_name:c.first_name,last_name:c.last_name,phone_number:g.customer_phone||void 0}),i({type:"success",title:"Account Created!",message:"Your account has been created and your order has been associated with it.",auto_dismiss:!0,duration:5e3}),l(!1)}catch(R){v({general:R.message||"Failed to create account"})}finally{m(!1)}},_=()=>{if(!(g!=null&&g.created_at))return"";const P=new Date(g.created_at);return new Date(P.getTime()+5*24*60*60*1e3).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},w=P=>new Intl.NumberFormat("en-US",{style:"currency",currency:(g==null?void 0:g.currency)||"USD"}).format(P);return b||y?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your order confirmation..."})]})})}):f||!g?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the order you're looking for. Please check your order number and try again."}),s.jsx(V,{to:"/account/orders",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"View All Orders"})]})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8 text-center",children:[s.jsx("div",{className:"text-green-500 text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Confirmed!"}),s.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Thank you for your order. We've received your purchase and will begin processing it shortly."}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 inline-block",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Order Number"}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.order_number})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Details"}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:new Date(g.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Estimated Delivery"}),s.jsx("p",{className:"font-medium",children:_()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Order Status"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 capitalize",children:g.order_status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Payment Status"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 capitalize",children:g.payment_status})]})]}),g.tracking_number&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Tracking Information"}),s.jsxs("p",{className:"text-sm text-blue-600",children:["Tracking Number: ",g.tracking_number]}),s.jsx(V,{to:`/track-order?order_number=${g.order_number}&email=${g.customer_email}`,className:"text-sm text-blue-600 hover:text-blue-800 underline mt-2 inline-block",children:"Track Your Order "})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Items Ordered"}),s.jsx("div",{className:"space-y-4",children:(S=g.items)==null?void 0:S.map(P=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-500",children:"IMG"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:P.product_name}),s.jsx("p",{className:"text-sm text-gray-500",children:P.brand_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[P.size_ml,"ml"]}),P.gift_wrap&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800 mt-1",children:"Gift Wrapped"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium text-gray-900",children:w(P.unit_price)}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",P.quantity]})]})]},P.order_item_id))})]}),p&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Shipping Address"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsxs("p",{className:"font-medium",children:[p.first_name," ",p.last_name]}),p.company&&s.jsx("p",{children:p.company}),s.jsx("p",{children:p.address_line_1}),p.address_line_2&&s.jsx("p",{children:p.address_line_2}),s.jsxs("p",{children:[p.city,", ",p.state_province," ",p.postal_code]}),s.jsx("p",{children:p.country}),p.phone_number&&s.jsxs("p",{children:["Phone: ",p.phone_number]})]})]}),g.gift_message&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Gift Message"}),s.jsx("div",{className:"p-4 bg-pink-50 rounded-lg",children:s.jsxs("p",{className:"text-gray-700 italic",children:['"',g.gift_message,'"']})})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:w(g.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping"}),s.jsx("span",{className:"font-medium",children:g.shipping_cost>0?w(g.shipping_cost):"Free"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tax"}),s.jsx("span",{className:"font-medium",children:w(g.tax_amount)})]}),g.discount_amount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{className:"font-medium",children:["-",w(g.discount_amount)]})]}),s.jsx("div",{className:"border-t pt-3",children:s.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:w(g.total_amount)})]})})]})]}),!r&&o&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create Your Account"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create an account to easily track this order and future purchases."}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-md text-sm",children:h.general}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),s.jsx("input",{type:"text",value:c.first_name,onChange:P=>{d(C=>({...C,first_name:P.target.value})),h.first_name&&v(C=>({...C,first_name:""}))},className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.first_name?"border-red-300 bg-red-50":"border-gray-300"}`}),h.first_name&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:h.first_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),s.jsx("input",{type:"text",value:c.last_name,onChange:P=>{d(C=>({...C,last_name:P.target.value})),h.last_name&&v(C=>({...C,last_name:""}))},className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.last_name?"border-red-300 bg-red-50":"border-gray-300"}`}),h.last_name&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:h.last_name})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{type:"email",value:g.customer_email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 text-gray-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",value:c.password,onChange:P=>{d(C=>({...C,password:P.target.value})),h.password&&v(C=>({...C,password:""}))},className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Minimum 8 characters"}),h.password&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:h.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),s.jsx("input",{type:"password",value:c.confirm_password,onChange:P=>{d(C=>({...C,confirm_password:P.target.value})),h.confirm_password&&v(C=>({...C,confirm_password:""}))},className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 ${h.confirm_password?"border-red-300 bg-red-50":"border-gray-300"}`}),h.confirm_password&&s.jsx("p",{className:"text-red-600 text-xs mt-1",children:h.confirm_password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-start space-x-2",children:[s.jsx("input",{type:"checkbox",checked:c.newsletter_consent,onChange:P=>d(C=>({...C,newsletter_consent:P.target.checked})),className:"mt-0.5 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Subscribe to our newsletter for exclusive offers and new arrivals"})]}),s.jsxs("label",{className:"flex items-start space-x-2",children:[s.jsx("input",{type:"checkbox",checked:c.terms_accepted,onChange:P=>{d(C=>({...C,terms_accepted:P.target.checked})),h.terms_accepted&&v(C=>({...C,terms_accepted:""}))},className:"mt-0.5 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsxs("span",{className:"text-xs text-gray-600",children:["I agree to the ",s.jsx(V,{to:"/terms",className:"text-purple-600 hover:underline",children:"Terms of Service"})," and ",s.jsx(V,{to:"/privacy",className:"text-purple-600 hover:underline",children:"Privacy Policy"})]})]}),h.terms_accepted&&s.jsx("p",{className:"text-red-600 text-xs",children:h.terms_accepted})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Creating...":"Create Account"}),s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Skip"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"What's Next?"}),s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-semibold text-xs",children:"1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Order Processing"}),s.jsx("p",{className:"text-gray-600",children:"We'll prepare your order within 1-2 business days."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-semibold text-xs",children:"2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Shipping"}),s.jsx("p",{className:"text-gray-600",children:"Your order will be shipped with tracking information."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-purple-600 font-semibold text-xs",children:"3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Enjoy"}),s.jsx("p",{className:"text-gray-600",children:"Store in a cool, dry place away from direct sunlight."})]})]})]})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold text-amber-900 mb-3",children:"Fragrance Care Tips"}),s.jsxs("ul",{className:"text-sm text-amber-800 space-y-2",children:[s.jsx("li",{children:" Store in a cool, dry place away from heat and sunlight"}),s.jsx("li",{children:" Keep bottles upright to prevent leakage"}),s.jsx("li",{children:" Avoid extreme temperature changes"}),s.jsx("li",{children:" Use within 3-5 years for best quality"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Need Help?"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Customer Service"}),s.jsx("p",{className:"text-gray-600",children:"Mon-Fri: 9AM-6PM EST"}),s.jsx("p",{className:"text-purple-600",children:"1-800-LUXE-SCENT"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Email Support"}),s.jsx("p",{className:"text-purple-600",children:"support@luxescent.com"})]}),s.jsx(V,{to:"/support",className:"inline-flex items-center text-purple-600 hover:text-purple-800 font-medium",children:"Visit Help Center "})]})]})]})]}),s.jsx("div",{className:"mt-8 bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(V,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Continue Shopping"}),s.jsx(V,{to:`/track-order?order_number=${g.order_number}&email=${g.customer_email}`,className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Track Your Order"}),r&&s.jsx(V,{to:"/account/orders",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"View All Orders"})]})})]})})})},OC=()=>{const e=bs(),t=q(A=>A.authentication_state.auth_token),r=q(A=>A.update_user_profile),n=q(A=>A.show_notification),[a,i]=j.useState("personal"),[o,l]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(!1),[h,v]=j.useState({first_name:"",last_name:"",email:"",phone_number:"",date_of_birth:""}),[g,b]=j.useState({email_marketing:!1,sms_updates:!1,restock_alerts:!0,price_drop_alerts:!0}),[f,p]=j.useState({preferred_families:[],intensity_preference:"",occasion_preferences:[],season_preferences:[]}),[y,x]=j.useState({address_type:"shipping",first_name:"",last_name:"",company:"",address_line_1:"",address_line_2:"",city:"",state_province:"",postal_code:"",country:"",phone_number:"",is_default:!1}),[_,w]=j.useState({current_password:"",new_password:"",confirm_password:""}),S=()=>"https://123luxury-fragrance-brand.launchpulse.ai",{data:P,isLoading:C}=ce({queryKey:["userProfile"],queryFn:async()=>(await ee.get(`${S()}/api/users/profile`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!t}),{data:R=[],isLoading:$}=ce({queryKey:["userAddresses"],queryFn:async()=>(await ee.get(`${S()}/api/addresses`,{headers:{Authorization:`Bearer ${t}`}})).data,enabled:!!t}),Y=ve({mutationFn:async A=>(await ee.put(`${S()}/api/users/profile`,A,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:A=>{r(A),e.invalidateQueries({queryKey:["userProfile"]}),n({type:"success",message:"Profile updated successfully",auto_dismiss:!0,duration:3e3})},onError:A=>{var H,ae;n({type:"error",message:((ae=(H=A.response)==null?void 0:H.data)==null?void 0:ae.message)||"Failed to update profile",auto_dismiss:!0,duration:5e3})}}),O=ve({mutationFn:async A=>(await ee.post(`${S()}/api/addresses`,A,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["userAddresses"]}),d(!1),I(),n({type:"success",message:"Address added successfully",auto_dismiss:!0,duration:3e3})},onError:A=>{var H,ae;n({type:"error",message:((ae=(H=A.response)==null?void 0:H.data)==null?void 0:ae.message)||"Failed to add address",auto_dismiss:!0,duration:5e3})}}),D=ve({mutationFn:async({addressId:A,data:H})=>(await ee.put(`${S()}/api/addresses/${A}`,H,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{e.invalidateQueries({queryKey:["userAddresses"]}),l(null),I(),n({type:"success",message:"Address updated successfully",auto_dismiss:!0,duration:3e3})},onError:A=>{var H,ae;n({type:"error",message:((ae=(H=A.response)==null?void 0:H.data)==null?void 0:ae.message)||"Failed to update address",auto_dismiss:!0,duration:5e3})}}),Z=ve({mutationFn:async A=>{await ee.delete(`${S()}/api/addresses/${A}`,{headers:{Authorization:`Bearer ${t}`}})},onSuccess:()=>{e.invalidateQueries({queryKey:["userAddresses"]}),n({type:"success",message:"Address deleted successfully",auto_dismiss:!0,duration:3e3})},onError:A=>{var H,ae;n({type:"error",message:((ae=(H=A.response)==null?void 0:H.data)==null?void 0:ae.message)||"Failed to delete address",auto_dismiss:!0,duration:5e3})}});j.useEffect(()=>{if(P){v({first_name:P.first_name||"",last_name:P.last_name||"",email:P.email||"",phone_number:P.phone_number||"",date_of_birth:P.date_of_birth||""});try{const A=JSON.parse(P.notification_preferences||"{}");b({email_marketing:A.email_marketing||!1,sms_updates:A.sms_updates||!1,restock_alerts:A.restock_alerts||!0,price_drop_alerts:A.price_drop_alerts||!0})}catch(A){console.error("Error parsing notification preferences:",A)}try{const A=JSON.parse(P.fragrance_profile||"{}");p({preferred_families:A.preferred_families||[],intensity_preference:A.intensity_preference||"",occasion_preferences:A.occasion_preferences||[],season_preferences:A.season_preferences||[]})}catch(A){console.error("Error parsing fragrance profile:",A)}}},[P]);const G=A=>{A.preventDefault(),Y.mutate({...h,notification_preferences:JSON.stringify(g),fragrance_profile:JSON.stringify(f)})},N=A=>{A.preventDefault(),o?D.mutate({addressId:o,data:y}):O.mutate(y)},F=A=>{if(A.preventDefault(),_.new_password!==_.confirm_password){n({type:"error",message:"New passwords do not match",auto_dismiss:!0,duration:5e3});return}n({type:"error",message:"Password change feature is not yet implemented",auto_dismiss:!0,duration:5e3})},I=()=>{x({address_type:"shipping",first_name:"",last_name:"",company:"",address_line_1:"",address_line_2:"",city:"",state_province:"",postal_code:"",country:"",phone_number:"",is_default:!1})},k=A=>{x({address_id:A.address_id,address_type:A.address_type,first_name:A.first_name,last_name:A.last_name,company:A.company||"",address_line_1:A.address_line_1,address_line_2:A.address_line_2||"",city:A.city,state_province:A.state_province,postal_code:A.postal_code,country:A.country,phone_number:A.phone_number||"",is_default:A.is_default}),l(A.address_id),d(!0)},B=["Floral","Oriental","Fresh","Woody","Citrus","Fruity","Spicy","Marine"],z=["Very Light","Light","Moderate","Strong","Very Strong"],L=["Office","Evening","Date Night","Casual","Special Events","Travel"],J=["Spring","Summer","Fall","Winter"];return C?s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg mb-8",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your personal information and preferences"})]}),s.jsx("div",{className:"px-6",children:s.jsx("nav",{className:"flex space-x-8",children:[{id:"personal",label:"Personal Info"},{id:"addresses",label:"Address Book"},{id:"security",label:"Security"},{id:"preferences",label:"Preferences"},{id:"privacy",label:"Privacy"}].map(A=>s.jsx("button",{onClick:()=>i(A.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===A.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:A.label},A.id))})})]}),a==="personal"&&s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Update your personal details and contact information"})]}),s.jsxs("form",{onSubmit:G,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),s.jsx("input",{type:"text",id:"first_name",value:h.first_name,onChange:A=>v(H=>({...H,first_name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),s.jsx("input",{type:"text",id:"last_name",value:h.last_name,onChange:A=>v(H=>({...H,last_name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:h.email,onChange:A=>v(H=>({...H,email:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"phone_number",value:h.phone_number,onChange:A=>v(H=>({...H,phone_number:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"date_of_birth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),s.jsx("input",{type:"date",id:"date_of_birth",value:h.date_of_birth,onChange:A=>v(H=>({...H,date_of_birth:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",disabled:Y.isPending,className:"bg-purple-600 text-white px-6 py-2 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending?"Saving...":"Save Changes"})})]})]}),a==="addresses"&&s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Address Book"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your shipping and billing addresses"})]}),s.jsx("button",{onClick:()=>{I(),d(!0),l(null)},className:"bg-purple-600 text-white px-4 py-2 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:"Add Address"})]}),s.jsxs("div",{className:"p-6",children:[$?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):R.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No addresses found. Add your first address to get started."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:R.map(A=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A.address_type==="shipping"?"bg-blue-100 text-blue-800":A.address_type==="billing"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:A.address_type.charAt(0).toUpperCase()+A.address_type.slice(1)}),A.is_default&&s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Default"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>k(A),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"Edit"}),s.jsx("button",{onClick:()=>Z.mutate(A.address_id),className:"text-red-600 hover:text-red-700 text-sm font-medium",disabled:Z.isPending,children:"Delete"})]})]}),s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("p",{className:"font-medium",children:[A.first_name," ",A.last_name]}),A.company&&s.jsx("p",{children:A.company}),s.jsx("p",{children:A.address_line_1}),A.address_line_2&&s.jsx("p",{children:A.address_line_2}),s.jsxs("p",{children:[A.city,", ",A.state_province," ",A.postal_code]}),s.jsx("p",{children:A.country}),A.phone_number&&s.jsx("p",{children:A.phone_number})]})]},A.address_id))}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:o?"Edit Address":"Add New Address"}),s.jsx("button",{onClick:()=>{d(!1),l(null),I()},className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type"}),s.jsxs("select",{value:y.address_type,onChange:A=>x(H=>({...H,address_type:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"shipping",children:"Shipping"}),s.jsx("option",{value:"billing",children:"Billing"}),s.jsx("option",{value:"both",children:"Both"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:y.first_name,onChange:A=>x(H=>({...H,first_name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:y.last_name,onChange:A=>x(H=>({...H,last_name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company (Optional)"}),s.jsx("input",{type:"text",value:y.company,onChange:A=>x(H=>({...H,company:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 1"}),s.jsx("input",{type:"text",value:y.address_line_1,onChange:A=>x(H=>({...H,address_line_1:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 2 (Optional)"}),s.jsx("input",{type:"text",value:y.address_line_2,onChange:A=>x(H=>({...H,address_line_2:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",value:y.city,onChange:A=>x(H=>({...H,city:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),s.jsx("input",{type:"text",value:y.state_province,onChange:A=>x(H=>({...H,state_province:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),s.jsx("input",{type:"text",value:y.postal_code,onChange:A=>x(H=>({...H,postal_code:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),s.jsx("input",{type:"text",value:y.country,onChange:A=>x(H=>({...H,country:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),s.jsx("input",{type:"tel",value:y.phone_number,onChange:A=>x(H=>({...H,phone_number:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_default",checked:y.is_default,onChange:A=>x(H=>({...H,is_default:A.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_default",className:"ml-2 block text-sm text-gray-700",children:"Set as default address"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{d(!1),l(null),I()},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:O.isPending||D.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:O.isPending||D.isPending?"Saving...":o?"Update Address":"Add Address"})]})]})]})})]})]}),a==="security"&&s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Security Settings"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your account security and login credentials"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),u?s.jsxs("form",{onSubmit:F,className:"space-y-4 max-w-md",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsx("input",{type:"password",id:"current_password",value:_.current_password,onChange:A=>w(H=>({...H,current_password:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsx("input",{type:"password",id:"new_password",value:_.new_password,onChange:A=>w(H=>({...H,new_password:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,minLength:8})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsx("input",{type:"password",id:"confirm_password",value:_.confirm_password,onChange:A=>w(H=>({...H,confirm_password:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,minLength:8})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{type:"submit",className:"bg-purple-600 text-white px-4 py-2 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:"Update Password"}),s.jsx("button",{type:"button",onClick:()=>{m(!1),w({current_password:"",new_password:"",confirm_password:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>m(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2",children:"Change Password"})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Add an extra layer of security to your account"}),s.jsx("button",{disabled:!0,className:"bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Coming Soon"})]})]})]}),a==="preferences"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Communication Preferences"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Choose how you'd like to receive updates from us"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email Marketing"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive promotional emails about new products and sales"})]}),s.jsx("input",{type:"checkbox",checked:g.email_marketing,onChange:A=>b(H=>({...H,email_marketing:A.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"SMS Updates"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get order updates and shipping notifications via text"})]}),s.jsx("input",{type:"checkbox",checked:g.sms_updates,onChange:A=>b(H=>({...H,sms_updates:A.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Restock Alerts"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Notify me when wishlisted items are back in stock"})]}),s.jsx("input",{type:"checkbox",checked:g.restock_alerts,onChange:A=>b(H=>({...H,restock_alerts:A.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Price Drop Alerts"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when prices drop on your favorite items"})]}),s.jsx("input",{type:"checkbox",checked:g.price_drop_alerts,onChange:A=>b(H=>({...H,price_drop_alerts:A.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:G,disabled:Y.isPending,className:"bg-purple-600 text-white px-6 py-2 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending?"Saving...":"Save Preferences"})})]})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Fragrance Preferences"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Help us recommend fragrances you'll love"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Preferred Fragrance Families"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:B.map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f.preferred_families.includes(A),onChange:H=>{H.target.checked?p(ae=>({...ae,preferred_families:[...ae.preferred_families,A]})):p(ae=>({...ae,preferred_families:ae.preferred_families.filter(ye=>ye!==A)}))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:A})]},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intensity Preference"}),s.jsxs("select",{value:f.intensity_preference,onChange:A=>p(H=>({...H,intensity_preference:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select intensity preference"}),z.map(A=>s.jsx("option",{value:A,children:A},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Preferred Occasions"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:L.map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f.occasion_preferences.includes(A),onChange:H=>{H.target.checked?p(ae=>({...ae,occasion_preferences:[...ae.occasion_preferences,A]})):p(ae=>({...ae,occasion_preferences:ae.occasion_preferences.filter(ye=>ye!==A)}))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:A})]},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Preferred Seasons"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:J.map(A=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:f.season_preferences.includes(A),onChange:H=>{H.target.checked?p(ae=>({...ae,season_preferences:[...ae.season_preferences,A]})):p(ae=>({...ae,season_preferences:ae.season_preferences.filter(ye=>ye!==A)}))},className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:A})]},A))})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:G,disabled:Y.isPending,className:"bg-purple-600 text-white px-6 py-2 rounded-md font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending?"Saving...":"Save Preferences"})})]})]})]}),a==="privacy"&&s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your data privacy and account settings"})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Data Export"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Download a copy of your personal data"}),s.jsx("button",{disabled:!0,className:"bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Request Data Export (Coming Soon)"})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cookie Preferences"}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Manage your cookie consent preferences"}),s.jsx("button",{disabled:!0,className:"bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Manage Cookies (Coming Soon)"})]}),s.jsxs("div",{className:"border border-red-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Delete Account"}),s.jsx("p",{className:"text-red-600 text-sm mb-4",children:"Permanently delete your account and all associated data"}),s.jsx("button",{disabled:!0,className:"bg-red-200 text-red-400 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Delete Account (Coming Soon)"})]})]})]})]})})})},zC=()=>{var G,N;const e=q(F=>F.authentication_state.auth_token),t=q(F=>F.authentication_state.authentication_status.is_authenticated),r=q(F=>F.show_notification),[n,a]=j.useState({order_status:null,payment_status:null,date_from:null,date_to:null,price_min:null,price_max:null}),[i,o]=j.useState({current_page:1,per_page:10,total_orders:0,total_pages:0,has_next:!1,has_prev:!1}),[l,c]=j.useState(null),[d,u]=j.useState(!1),[m,h]=j.useState(null),[v,g]=j.useState(!1),b=()=>"https://123luxury-fragrance-brand.launchpulse.ai",f=async(F,I,k)=>{const B={page:I,per_page:k};return F.order_status&&(B.order_status=F.order_status),F.payment_status&&(B.payment_status=F.payment_status),F.date_from&&(B.date_from=F.date_from),F.date_to&&(B.date_to=F.date_to),(await ee.get(`${b()}/api/orders`,{headers:{Authorization:`Bearer ${e}`},params:B})).data},p=async F=>(await ee.get(`${b()}/api/orders/${F}`,{headers:{Authorization:`Bearer ${e}`}})).data,y=async F=>(await ee.get(`${b()}/api/orders/track`,{headers:{Authorization:`Bearer ${e}`},params:{order_number:F}})).data,x=ce({queryKey:["orders",n,i.current_page,i.per_page],queryFn:()=>f(n,i.current_page,i.per_page),enabled:t&&!!e,staleTime:6e4,refetchOnWindowFocus:!1}),_=ce({queryKey:["order-details",l==null?void 0:l.order_id],queryFn:()=>p(l.order_id),enabled:!!l&&t&&!!e,staleTime:3e5}),w=ve({mutationFn:async()=>{throw new Error("Reorder functionality is not yet implemented on the server")},onSuccess:()=>{r({type:"success",message:"Items added to cart successfully",auto_dismiss:!0,duration:3e3})},onError:F=>{r({type:"error",message:F.message||"Failed to reorder items",auto_dismiss:!0,duration:5e3})}});j.useEffect(()=>{x.data&&o(F=>({...F,total_orders:x.data.pagination.total,total_pages:x.data.pagination.total_pages,has_next:x.data.pagination.has_next,has_prev:x.data.pagination.has_prev}))},[x.data]);const S=(F,I)=>{a(k=>({...k,[F]:I})),o(k=>({...k,current_page:1}))},P=()=>{a({order_status:null,payment_status:null,date_from:null,date_to:null,price_min:null,price_max:null}),o(F=>({...F,current_page:1}))},C=F=>{o(I=>({...I,current_page:F}))},R=F=>{c(F),u(!0)},$=async F=>{if(!F.tracking_number){r({type:"info",message:"Tracking information is not yet available for this order",auto_dismiss:!0,duration:3e3});return}try{const I=await y(F.order_number);h(I),g(!0)}catch{r({type:"error",message:"Failed to load tracking information",auto_dismiss:!0,duration:5e3})}},Y=()=>{w.mutate()},O=(F,I)=>{const k="px-2 py-1 text-xs font-medium rounded-full",z={order:{pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"},payment:{pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800",partially_refunded:"bg-orange-100 text-orange-800"},fulfillment:{unfulfilled:"bg-gray-100 text-gray-800",partial:"bg-yellow-100 text-yellow-800",fulfilled:"bg-green-100 text-green-800"}}[I][F]||"bg-gray-100 text-gray-800";return s.jsx("span",{className:`${k} ${z}`,children:F.replace("_"," ").replace(/\b\w/g,L=>L.toUpperCase())})},D=(F,I="USD")=>{const k=typeof F=="string"?parseFloat(F):F;return new Intl.NumberFormat("en-US",{style:"currency",currency:I}).format(k)},Z=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order History"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"View and manage your past orders"})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(V,{to:"/account",className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:" Back to Account"})})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filter Orders"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Status"}),s.jsxs("select",{value:n.order_status||"",onChange:F=>S("order_status",F.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),s.jsxs("select",{value:n.payment_status||"",onChange:F=>S("payment_status",F.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"All Payments"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"refunded",children:"Refunded"}),s.jsx("option",{value:"partially_refunded",children:"Partially Refunded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),s.jsx("input",{type:"date",value:n.date_from||"",onChange:F=>S("date_from",F.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),s.jsx("input",{type:"date",value:n.date_to||"",onChange:F=>S("date_to",F.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:P,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Clear Filters"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:x.isLoading?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]}):x.error?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load orders"}),s.jsx("button",{onClick:()=>x.refetch(),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Try Again"})]}):(N=(G=x.data)==null?void 0:G.data)!=null&&N.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:[s.jsx("div",{children:"Order"}),s.jsx("div",{children:"Date"}),s.jsx("div",{children:"Status"}),s.jsx("div",{children:"Payment"}),s.jsx("div",{children:"Total"}),s.jsx("div",{children:"Actions"})]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:x.data.data.map(F=>s.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",F.order_number]}),F.tracking_number&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tracking: ",F.tracking_number]})]}),s.jsx("div",{children:s.jsx("p",{className:"text-sm text-gray-900",children:Z(F.created_at)})}),s.jsx("div",{children:O(F.order_status,"order")}),s.jsx("div",{children:O(F.payment_status,"payment")}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-medium text-gray-900",children:D(F.total_amount,F.currency)})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>R(F),className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded hover:bg-purple-200",children:"Details"}),F.tracking_number&&s.jsx("button",{onClick:()=>$(F),className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded hover:bg-blue-200",children:"Track"}),F.order_status==="delivered"&&s.jsx("button",{onClick:()=>Y(),disabled:w.isPending,className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded hover:bg-green-200 disabled:opacity-50",children:"Reorder"})]})]})},F.order_id))}),i.total_pages>1&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",i.current_page," of ",i.total_pages,"(",i.total_orders," total orders)"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>C(i.current_page-1),disabled:!i.has_prev,className:"px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>C(i.current_page+1),disabled:!i.has_next,className:"px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"No orders found"}),s.jsx(V,{to:"/products",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Start Shopping"})]})})]}),d&&l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Order Details - #",l.order_number]}),s.jsxs("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),_.isLoading?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Order Summary"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Order Date:"}),s.jsx("span",{className:"ml-2 font-medium",children:Z(l.created_at)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Order Status:"}),s.jsx("span",{className:"ml-2",children:O(l.order_status,"order")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),s.jsx("span",{className:"ml-2",children:O(l.payment_status,"payment")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Fulfillment:"}),s.jsx("span",{className:"ml-2",children:O(l.fulfillment_status,"fulfillment")})]})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Order Totals"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),s.jsx("span",{children:D(l.subtotal,l.currency)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Shipping:"}),s.jsx("span",{children:D(l.shipping_cost,l.currency)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tax:"}),s.jsx("span",{children:D(l.tax_amount,l.currency)})]}),l.discount_amount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-",D(l.discount_amount,l.currency)]})]}),s.jsxs("div",{className:"flex justify-between font-medium text-base border-t border-gray-200 pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:D(l.total_amount,l.currency)})]})]})})]}),l.gift_message&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Gift Message"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-gray-700",children:l.gift_message})})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[l.tracking_number&&s.jsx("button",{onClick:()=>$(l),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Track Order"}),l.order_status==="delivered"&&s.jsx("button",{onClick:()=>Y(),disabled:w.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm disabled:opacity-50",children:"Reorder"})]})]})]})})}),v&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Order Tracking - #",m.order.order_number]}),s.jsxs("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Close"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),s.jsx("div",{className:"space-y-6",children:m.tracking_events&&m.tracking_events.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Tracking Events"}),s.jsx("div",{className:"space-y-4",children:m.tracking_events.map((F,I)=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-3 h-3 bg-purple-600 rounded-full mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.description}),s.jsxs("p",{className:"text-xs text-gray-500",children:[F.location,"  ",Z(F.timestamp)]})]})]},I))})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"No tracking events available yet"})})})]})})})]})}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please sign in"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be signed in to view your order history."}),s.jsx(V,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:"Sign In"})]})})})},BC=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 text-white py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About Nocturne Atelier"}),s.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto",children:"Crafting extraordinary fragrance experiences since 1985"})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-600",children:[s.jsx("p",{className:"mb-4",children:"Founded in 1985, Nocturne Atelier has been at the forefront of luxury fragrance curation. Our journey began with a simple vision: to make the world's finest perfumes accessible to discerning customers who appreciate the art of fragrance."}),s.jsx("p",{className:"mb-4",children:"Over the decades, we've built relationships with the most prestigious perfume houses and emerging niche brands, carefully selecting fragrances that embody excellence, creativity, and timeless elegance. Each bottle in our collection tells a unique story of craftsmanship and passion."}),s.jsx("p",{children:"Today, Nocturne Atelier serves fragrance enthusiasts worldwide, offering not just products, but a complete sensory experience. From our curated collections to our personalized fragrance finder service, we're dedicated to helping you discover your signature scent."})]})]}),s.jsxs("div",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Our Values"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authenticity"}),s.jsx("p",{className:"text-gray-600",children:"Every fragrance we sell is 100% authentic, sourced directly from authorized distributors and brand partners."})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Expertise"}),s.jsx("p",{className:"text-gray-600",children:"Our team of fragrance experts curates every collection with deep knowledge and passion for perfumery."})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Customer Care"}),s.jsx("p",{className:"text-gray-600",children:"Your satisfaction is our priority. From selection to delivery, we ensure a premium experience at every step."})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-8 md:p-12 text-center text-white",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Discover Your Signature Scent"}),s.jsx("p",{className:"text-lg text-purple-100 mb-8 max-w-2xl mx-auto",children:"Let our fragrance finder guide you to your perfect match, or explore our curated collections."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(V,{to:"/fragrance-finder",className:"px-8 py-3 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Take the Fragrance Quiz"}),s.jsx(V,{to:"/products",className:"px-8 py-3 bg-purple-700 text-white rounded-lg font-semibold hover:bg-purple-800 transition-colors border-2 border-white",children:"Browse Collections"})]})]})]})]}),Z0=()=>{const e=[{id:"1",title:"The Art of Layering Fragrances",excerpt:"Discover how to create your unique scent signature by combining different fragrances.",date:"2024-01-15",category:"Tips & Tricks",image:"https://picsum.photos/400/300?random=1"},{id:"2",title:"Understanding Fragrance Notes",excerpt:"Learn about top, middle, and base notes and how they evolve on your skin.",date:"2024-01-10",category:"Education",image:"https://picsum.photos/400/300?random=2"},{id:"3",title:"Seasonal Scents: Spring Collection",excerpt:"Fresh, floral fragrances perfect for the warming weather ahead.",date:"2024-01-05",category:"Collections",image:"https://picsum.photos/400/300?random=3"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-700 text-white py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Nocturne Journal"}),s.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto",children:"Insights, stories, and inspiration from the world of fragrance"})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(t=>s.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow",children:[s.jsx(rt,{src:t.image,alt:t.title,productName:t.title,category:t.category,aspectRatio:"3:4",objectFit:"cover",className:"h-48"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase tracking-wider",children:t.category}),s.jsx("time",{className:"text-xs text-gray-500",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:t.excerpt}),s.jsxs(V,{to:`/journal/${t.id}`,className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:["Read More",s.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},t.id))}),s.jsx("div",{className:"mt-16 text-center",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-2xl mx-auto",children:[s.jsx("svg",{className:"w-16 h-16 text-purple-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"More Stories Coming Soon"}),s.jsx("p",{className:"text-gray-600",children:"We're constantly adding new articles about fragrances, trends, and tips. Subscribe to our newsletter to stay updated!"})]})})]})]})},IC=()=>{const[e,t]=j.useState(null),r=[{id:"1",category:"Orders & Shipping",questions:[{id:"1-1",question:"How long does shipping take?",answer:"Standard shipping typically takes 5-7 business days. Express shipping is available for 2-3 business day delivery. EU orders over 120 qualify for free standard shipping."},{id:"1-2",question:"Do you ship internationally?",answer:"Yes! We ship to most countries worldwide. Shipping costs and delivery times vary by destination. International orders may be subject to customs duties and taxes."},{id:"1-3",question:"How can I track my order?",answer:"Once your order ships, you'll receive a tracking number via email. You can also track your order by visiting our Track Order page or checking your account dashboard."}]},{id:"2",category:"Returns & Refunds",questions:[{id:"2-1",question:"What is your return policy?",answer:"We offer 30-day returns on unopened items in original packaging. The product must be unused, and you'll need your original receipt or proof of purchase."},{id:"2-2",question:"How do I return an item?",answer:"To initiate a return, please contact our customer service team or log into your account and submit a return request. We'll provide you with return shipping instructions."},{id:"2-3",question:"When will I receive my refund?",answer:"Refunds are processed within 5-7 business days after we receive your return. The credit will appear on your original payment method within 3-5 business days."}]},{id:"3",category:"Products",questions:[{id:"3-1",question:"Are your fragrances authentic?",answer:"Yes, absolutely! All our fragrances are 100% authentic and sourced directly from authorized distributors and brand partners. We guarantee authenticity on every purchase."},{id:"3-2",question:"How should I store my fragrances?",answer:"Store fragrances in a cool, dry place away from direct sunlight and heat. Keep bottles tightly closed when not in use. Avoid storing in bathrooms where humidity can affect the scent."},{id:"3-3",question:"Can I try samples before buying?",answer:"Yes! We offer a Sample Program where you can order 2ml samples of most fragrances. This is a great way to test a scent before committing to a full-size bottle."}]},{id:"4",category:"Account",questions:[{id:"4-1",question:"How do I create an account?",answer:`Click "Sign In" in the navigation menu, then select "Create Account." Fill in your details and you'll have instant access to order tracking, wishlists, and exclusive offers.`},{id:"4-2",question:"How do I reset my password?",answer:`Click "Forgot Password" on the login page. Enter your email address, and we'll send you instructions to reset your password.`},{id:"4-3",question:"Can I modify my order after placing it?",answer:"Orders can be modified within 1 hour of placement. After that, our warehouse team begins processing. Contact customer service immediately if you need to make changes."}]}],n=a=>{t(e===a?null:a)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-br from-purple-900 via-indigo-800 to-blue-700 text-white py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto",children:"Find answers to common questions about our products and services"})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.map(a=>s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:a.category}),s.jsx("div",{className:"space-y-4",children:a.questions.map(i=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsxs("button",{onClick:()=>n(i.id),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsx("span",{className:"font-semibold text-gray-900 pr-8",children:i.question}),s.jsx("svg",{className:`w-5 h-5 text-purple-600 flex-shrink-0 transition-transform ${e===i.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e===i.id&&s.jsx("div",{className:"px-6 pb-4 text-gray-600",children:s.jsx("p",{children:i.answer})})]},i.id))})]},a.id)),s.jsxs("div",{className:"mt-16 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-8 text-center text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Still have questions?"}),s.jsx("p",{className:"text-purple-100 mb-6",children:"Our customer service team is here to help you with any inquiries."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(V,{to:"/support",className:"px-8 py-3 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Contact Support"}),s.jsx("a",{href:"tel:+1-800-LUXE-SCENT",className:"px-8 py-3 bg-purple-700 text-white rounded-lg font-semibold hover:bg-purple-800 transition-colors border-2 border-white",children:"Call Us: 1-800-LUXE-SCENT"})]})]})]})]})},$C=()=>{const[e,t]=j.useState({name:"",email:"",subject:"",message:""}),[r,n]=j.useState(!1),[a,i]=j.useState("idle"),o=async c=>{c.preventDefault(),n(!0),setTimeout(()=>{n(!1),i("success"),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>i("idle"),5e3)},1e3)},l=c=>{t({...e,[c.target.name]:c.target.value})};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-br from-indigo-900 via-purple-800 to-pink-700 text-white py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Contact Us"}),s.jsx("h2",{className:"sr-only",children:"Contact Form and Information"}),s.jsx("p",{className:"text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto",children:"We're here to help with any questions or concerns"})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a message"}),a==="success"&&s.jsx("div",{className:"mb-6 p-4 bg-green-100 text-green-800 rounded-lg",children:"Thank you! Your message has been sent successfully. We'll get back to you soon."}),s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",id:"contact-name",name:"name",required:!0,value:e.name,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"John Doe","aria-label":"Your Name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact-email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"contact-email",name:"email",required:!0,value:e.email,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"john@example.com","aria-label":"Email Address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact-subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsxs("select",{id:"contact-subject",name:"subject",required:!0,value:e.subject,onChange:l,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500","aria-label":"Subject",children:[s.jsx("option",{value:"",children:"Select a subject"}),s.jsx("option",{value:"order",children:"Order Inquiry"}),s.jsx("option",{value:"product",children:"Product Question"}),s.jsx("option",{value:"shipping",children:"Shipping & Delivery"}),s.jsx("option",{value:"return",children:"Returns & Refunds"}),s.jsx("option",{value:"general",children:"General Inquiry"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"contact-message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{id:"contact-message",name:"message",required:!0,value:e.message,onChange:l,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"How can we help you?","aria-label":"Message"})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:r?"Sending...":"Send Message"})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Phone"}),s.jsx("a",{href:"tel:+1-800-LUXE-SCENT",className:"text-purple-600 hover:text-purple-700",children:"1-800-LUXE-SCENT"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Mon-Fri: 9am-6pm EST"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Email"}),s.jsx("a",{href:"mailto:hello@nocturne-atelier.com",className:"text-purple-600 hover:text-purple-700",children:"hello@nocturne-atelier.com"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"We'll respond within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsxs("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Address"}),s.jsxs("p",{className:"text-gray-600",children:["123 Fragrance Boulevard",s.jsx("br",{}),"New York, NY 10001",s.jsx("br",{}),"United States"]})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:"Live Chat"}),s.jsx(V,{to:"/support",state:{activeTab:"chat"},className:"text-purple-600 hover:text-purple-700",children:"Start a conversation"}),s.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Online"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[s.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Links"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(V,{to:"/support",className:"block text-purple-600 hover:text-purple-700",children:" Visit our Help Center"}),s.jsx(V,{to:"/track-order",className:"block text-purple-600 hover:text-purple-700",children:" Track your order"}),s.jsx(V,{to:"/faq",className:"block text-purple-600 hover:text-purple-700",children:" Read FAQs"}),s.jsx(V,{to:"/account",className:"block text-purple-600 hover:text-purple-700",children:" Manage your account"})]})]})]})]})})]})},a1=ut.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("bg-[var(--color-surface-primary)] border border-[var(--color-border-primary)] rounded-[var(--card-border-radius)] shadow-[var(--shadow-subtle)] transition-shadow duration-normal",e),...t}));a1.displayName="NocturneCard";const VC=ut.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-[var(--card-padding)]",e),...t}));VC.displayName="NocturneCardHeader";const qC=ut.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:je("text-h3 font-[var(--font-weight-semibold)] leading-none tracking-tight text-[var(--color-fg-primary)]",e),...t}));qC.displayName="NocturneCardTitle";const UC=ut.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:je("text-body text-[var(--color-fg-secondary)]",e),...t}));UC.displayName="NocturneCardDescription";const i1=ut.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("p-[var(--card-padding)] pt-0",e),...t}));i1.displayName="NocturneCardContent";const WC=ut.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:je("flex items-center p-[var(--card-padding)] pt-0",e),...t}));WC.displayName="NocturneCardFooter";const HC=({id:e,name:t,family:r,price:n,sizes:a,image:i,rating:o=0,reviewCount:l=0,badges:c=[],isWishlisted:d=!1,brandName:u,brandLogo:m,onWishlistToggle:h,onQuickAdd:v,onClick:g,className:b,style:f})=>{const[p,y]=j.useState(null),[x,_]=j.useState(null),[w,S]=j.useState(!1),[P,C]=j.useState(null);ut.useEffect(()=>{if(a&&a.length>0&&!p){const D=a.find(Z=>Z.size_ml===50&&Z.stock_quantity>0)||a.find(Z=>Z.stock_quantity>0)||a[0];D&&(y(`${D.size_ml}ml`),_(D))}else!a&&!p&&y("50ml")},[a,p]);const R=D=>{D.stopPropagation(),h==null||h(e)},$=D=>{if(D.stopPropagation(),!p){C("Please select a size first.");return}if(x&&x.stock_quantity<=0){C("This size is out of stock.");return}C(null),v==null||v(e,p,x||void 0)},Y=()=>{g==null||g(e)},O=D=>{switch(D){case"new":return"success";case"bestseller":return"warning";case"limited":return"error";default:return"default"}};return s.jsxs(a1,{className:je("group cursor-pointer relative overflow-hidden",b),style:{...f,transition:"all 0.6s cubic-bezier(0.25, 0.1, 0.25, 1)",transform:w?"translateY(-4px)":"translateY(0)",boxShadow:w?"0 20px 40px rgba(212, 175, 55, 0.15), 0 0 30px rgba(212, 175, 55, 0.1)":"0 4px 6px rgba(0, 0, 0, 0.1)"},onClick:Y,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[s.jsx("div",{className:"absolute inset-0 rounded-[var(--card-border-radius)] pointer-events-none",style:{opacity:w?1:0,boxShadow:w?"0 0 30px rgba(212, 175, 55, 0.4)":"0 0 0px rgba(212, 175, 55, 0)",transition:"all 2s ease-in-out",animation:w?"pulse-glow 2s infinite":"none"}}),s.jsxs("div",{className:"relative overflow-hidden rounded-t-[var(--card-border-radius)]",children:[s.jsx("div",{style:{transform:w?"scale(1.05)":"scale(1)",transition:"transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1)"},children:s.jsx(rt,{src:i,alt:t,productName:t,category:r,aspectRatio:"3:4",objectFit:"cover",className:"rounded-t-[var(--card-border-radius)]"})}),c.length>0&&s.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:c.map(D=>s.jsx(Vr,{variant:O(D),className:"text-xs capitalize",children:D},D))}),s.jsx("button",{onClick:R,className:je("absolute top-3 right-3 p-2 rounded-full bg-white/80 backdrop-blur-sm transition-all duration-normal hover:bg-white hover:scale-110",d&&"text-red-500"),children:s.jsx(bC,{size:16,className:je("transition-all duration-normal",d&&"fill-current")})}),s.jsxs("div",{className:je("absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent p-4 transition-all duration-normal",w?"translate-y-0 opacity-100":"translate-y-full opacity-0"),children:[P&&s.jsx("div",{className:"mb-2 px-2 py-1 bg-red-500/90 text-white text-xs rounded",children:P}),s.jsx("div",{className:"flex items-center gap-2 mb-2",children:a?a.map(D=>{const Z=`${D.size_ml}ml`,G=D.stock_quantity<=0;return s.jsx("button",{onClick:N=>{N.stopPropagation(),y(Z),_(D),C(null)},disabled:G,className:je("px-2 py-1 rounded-full text-xs font-medium transition-all duration-fast",p===Z?"bg-white text-black":G?"bg-white/10 text-white/50 cursor-not-allowed line-through":"bg-white/20 text-white hover:bg-white/30"),title:G?"Out of stock":"",children:Z},D.size_id)}):Object.entries(n).map(([D])=>s.jsx("button",{onClick:Z=>{Z.stopPropagation(),y(D),_(null),C(null)},className:je("px-2 py-1 rounded-full text-xs font-medium transition-all duration-fast",p===D?"bg-white text-black":"bg-white/20 text-white hover:bg-white/30"),children:D},D))}),s.jsxs(mr,{size:"sm",onClick:$,className:"w-full bg-white text-black hover:bg-gray-100",disabled:!p||((x==null?void 0:x.stock_quantity)??1)<=0,children:[s.jsx(r1,{size:14,className:"mr-1"}),p&&n[p]?`Add ${n[p]}`:"Select Size"]})]})]}),s.jsxs(i1,{className:"p-4",children:[(u||m)&&s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m&&s.jsx(rt,{src:m,alt:u||"Brand logo",productName:u,aspectRatio:"auto",objectFit:"contain",className:"h-6 w-auto"}),u&&!m&&s.jsx("span",{className:"text-caption text-[var(--color-fg-muted)] font-[var(--font-weight-medium)]",children:u})]}),s.jsx(Vr,{variant:"family",className:"mb-2 w-fit",children:typeof r=="string"?r.split(",").map(D=>D.trim()).slice(0,2).join(", "):Array.isArray(r)?r.slice(0,2).join(", "):r}),s.jsx("h3",{className:"text-subtitle font-[var(--font-weight-semibold)] mb-1 line-clamp-2",style:{color:w?"#D4AF37":"var(--color-fg-primary)",transition:"color 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)"},children:t}),o>0&&s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(D=>s.jsx(jC,{size:12,className:je("transition-colors duration-fast",D<=o?"fill-yellow-400 text-yellow-400":"text-gray-300")},D))}),s.jsxs("span",{className:"text-caption text-[var(--color-fg-muted)]",children:["(",l,")"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-body font-[var(--font-weight-medium)] text-[var(--color-fg-primary)]",children:["",Math.min(...Object.values(n))," - ",Math.max(...Object.values(n))]}),s.jsx("div",{className:"text-caption text-[var(--color-fg-muted)]",children:"from 10ml"})]})]})]})},QC=()=>{var h;const{brand_id:e}=Mm(),[t,r]=j.useState("best_selling"),n=q(v=>v.show_notification),a=()=>"https://123luxury-fragrance-brand.launchpulse.ai",{data:i,isLoading:o,error:l}=ce({queryKey:["brand",e],queryFn:async()=>(await ee.get(`${a()}/api/brands/${e}`)).data,enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1}),{data:c,isLoading:d}=ce({queryKey:["brandProducts",e,t],queryFn:async()=>(await ee.get(`${a()}/api/products`,{params:{brand_ids:e,sort_by:t,page:1,per_page:50}})).data,enabled:!!e,staleTime:6e4,refetchOnWindowFocus:!1}),u=(c==null?void 0:c.data)||[],m=((h=c==null?void 0:c.pagination)==null?void 0:h.total)||0;return e?o?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):l||!i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brand Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The brand you're looking for doesn't exist."}),s.jsx(V,{to:"/products",className:"text-purple-600 hover:text-purple-500",children:"Browse All Products"})]})}):s.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-primary)]",children:[s.jsx("nav",{className:"nocturne-container py-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-[var(--color-fg-secondary)]",children:[s.jsx(V,{to:"/",className:"hover:text-[var(--color-interactive-primary)]",children:"Home"}),s.jsx("span",{children:"/"}),s.jsx(V,{to:"/products",className:"hover:text-[var(--color-interactive-primary)]",children:"Brands"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-[var(--color-fg-primary)]",children:i.brand_name})]})}),s.jsx("section",{className:"bg-gradient-to-br from-[var(--nocturne-onyx)] via-[var(--nocturne-warm-taupe)] to-[var(--nocturne-onyx)] text-[var(--nocturne-porcelain)] py-16",children:s.jsx("div",{className:"nocturne-container",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[i.logo_url&&s.jsx("div",{className:"flex items-center justify-center bg-white/10 backdrop-blur-sm rounded-[var(--radius-xl)] p-12",children:s.jsx(rt,{src:i.logo_url,alt:`${i.brand_name} logo`,productName:i.brand_name,aspectRatio:"auto",objectFit:"contain",className:"w-full h-auto max-w-[400px]"})}),s.jsxs("div",{className:i.logo_url?"":"md:col-span-2 text-center max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center md:justify-start",children:[s.jsx("h1",{className:"text-h1 font-[var(--font-heading)] font-[var(--text-h1-weight)] tracking-[var(--text-h1-spacing)]",children:i.brand_name}),i.is_niche_brand&&s.jsx(Vr,{variant:"success",className:"text-sm",children:"Niche Brand"})]}),i.country_origin&&s.jsxs("div",{className:"flex items-center gap-2 mb-6 text-[var(--nocturne-champagne)] justify-center md:justify-start",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{className:"text-subtitle",children:i.country_origin})]}),i.description&&s.jsx("p",{className:"text-subtitle text-[var(--nocturne-champagne)] mb-6 leading-relaxed",children:i.description}),s.jsx("div",{className:"flex items-center gap-6 text-body text-[var(--nocturne-porcelain)]/80 justify-center md:justify-start",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsxs("span",{children:[m," ",m===1?"Product":"Products"]})]})})]})]})})}),i.heritage_story&&s.jsx("section",{className:"py-16 bg-[var(--color-bg-secondary)]",children:s.jsxs("div",{className:"nocturne-container max-w-4xl",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] mb-8 text-center tracking-[var(--text-h2-spacing)]",children:"Our Heritage"}),s.jsx("div",{className:"prose prose-lg max-w-none",children:s.jsx("p",{className:"text-body text-[var(--color-fg-secondary)] leading-relaxed",children:i.heritage_story})})]})}),s.jsx("section",{className:"py-16 bg-[var(--color-bg-primary)]",children:s.jsxs("div",{className:"nocturne-container",children:[s.jsxs("div",{className:"flex items-center justify-between mb-12",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] text-[var(--color-fg-primary)] tracking-[var(--text-h2-spacing)]",children:"Our Collection"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{htmlFor:"sort",className:"text-body text-[var(--color-fg-secondary)]",children:"Sort by:"}),s.jsxs("select",{id:"sort",value:t,onChange:v=>r(v.target.value),className:"border border-[var(--color-border-primary)] rounded-[var(--radius-md)] px-4 py-2 text-body focus:ring-2 focus:ring-[var(--color-interactive-primary)] focus:border-[var(--color-interactive-primary)]",children:[s.jsx("option",{value:"best_selling",children:"Best Selling"}),s.jsx("option",{value:"price_low_high",children:"Price: Low to High"}),s.jsx("option",{value:"price_high_low",children:"Price: High to Low"}),s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"name_asc",children:"Name: A-Z"})]})]})]}),d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-body text-[var(--color-fg-secondary)]",children:"No products available for this brand at the moment."})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:u.map((v,g)=>{var x,_;const b=((_=(x=v.images)==null?void 0:x.find(w=>w))==null?void 0:_.image_url)||"/images/fallback-perfume-bottle.png",f=[];v.is_new_arrival&&f.push("new"),v.is_featured&&f.push("bestseller"),v.is_limited_edition&&f.push("limited");const p=Number(v.base_price||0),y={"10ml":Math.round(p*.3),"50ml":p,"100ml":Math.round(p*1.8)};return s.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${g*50}ms`},children:s.jsx(HC,{id:v.product_id,name:v.product_name,family:v.fragrance_families||"Fragrance",price:y,image:b,rating:4.5,reviewCount:0,badges:f,brandName:i.brand_name,brandLogo:i.logo_url||void 0,onQuickAdd:(w,S)=>{console.log(`Quick add ${w} in ${S}`),n({type:"success",message:`Added ${v.product_name} (${S}) to cart!`,title:"Added to Cart",auto_dismiss:!0,duration:3e3})},onClick:w=>{window.location.href=`/products/${w}`}})},v.product_id)})})]})}),s.jsx("section",{className:"py-16 bg-[var(--nocturne-onyx)] text-[var(--nocturne-porcelain)]",children:s.jsxs("div",{className:"nocturne-container text-center",children:[s.jsx("h2",{className:"text-h2 font-[var(--font-heading)] font-[var(--text-h2-weight)] mb-6 tracking-[var(--text-h2-spacing)]",children:"Discover More Brands"}),s.jsx("p",{className:"text-subtitle text-[var(--nocturne-champagne)] mb-8 max-w-2xl mx-auto",children:"Explore our curated selection of luxury fragrance houses from around the world"}),s.jsx(mr,{size:"lg",variant:"outline",asChild:!0,children:s.jsx(V,{to:"/products",children:"Browse All Fragrances"})})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Brand Not Found"}),s.jsx(V,{to:"/products",className:"text-purple-600 hover:text-purple-500",children:"Browse All Products"})]})})},KC=()=>s.jsx("div",{className:"min-h-[calc(100vh-var(--nav-height)-var(--footer-height))] flex items-center justify-center bg-gradient-to-b from-white to-gray-50 px-4",children:s.jsxs("div",{className:"max-w-2xl w-full text-center space-y-8 py-16",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-9xl font-bold text-gray-200 select-none",children:"404"}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-3xl font-serif font-semibold text-gray-900",children:"Not Found"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-8",children:[s.jsx(V,{to:"/",className:"inline-flex items-center justify-center px-8 py-3 bg-black text-white hover:bg-gray-800 transition-colors rounded-sm font-medium min-w-[200px]",children:"Return Home"}),s.jsx(V,{to:"/products",className:"inline-flex items-center justify-center px-8 py-3 bg-white text-black border border-gray-300 hover:bg-gray-50 transition-colors rounded-sm font-medium min-w-[200px]",children:"Shop Collection"})]}),s.jsxs("div",{className:"pt-12 border-t border-gray-200 mt-12",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Popular Pages"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[s.jsx(V,{to:"/fragrance-finder",className:"text-gray-700 hover:text-black transition-colors",children:"Fragrance Finder"}),s.jsx("span",{className:"text-gray-300",children:"|"}),s.jsx(V,{to:"/about",className:"text-gray-700 hover:text-black transition-colors",children:"About Us"}),s.jsx("span",{className:"text-gray-300",children:"|"}),s.jsx(V,{to:"/contact",className:"text-gray-700 hover:text-black transition-colors",children:"Contact"}),s.jsx("span",{className:"text-gray-300",children:"|"}),s.jsx(V,{to:"/support",className:"text-gray-700 hover:text-black transition-colors",children:"Support"})]})]})]})}),GC=new cN({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),o1=()=>s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),vn=({children:e})=>{const t=q(n=>n.authentication_state.authentication_status.is_authenticated);return q(n=>n.authentication_state.authentication_status.is_loading)?s.jsx(o1,{}):t?s.jsx(s.Fragment,{children:e}):s.jsx(Cw,{to:"/login",replace:!0})},YC=()=>{const e=Vs();return s.jsx(dn,{mode:"wait",initial:!1,children:s.jsxs(Pw,{location:e,children:[s.jsx(Ne,{path:"/",element:s.jsx(ke,{children:s.jsx(hC,{})})}),s.jsx(Ne,{path:"/products",element:s.jsx(ke,{children:s.jsx(pC,{})})}),s.jsx(Ne,{path:"/products/:product_id",element:s.jsx(ke,{children:s.jsx(wC,{})})}),s.jsx(Ne,{path:"/brands/:brand_id",element:s.jsx(ke,{children:s.jsx(QC,{})})}),s.jsx(Ne,{path:"/search",element:s.jsx(ke,{children:s.jsx(RC,{})})}),s.jsx(Ne,{path:"/cart",element:s.jsx(ke,{children:s.jsx(NC,{})})}),s.jsx(Ne,{path:"/checkout",element:s.jsx(ke,{children:s.jsx(_C,{})})}),s.jsx(Ne,{path:"/login",element:s.jsx(ke,{children:s.jsx(J0,{})})}),s.jsx(Ne,{path:"/sign-in",element:s.jsx(ke,{children:s.jsx(J0,{})})}),s.jsx(Ne,{path:"/fragrance-finder",element:s.jsx(ke,{children:s.jsx(AC,{})})}),s.jsx(Ne,{path:"/samples",element:s.jsx(ke,{children:s.jsx(EC,{})})}),s.jsx(Ne,{path:"/gifts",element:s.jsx(ke,{children:s.jsx(TC,{})})}),s.jsx(Ne,{path:"/support",element:s.jsx(ke,{children:s.jsx(MC,{})})}),s.jsx(Ne,{path:"/track-order",element:s.jsx(ke,{children:s.jsx(X0,{})})}),s.jsx(Ne,{path:"/about",element:s.jsx(ke,{children:s.jsx(BC,{})})}),s.jsx(Ne,{path:"/journal",element:s.jsx(ke,{children:s.jsx(Z0,{})})}),s.jsx(Ne,{path:"/journal/:article_id",element:s.jsx(ke,{children:s.jsx(Z0,{})})}),s.jsx(Ne,{path:"/faq",element:s.jsx(ke,{children:s.jsx(IC,{})})}),s.jsx(Ne,{path:"/contact",element:s.jsx(ke,{children:s.jsx($C,{})})}),s.jsx(Ne,{path:"/account",element:s.jsx(ke,{children:s.jsx(vn,{children:s.jsx(FC,{})})})}),s.jsx(Ne,{path:"/wishlist",element:s.jsx(ke,{children:s.jsx(vn,{children:s.jsx(PC,{})})})}),s.jsx(Ne,{path:"/orders/:order_id",element:s.jsx(ke,{children:s.jsx(vn,{children:s.jsx(X0,{})})})}),s.jsx(Ne,{path:"/account/profile",element:s.jsx(ke,{children:s.jsx(vn,{children:s.jsx(OC,{})})})}),s.jsx(Ne,{path:"/account/orders",element:s.jsx(ke,{children:s.jsx(vn,{children:s.jsx(zC,{})})})}),s.jsx(Ne,{path:"/order-confirmation",element:s.jsx(ke,{children:s.jsx(vn,{children:s.jsx(DC,{})})})}),s.jsx(Ne,{path:"*",element:s.jsx(ke,{children:s.jsx(KC,{})})})]},e.pathname)})},JC=()=>{const e=q(l=>l.authentication_state.authentication_status.is_loading),t=q(l=>l.initialize_auth),r=q(l=>l.ui_state.search_overlay_open),n=q(l=>l.ui_state.cart_dropdown_open),a=q(l=>l.ui_state.account_dropdown_open),i=q(l=>l.ui_state.mobile_menu_open),o=q(l=>l.ui_state.current_breakpoint);return j.useEffect(()=>{t()},[t]),e?s.jsx(o1,{}):s.jsx(Ow,{children:s.jsx(dN,{client:GC,children:s.jsxs("div",{className:"App min-h-screen flex flex-col relative bg-white",children:[s.jsx(bS,{}),(o==="mobile"||i)&&s.jsx(wS,{}),r&&s.jsx("div",{className:"fixed inset-0 z-50",children:s.jsx(NS,{})}),n&&s.jsx("div",{className:"fixed top-[var(--nav-height)] right-4 z-40",children:s.jsx(iC,{})}),a&&s.jsx("div",{className:"fixed top-[var(--nav-height)] right-4 z-40",children:s.jsx(cC,{})}),s.jsx(dC,{}),s.jsx("main",{className:"flex-1",style:{paddingTop:"var(--nav-height)"},children:s.jsx(YC,{})}),s.jsx(jS,{})]})})})},XC=()=>s.jsx(s.Fragment,{children:s.jsx(JC,{})});Ny(document.getElementById("root")).render(s.jsx(XC,{}));
